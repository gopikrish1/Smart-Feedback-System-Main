var rw=Object.defineProperty;var aw=(n,t,e)=>t in n?rw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Dt=(n,t,e)=>aw(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function ow(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fg={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function lw(){if(i0)return Bl;i0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return Bl.Fragment=t,Bl.jsx=e,Bl.jsxs=e,Bl}var s0;function uw(){return s0||(s0=1,Fg.exports=lw()),Fg.exports}var ct=uw(),qg={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function cw(){if(r0)return Mt;r0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=v&&P[v]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function D(P,et,ht){this.props=P,this.context=et,this.refs=M,this.updater=ht||S}D.prototype.isReactComponent={},D.prototype.setState=function(P,et){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,et,"setState")},D.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function V(){}V.prototype=D.prototype;function B(P,et,ht){this.props=P,this.context=et,this.refs=M,this.updater=ht||S}var U=B.prototype=new V;U.constructor=B,A(U,D.prototype),U.isPureReactComponent=!0;var Q=Array.isArray,W={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function N(P,et,ht,ot,at,yt){return ht=yt.ref,{$$typeof:n,type:P,key:et,ref:ht!==void 0?ht:null,props:yt}}function x(P,et){return N(P.type,et,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function O(P){var et={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ht){return et[ht]})}var L=/\/+/g;function z(P,et){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):et.toString(36)}function I(){}function Ct(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(et){P.status==="pending"&&(P.status="fulfilled",P.value=et)},function(et){P.status==="pending"&&(P.status="rejected",P.reason=et)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function vt(P,et,ht,ot,at){var yt=typeof P;(yt==="undefined"||yt==="boolean")&&(P=null);var _t=!1;if(P===null)_t=!0;else switch(yt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(P.$$typeof){case n:case t:_t=!0;break;case y:return _t=P._init,vt(_t(P._payload),et,ht,ot,at)}}if(_t)return at=at(P),_t=ot===""?"."+z(P,0):ot,Q(at)?(ht="",_t!=null&&(ht=_t.replace(L,"$&/")+"/"),vt(at,et,ht,"",function(de){return de})):at!=null&&(R(at)&&(at=x(at,ht+(at.key==null||P&&P.key===at.key?"":(""+at.key).replace(L,"$&/")+"/")+_t)),et.push(at)),1;_t=0;var ne=ot===""?".":ot+":";if(Q(P))for(var Pt=0;Pt<P.length;Pt++)ot=P[Pt],yt=ne+z(ot,Pt),_t+=vt(ot,et,ht,yt,at);else if(Pt=b(P),typeof Pt=="function")for(P=Pt.call(P),Pt=0;!(ot=P.next()).done;)ot=ot.value,yt=ne+z(ot,Pt++),_t+=vt(ot,et,ht,yt,at);else if(yt==="object"){if(typeof P.then=="function")return vt(Ct(P),et,ht,ot,at);throw et=String(P),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return _t}function it(P,et,ht){if(P==null)return P;var ot=[],at=0;return vt(P,ot,"","",function(yt){return et.call(ht,yt,at++)}),ot}function ut(P){if(P._status===-1){var et=P._result;et=et(),et.then(function(ht){(P._status===0||P._status===-1)&&(P._status=1,P._result=ht)},function(ht){(P._status===0||P._status===-1)&&(P._status=2,P._result=ht)}),P._status===-1&&(P._status=0,P._result=et)}if(P._status===1)return P._result.default;throw P._result}var ft=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Et(){}return Mt.Children={map:it,forEach:function(P,et,ht){it(P,function(){et.apply(this,arguments)},ht)},count:function(P){var et=0;return it(P,function(){et++}),et},toArray:function(P){return it(P,function(et){return et})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Mt.Component=D,Mt.Fragment=e,Mt.Profiler=a,Mt.PureComponent=B,Mt.StrictMode=s,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Mt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Mt.cache=function(P){return function(){return P.apply(null,arguments)}},Mt.cloneElement=function(P,et,ht){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ot=A({},P.props),at=P.key,yt=void 0;if(et!=null)for(_t in et.ref!==void 0&&(yt=void 0),et.key!==void 0&&(at=""+et.key),et)!rt.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(ot[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)ot.children=ht;else if(1<_t){for(var ne=Array(_t),Pt=0;Pt<_t;Pt++)ne[Pt]=arguments[Pt+2];ot.children=ne}return N(P.type,at,void 0,void 0,yt,ot)},Mt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Mt.createElement=function(P,et,ht){var ot,at={},yt=null;if(et!=null)for(ot in et.key!==void 0&&(yt=""+et.key),et)rt.call(et,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(at[ot]=et[ot]);var _t=arguments.length-2;if(_t===1)at.children=ht;else if(1<_t){for(var ne=Array(_t),Pt=0;Pt<_t;Pt++)ne[Pt]=arguments[Pt+2];at.children=ne}if(P&&P.defaultProps)for(ot in _t=P.defaultProps,_t)at[ot]===void 0&&(at[ot]=_t[ot]);return N(P,yt,void 0,void 0,null,at)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(P){return{$$typeof:h,render:P}},Mt.isValidElement=R,Mt.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:ut}},Mt.memo=function(P,et){return{$$typeof:m,type:P,compare:et===void 0?null:et}},Mt.startTransition=function(P){var et=W.T,ht={};W.T=ht;try{var ot=P(),at=W.S;at!==null&&at(ht,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Et,ft)}catch(yt){ft(yt)}finally{W.T=et}},Mt.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Mt.use=function(P){return W.H.use(P)},Mt.useActionState=function(P,et,ht){return W.H.useActionState(P,et,ht)},Mt.useCallback=function(P,et){return W.H.useCallback(P,et)},Mt.useContext=function(P){return W.H.useContext(P)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(P,et){return W.H.useDeferredValue(P,et)},Mt.useEffect=function(P,et){return W.H.useEffect(P,et)},Mt.useId=function(){return W.H.useId()},Mt.useImperativeHandle=function(P,et,ht){return W.H.useImperativeHandle(P,et,ht)},Mt.useInsertionEffect=function(P,et){return W.H.useInsertionEffect(P,et)},Mt.useLayoutEffect=function(P,et){return W.H.useLayoutEffect(P,et)},Mt.useMemo=function(P,et){return W.H.useMemo(P,et)},Mt.useOptimistic=function(P,et){return W.H.useOptimistic(P,et)},Mt.useReducer=function(P,et,ht){return W.H.useReducer(P,et,ht)},Mt.useRef=function(P){return W.H.useRef(P)},Mt.useState=function(P){return W.H.useState(P)},Mt.useSyncExternalStore=function(P,et,ht){return W.H.useSyncExternalStore(P,et,ht)},Mt.useTransition=function(){return W.H.useTransition()},Mt.version="19.0.0",Mt}var a0;function Zm(){return a0||(a0=1,qg.exports=cw()),qg.exports}var Y=Zm();const Zt=ow(Y);var Gg={exports:{}},Hl={},Yg={exports:{}},$g={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function hw(){return o0||(o0=1,function(n){function t(it,ut){var ft=it.length;it.push(ut);t:for(;0<ft;){var Et=ft-1>>>1,P=it[Et];if(0<a(P,ut))it[Et]=ut,it[ft]=P,ft=Et;else break t}}function e(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var ut=it[0],ft=it.pop();if(ft!==ut){it[0]=ft;t:for(var Et=0,P=it.length,et=P>>>1;Et<et;){var ht=2*(Et+1)-1,ot=it[ht],at=ht+1,yt=it[at];if(0>a(ot,ft))at<P&&0>a(yt,ot)?(it[Et]=yt,it[at]=ft,Et=at):(it[Et]=ot,it[ht]=ft,Et=ht);else if(at<P&&0>a(yt,ft))it[Et]=yt,it[at]=ft,Et=at;else break t}}return ut}function a(it,ut){var ft=it.sortIndex-ut.sortIndex;return ft!==0?ft:it.id-ut.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,v=null,b=3,S=!1,A=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function U(it){for(var ut=e(m);ut!==null;){if(ut.callback===null)s(m);else if(ut.startTime<=it)s(m),ut.sortIndex=ut.expirationTime,t(d,ut);else break;ut=e(m)}}function Q(it){if(M=!1,U(it),!A)if(e(d)!==null)A=!0,Ct();else{var ut=e(m);ut!==null&&vt(Q,ut.startTime-it)}}var W=!1,rt=-1,N=5,x=-1;function R(){return!(n.unstable_now()-x<N)}function O(){if(W){var it=n.unstable_now();x=it;var ut=!0;try{t:{A=!1,M&&(M=!1,V(rt),rt=-1),S=!0;var ft=b;try{e:{for(U(it),v=e(d);v!==null&&!(v.expirationTime>it&&R());){var Et=v.callback;if(typeof Et=="function"){v.callback=null,b=v.priorityLevel;var P=Et(v.expirationTime<=it);if(it=n.unstable_now(),typeof P=="function"){v.callback=P,U(it),ut=!0;break e}v===e(d)&&s(d),U(it)}else s(d);v=e(d)}if(v!==null)ut=!0;else{var et=e(m);et!==null&&vt(Q,et.startTime-it),ut=!1}}break t}finally{v=null,b=ft,S=!1}ut=void 0}}finally{ut?L():W=!1}}}var L;if(typeof B=="function")L=function(){B(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,I=z.port2;z.port1.onmessage=O,L=function(){I.postMessage(null)}}else L=function(){D(O,0)};function Ct(){W||(W=!0,L())}function vt(it,ut){rt=D(function(){it(n.unstable_now())},ut)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_continueExecution=function(){A||S||(A=!0,Ct())},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(d)},n.unstable_next=function(it){switch(b){case 1:case 2:case 3:var ut=3;break;default:ut=b}var ft=b;b=ut;try{return it()}finally{b=ft}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(it,ut){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var ft=b;b=it;try{return ut()}finally{b=ft}},n.unstable_scheduleCallback=function(it,ut,ft){var Et=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Et+ft:Et):ft=Et,it){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ft+P,it={id:y++,callback:ut,priorityLevel:it,startTime:ft,expirationTime:P,sortIndex:-1},ft>Et?(it.sortIndex=ft,t(m,it),e(d)===null&&it===e(m)&&(M?(V(rt),rt=-1):M=!0,vt(Q,ft-Et))):(it.sortIndex=P,t(d,it),A||S||(A=!0,Ct())),it},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(it){var ut=b;return function(){var ft=b;b=ut;try{return it.apply(this,arguments)}finally{b=ft}}}}($g)),$g}var l0;function fw(){return l0||(l0=1,Yg.exports=hw()),Yg.exports}var Qg={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function dw(){if(u0)return sn;u0=1;var n=Zm();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(d,m,null,y)},sn.flushSync=function(d){var m=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=m,s.p=y,s.d.f()}},sn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},sn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},sn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:b,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},sn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},sn.requestFormReset=function(d){s.d.r(d)},sn.unstable_batchedUpdates=function(d,m){return d(m)},sn.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var c0;function gw(){if(c0)return Qg.exports;c0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qg.exports=dw(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function mw(){if(h0)return Hl;h0=1;var n=fw(),t=Zm(),e=gw();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function x(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case d:return"Fragment";case h:return"Portal";case y:return"Profiler";case m:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case b:return(i._context.displayName||"Context")+".Consumer";case A:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return r=i.displayName||null,r!==null?r:x(i.type)||"Memo";case B:r=i._payload,i=i._init;try{return x(i(r))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,L,z;function I(i){if(L===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",z=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+z}var Ct=!1;function vt(i,r){if(!i||Ct)return"";Ct=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(X){var $=X}Reflect.construct(i,[],st)}else{try{st.call()}catch(X){$=X}i.call(st.prototype)}}else{try{throw Error()}catch(X){$=X}(st=i())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],w=p[1];if(T&&w){var k=T.split(`
`),j=w.split(`
`);for(g=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;g<j.length&&!j[g].includes("DetermineComponentFrameRoot");)g++;if(c===k.length||g===j.length)for(c=k.length-1,g=j.length-1;1<=c&&0<=g&&k[c]!==j[g];)g--;for(;1<=c&&0<=g;c--,g--)if(k[c]!==j[g]){if(c!==1||g!==1)do if(c--,g--,0>g||k[c]!==j[g]){var Z=`
`+k[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=g);break}}}finally{Ct=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?I(l):""}function it(i){switch(i.tag){case 26:case 27:case 5:return I(i.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return i=vt(i.type,!1),i;case 11:return i=vt(i.type.render,!1),i;case 1:return i=vt(i.type,!0),i;default:return""}}function ut(i){try{var r="";do r+=it(i),i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ft(i){var r=i,l=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(l=r.return),i=r.return;while(i)}return r.tag===3?l:null}function Et(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function P(i){if(ft(i)!==i)throw Error(s(188))}function et(i){var r=i.alternate;if(!r){if(r=ft(i),r===null)throw Error(s(188));return r!==i?null:i}for(var l=i,c=r;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return P(g),i;if(p===c)return P(g),r;p=p.sibling}throw Error(s(188))}if(l.return!==c.return)l=g,c=p;else{for(var T=!1,w=g.child;w;){if(w===l){T=!0,l=g,c=p;break}if(w===c){T=!0,c=g,l=p;break}w=w.sibling}if(!T){for(w=p.child;w;){if(w===l){T=!0,l=p,c=g;break}if(w===c){T=!0,c=p,l=g;break}w=w.sibling}if(!T)throw Error(s(189))}}if(l.alternate!==c)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?i:r}function ht(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=ht(i),r!==null)return r;i=i.sibling}return null}var ot=Array.isArray,at=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},_t=[],ne=-1;function Pt(i){return{current:i}}function de(i){0>ne||(i.current=_t[ne],_t[ne]=null,ne--)}function Xt(i,r){ne++,_t[ne]=i.current,i.current=r}var cn=Pt(null),Li=Pt(null),kn=Pt(null),bs=Pt(null);function Es(i,r){switch(Xt(kn,r),Xt(Li,i),Xt(cn,null),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Iv(r):0;break;default:if(i=i===8?r.parentNode:r,r=i.tagName,i=i.namespaceURI)i=Iv(i),r=Vv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}de(cn),Xt(cn,r)}function Pi(){de(cn),de(Li),de(kn)}function ko(i){i.memoizedState!==null&&Xt(bs,i);var r=cn.current,l=Vv(r,i.type);r!==l&&(Xt(Li,i),Xt(cn,l))}function ya(i){Li.current===i&&(de(cn),de(Li)),bs.current===i&&(de(bs),kl._currentValue=yt)}var _a=Object.prototype.hasOwnProperty,Tr=n.unstable_scheduleCallback,va=n.unstable_cancelCallback,Gf=n.unstable_shouldYield,Lo=n.unstable_requestPaint,_n=n.unstable_now,Yu=n.unstable_getCurrentPriorityLevel,De=n.unstable_ImmediatePriority,ze=n.unstable_UserBlockingPriority,zi=n.unstable_NormalPriority,$u=n.unstable_LowPriority,Po=n.unstable_IdlePriority,Yf=n.log,Sr=n.unstable_setDisableYieldValue,Ts=null,en=null;function zo(i){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ts,i,void 0,(i.current.flags&128)===128)}catch{}}function ui(i){if(typeof Yf=="function"&&Sr(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Ts,i)}catch{}}var hn=Math.clz32?Math.clz32:Ku,Uo=Math.log,Qu=Math.LN2;function Ku(i){return i>>>=0,i===0?32:31-(Uo(i)/Qu|0)|0}var ci=128,Ss=4194304;function ei(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ln(i,r){var l=i.pendingLanes;if(l===0)return 0;var c=0,g=i.suspendedLanes,p=i.pingedLanes,T=i.warmLanes;i=i.finishedLanes!==0;var w=l&134217727;return w!==0?(l=w&~g,l!==0?c=ei(l):(p&=w,p!==0?c=ei(p):i||(T=w&~T,T!==0&&(c=ei(T))))):(w=l&~g,w!==0?c=ei(w):p!==0?c=ei(p):i||(T=l&~T,T!==0&&(c=ei(T)))),c===0?0:r!==0&&r!==c&&(r&g)===0&&(g=c&-c,T=r&-r,g>=T||g===32&&(T&4194176)!==0)?r:c}function As(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function ba(i,r){switch(i){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var i=ci;return ci<<=1,(ci&4194176)===0&&(ci=128),i}function ws(){var i=Ss;return Ss<<=1,(Ss&62914560)===0&&(Ss=4194304),i}function Ea(i){for(var r=[],l=0;31>l;l++)r.push(i);return r}function _e(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xu(i,r,l,c,g,p){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var w=i.entanglements,k=i.expirationTimes,j=i.hiddenUpdates;for(l=T&~l;0<l;){var Z=31-hn(l),st=1<<Z;w[Z]=0,k[Z]=-1;var $=j[Z];if($!==null)for(j[Z]=null,Z=0;Z<$.length;Z++){var X=$[Z];X!==null&&(X.lane&=-536870913)}l&=~st}c!==0&&xs(i,c,0),p!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=p&~(T&~r))}function xs(i,r,l){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-hn(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194218}function Rs(i,r){var l=i.entangledLanes|=r;for(i=i.entanglements;l;){var c=31-hn(l),g=1<<c;g&r|i[c]&r&&(i[c]|=r),l&=~g}}function Wu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zu(){var i=at.p;return i!==0?i:(i=window.event,i===void 0?32:Wv(i.type))}function Cs(i,r){var l=at.p;try{return at.p=i,r()}finally{at.p=l}}var hi=Math.random().toString(36).slice(2),Ue="__reactFiber$"+hi,Me="__reactProps$"+hi,Ui="__reactContainer$"+hi,Ar="__reactEvents$"+hi,Ta="__reactListeners$"+hi,fi="__reactHandles$"+hi,Ho="__reactResources$"+hi,Ds="__reactMarker$"+hi;function wr(i){delete i[Ue],delete i[Me],delete i[Ar],delete i[Ta],delete i[fi]}function ni(i){var r=i[Ue];if(r)return r;for(var l=i.parentNode;l;){if(r=l[Ui]||l[Ue]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(i=Lv(i);i!==null;){if(l=i[Ue])return l;i=Lv(i)}return r}i=l,l=i.parentNode}return null}function Bi(i){if(i=i[Ue]||i[Ui]){var r=i.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return i}return null}function Ms(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Os(i){var r=i[Ho];return r||(r=i[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function le(i){i[Ds]=!0}var jo=new Set,Sa={};function wn(i,r){vn(i,r),vn(i+"Capture",r)}function vn(i,r){for(Sa[i]=r,i=0;i<r.length;i++)jo.add(r[i])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},qo={};function Ju(i){return _a.call(qo,i)?!0:_a.call(Fo,i)?!1:$f.test(i)?qo[i]=!0:(Fo[i]=!0,!1)}function Is(i,r,l){if(Ju(r))if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+l)}}function Vs(i,r,l){if(l===null)i.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+l)}}function Pn(i,r,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(r,l,""+c)}}function fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function tc(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Qf(i){var r=tc(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),c=""+i[r];if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,p=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return g.call(this)},set:function(T){c=""+T,p.call(this,T)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function xr(i){i._valueTracker||(i._valueTracker=Qf(i))}function Go(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return i&&(c=tc(i)?i.checked?"true":"false":i.value),i=c,i!==l?(r.setValue(i),!0):!1}function Aa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Hi=/[\n"\\]/g;function ge(i){return i.replace(Hi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ns(i,r,l,c,g,p,T,w){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),r!=null?T==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+fn(r)):i.value!==""+fn(r)&&(i.value=""+fn(r)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),r!=null?wa(i,T,fn(r)):l!=null?wa(i,T,fn(l)):c!=null&&i.removeAttribute("value"),g==null&&p!=null&&(i.defaultChecked=!!p),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+fn(w):i.removeAttribute("name")}function Rr(i,r,l,c,g,p,T,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;l=l!=null?""+fn(l):"",r=r!=null?""+fn(r):l,w||r===i.value||(i.value=r),i.defaultValue=r}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function wa(i,r,l){r==="number"&&Aa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Ft(i,r,l,c){if(i=i.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=r.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+fn(l),r=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}r!==null||i[g].disabled||(r=i[g])}r!==null&&(r.selected=!0)}}function Cr(i,r,l){if(r!=null&&(r=""+fn(r),r!==i.value&&(i.value=r),l==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=l!=null?""+fn(l):""}function ks(i,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(s(92));if(ot(c)){if(1<c.length)throw Error(s(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=fn(r),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function zn(i,r){if(r){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=r;return}}i.textContent=r}var Kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(i,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,l):typeof l!="number"||l===0||Kf.has(r)?r==="float"?i.cssFloat=l:i[r]=(""+l).trim():i[r]=l+"px"}function ec(i,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in r)c=r[g],r.hasOwnProperty(g)&&l[g]!==c&&Yo(i,g,c)}else for(var p in r)r.hasOwnProperty(p)&&Yo(i,p,r[p])}function $o(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(i){return Wf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Un=null;function xa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ji=null,Fi=null;function qi(i){var r=Bi(i);if(r&&(i=r.stateNode)){var l=i[Me]||null;t:switch(i=r.stateNode,r.type){case"input":if(Ns(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ge(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==i&&c.form===i.form){var g=c[Me]||null;if(!g)throw Error(s(90));Ns(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===i.form&&Go(c)}break t;case"textarea":Cr(i,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ft(i,!!l.multiple,r,!1)}}}var Qo=!1;function nc(i,r,l){if(Qo)return i(r,l);Qo=!0;try{var c=i(r);return c}finally{if(Qo=!1,(ji!==null||Fi!==null)&&($c(),ji&&(r=ji,i=Fi,Fi=ji=null,qi(r),i)))for(r=0;r<i.length;r++)qi(i[r])}}function Dr(i,r){var l=i.stateNode;if(l===null)return null;var c=l[Me]||null;if(c===null)return null;l=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Bn=!1;if(xn)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Bn=!1}var gi=null,Ls=null,Gi=null;function Ko(){if(Gi)return Gi;var i,r=Ls,l=r.length,c,g="value"in gi?gi.value:gi.textContent,p=g.length;for(i=0;i<l&&r[i]===g[i];i++);var T=l-i;for(c=1;c<=T&&r[l-c]===g[p-c];c++);return Gi=g.slice(i,1<c?1-c:void 0)}function mi(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function pi(){return!0}function Xo(){return!1}function Be(i){function r(l,c,g,p,T){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(l=i[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pi:Xo,this.isPropagationStopped=Xo,this}return O(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var $t={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Be($t),Or=O({},$t,{view:0,detail:0}),ic=Be(Or),Ca,Da,yi,Ir=O({},Or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yi&&(yi&&i.type==="mousemove"?(Ca=i.screenX-yi.screenX,Da=i.screenY-yi.screenY):Da=Ca=0,yi=i),Ca)},movementY:function(i){return"movementY"in i?i.movementY:Da}}),Hn=Be(Ir),sc=O({},Ir,{dataTransfer:0}),Zf=Be(sc),Vr=O({},Or,{relatedTarget:0}),Ma=Be(Vr),Wo=O({},$t,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Be(Wo),rc=O({},$t,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ia=Be(rc),Jf=O({},$t,{data:0}),Zo=Be(Jf),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ac={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=oc[i])?!!r[i]:!1}function kr(){return Jo}var lc=O({},Or,{key:function(i){if(i.key){var r=Nr[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=mi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ac[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(i){return i.type==="keypress"?mi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Va=Be(lc),uc=O({},Ir,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Be(uc),Yi=O({},Or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),cc=Be(Yi),hc=O({},$t,{propertyName:0,elapsedTime:0,pseudoElement:0}),fc=Be(hc),dc=O({},Ir,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Be(dc),dn=O({},$t,{newState:0,oldState:0}),gc=Be(dn),mc=[9,13,27,32],_i=xn&&"CompositionEvent"in window,f=null;xn&&"documentMode"in document&&(f=document.documentMode);var _=xn&&"TextEvent"in window&&!f,E=xn&&(!_i||f&&8<f&&11>=f),C=" ",q=!1;function K(i,r){switch(i){case"keyup":return mc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zt=!1;function Oe(i,r){switch(i){case"compositionend":return lt(r);case"keypress":return r.which!==32?null:(q=!0,C);case"textInput":return i=r.data,i===C&&q?null:i;default:return null}}function Ut(i,r){if(zt)return i==="compositionend"||!_i&&K(i,r)?(i=Ko(),Gi=Ls=gi=null,zt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ie(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!He[i.type]:r==="textarea"}function $i(i,r,l,c){ji?Fi?Fi.push(c):Fi=[c]:ji=c,r=Zc(r,"onChange"),0<r.length&&(l=new Ra("onChange","change",null,l,c),i.push({event:l,listeners:r}))}var $e=null,vi=null;function el(i){Rv(i,0)}function pc(i){var r=Ms(i);if(Go(r))return i}function ny(i,r){if(i==="change")return r}var iy=!1;if(xn){var td;if(xn){var ed="oninput"in document;if(!ed){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),ed=typeof sy.oninput=="function"}td=ed}else td=!1;iy=td&&(!document.documentMode||9<document.documentMode)}function ry(){$e&&($e.detachEvent("onpropertychange",ay),vi=$e=null)}function ay(i){if(i.propertyName==="value"&&pc(vi)){var r=[];$i(r,vi,i,xa(i)),nc(el,r)}}function kS(i,r,l){i==="focusin"?(ry(),$e=r,vi=l,$e.attachEvent("onpropertychange",ay)):i==="focusout"&&ry()}function LS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(vi)}function PS(i,r){if(i==="click")return pc(r)}function zS(i,r){if(i==="input"||i==="change")return pc(r)}function US(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:US;function nl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var l=Object.keys(i),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!_a.call(r,g)||!Rn(i[g],r[g]))return!1}return!0}function oy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ly(i,r){var l=oy(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=r&&c>=r)return{node:l,offset:r-i};i=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=oy(l)}}function uy(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?uy(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function cy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Aa(i.document);r instanceof i.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)i=r.contentWindow;else break;r=Aa(i.document)}return r}function nd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function BS(i,r){var l=cy(r);r=i.focusedElem;var c=i.selectionRange;if(l!==r&&r&&r.ownerDocument&&uy(r.ownerDocument.documentElement,r)){if(c!==null&&nd(r)){if(i=c.start,l=c.end,l===void 0&&(l=i),"selectionStart"in r)r.selectionStart=i,r.selectionEnd=Math.min(l,r.value.length);else if(l=(i=r.ownerDocument||document)&&i.defaultView||window,l.getSelection){l=l.getSelection();var g=r.textContent.length,p=Math.min(c.start,g);c=c.end===void 0?p:Math.min(c.end,g),!l.extend&&p>c&&(g=c,c=p,p=g),g=ly(r,p);var T=ly(r,c);g&&T&&(l.rangeCount!==1||l.anchorNode!==g.node||l.anchorOffset!==g.offset||l.focusNode!==T.node||l.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),l.removeAllRanges(),p>c?(l.addRange(i),l.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),l.addRange(i)))}}for(i=[],l=r;l=l.parentNode;)l.nodeType===1&&i.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<i.length;r++)l=i[r],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var HS=xn&&"documentMode"in document&&11>=document.documentMode,ka=null,id=null,il=null,sd=!1;function hy(i,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sd||ka==null||ka!==Aa(c)||(c=ka,"selectionStart"in c&&nd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),il&&nl(il,c)||(il=c,c=Zc(id,"onSelect"),0<c.length&&(r=new Ra("onSelect","select",null,r,l),i.push({event:r,listeners:c}),r.target=ka)))}function Lr(i,r){var l={};return l[i.toLowerCase()]=r.toLowerCase(),l["Webkit"+i]="webkit"+r,l["Moz"+i]="moz"+r,l}var La={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},rd={},fy={};xn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Pr(i){if(rd[i])return rd[i];if(!La[i])return i;var r=La[i],l;for(l in r)if(r.hasOwnProperty(l)&&l in fy)return rd[i]=r[l];return i}var dy=Pr("animationend"),gy=Pr("animationiteration"),my=Pr("animationstart"),jS=Pr("transitionrun"),FS=Pr("transitionstart"),qS=Pr("transitioncancel"),py=Pr("transitionend"),yy=new Map,_y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ii(i,r){yy.set(i,r),wn(r,[i])}var jn=[],Pa=0,ad=0;function yc(){for(var i=Pa,r=ad=Pa=0;r<i;){var l=jn[r];jn[r++]=null;var c=jn[r];jn[r++]=null;var g=jn[r];jn[r++]=null;var p=jn[r];if(jn[r++]=null,c!==null&&g!==null){var T=c.pending;T===null?g.next=g:(g.next=T.next,T.next=g),c.pending=g}p!==0&&vy(l,g,p)}}function _c(i,r,l,c){jn[Pa++]=i,jn[Pa++]=r,jn[Pa++]=l,jn[Pa++]=c,ad|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function od(i,r,l,c){return _c(i,r,l,c),vc(i)}function Ps(i,r){return _c(i,null,null,r),vc(i)}function vy(i,r,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,p=i.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(g=!0)),i=p,p=p.return;g&&r!==null&&i.tag===3&&(p=i.stateNode,g=31-hn(l),p=p.hiddenUpdates,i=p[g],i===null?p[g]=[r]:i.push(r),r.lane=l|536870912)}function vc(i){if(50<Cl)throw Cl=0,dg=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var za={},by=new WeakMap;function Fn(i,r){if(typeof i=="object"&&i!==null){var l=by.get(i);return l!==void 0?l:(r={value:i,source:r,stack:ut(r)},by.set(i,r),r)}return{value:i,source:r,stack:ut(r)}}var Ua=[],Ba=0,bc=null,Ec=0,qn=[],Gn=0,zr=null,Qi=1,Ki="";function Ur(i,r){Ua[Ba++]=Ec,Ua[Ba++]=bc,bc=i,Ec=r}function Ey(i,r,l){qn[Gn++]=Qi,qn[Gn++]=Ki,qn[Gn++]=zr,zr=i;var c=Qi;i=Ki;var g=32-hn(c)-1;c&=~(1<<g),l+=1;var p=32-hn(r)+g;if(30<p){var T=g-g%5;p=(c&(1<<T)-1).toString(32),c>>=T,g-=T,Qi=1<<32-hn(r)+g|l<<g|c,Ki=p+i}else Qi=1<<p|l<<g|c,Ki=i}function ld(i){i.return!==null&&(Ur(i,1),Ey(i,1,0))}function ud(i){for(;i===bc;)bc=Ua[--Ba],Ua[Ba]=null,Ec=Ua[--Ba],Ua[Ba]=null;for(;i===zr;)zr=qn[--Gn],qn[Gn]=null,Ki=qn[--Gn],qn[Gn]=null,Qi=qn[--Gn],qn[Gn]=null}var gn=null,Qe=null,qt=!1,si=null,bi=!1,cd=Error(s(519));function Br(i){var r=Error(s(418,""));throw al(Fn(r,i)),cd}function Ty(i){var r=i.stateNode,l=i.type,c=i.memoizedProps;switch(r[Ue]=i,r[Me]=c,l){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Lt(Ml[l],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":Lt("invalid",r),Rr(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),xr(r);break;case"select":Lt("invalid",r);break;case"textarea":Lt("invalid",r),ks(r,c.value,c.defaultValue,c.children),xr(r)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||Ov(r.textContent,l)?(c.popover!=null&&(Lt("beforetoggle",r),Lt("toggle",r)),c.onScroll!=null&&Lt("scroll",r),c.onScrollEnd!=null&&Lt("scrollend",r),c.onClick!=null&&(r.onclick=Jc),r=!0):r=!1,r||Br(i)}function Sy(i){for(gn=i.return;gn;)switch(gn.tag){case 3:case 27:bi=!0;return;case 5:case 13:bi=!1;return;default:gn=gn.return}}function sl(i){if(i!==gn)return!1;if(!qt)return Sy(i),qt=!0,!1;var r=!1,l;if((l=i.tag!==3&&i.tag!==27)&&((l=i.tag===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Mg(i.type,i.memoizedProps)),l=!l),l&&(r=!0),r&&Qe&&Br(i),Sy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(r===0){Qe=ai(i.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;i=i.nextSibling}Qe=null}}else Qe=gn?ai(i.stateNode.nextSibling):null;return!0}function rl(){Qe=gn=null,qt=!1}function al(i){si===null?si=[i]:si.push(i)}var ol=Error(s(460)),Ay=Error(s(474)),hd={then:function(){}};function wy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Tc(){}function xy(i,r,l){switch(l=i[l],l===void 0?i.push(r):l!==r&&(r.then(Tc,Tc),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===ol?Error(s(483)):i;default:if(typeof r.status=="string")r.then(Tc,Tc);else{if(i=ie,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=c}},function(c){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,i===ol?Error(s(483)):i}throw ll=r,ol}}var ll=null;function Ry(){if(ll===null)throw Error(s(459));var i=ll;return ll=null,i}var Ha=null,ul=0;function Sc(i){var r=ul;return ul+=1,Ha===null&&(Ha=[]),xy(Ha,i,r)}function cl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ac(i,r){throw r.$$typeof===o?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Cy(i){var r=i._init;return r(i._payload)}function Dy(i){function r(F,H){if(i){var G=F.deletions;G===null?(F.deletions=[H],F.flags|=16):G.push(H)}}function l(F,H){if(!i)return null;for(;H!==null;)r(F,H),H=H.sibling;return null}function c(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function g(F,H){return F=Ks(F,H),F.index=0,F.sibling=null,F}function p(F,H,G){return F.index=G,i?(G=F.alternate,G!==null?(G=G.index,G<H?(F.flags|=33554434,H):G):(F.flags|=33554434,H)):(F.flags|=1048576,H)}function T(F){return i&&F.alternate===null&&(F.flags|=33554434),F}function w(F,H,G,J){return H===null||H.tag!==6?(H=rg(G,F.mode,J),H.return=F,H):(H=g(H,G),H.return=F,H)}function k(F,H,G,J){var gt=G.type;return gt===d?Z(F,H,G.props.children,J,G.key):H!==null&&(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&Cy(gt)===H.type)?(H=g(H,G.props),cl(H,G),H.return=F,H):(H=jc(G.type,G.key,G.props,null,F.mode,J),cl(H,G),H.return=F,H)}function j(F,H,G,J){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=ag(G,F.mode,J),H.return=F,H):(H=g(H,G.children||[]),H.return=F,H)}function Z(F,H,G,J,gt){return H===null||H.tag!==7?(H=Xr(G,F.mode,J,gt),H.return=F,H):(H=g(H,G),H.return=F,H)}function st(F,H,G){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=rg(""+H,F.mode,G),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case u:return G=jc(H.type,H.key,H.props,null,F.mode,G),cl(G,H),G.return=F,G;case h:return H=ag(H,F.mode,G),H.return=F,H;case B:var J=H._init;return H=J(H._payload),st(F,H,G)}if(ot(H)||rt(H))return H=Xr(H,F.mode,G,null),H.return=F,H;if(typeof H.then=="function")return st(F,Sc(H),G);if(H.$$typeof===S)return st(F,Uc(F,H),G);Ac(F,H)}return null}function $(F,H,G,J){var gt=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return gt!==null?null:w(F,H,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return G.key===gt?k(F,H,G,J):null;case h:return G.key===gt?j(F,H,G,J):null;case B:return gt=G._init,G=gt(G._payload),$(F,H,G,J)}if(ot(G)||rt(G))return gt!==null?null:Z(F,H,G,J,null);if(typeof G.then=="function")return $(F,H,Sc(G),J);if(G.$$typeof===S)return $(F,H,Uc(F,G),J);Ac(F,G)}return null}function X(F,H,G,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return F=F.get(G)||null,w(H,F,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return F=F.get(J.key===null?G:J.key)||null,k(H,F,J,gt);case h:return F=F.get(J.key===null?G:J.key)||null,j(H,F,J,gt);case B:var Vt=J._init;return J=Vt(J._payload),X(F,H,G,J,gt)}if(ot(J)||rt(J))return F=F.get(G)||null,Z(H,F,J,gt,null);if(typeof J.then=="function")return X(F,H,G,Sc(J),gt);if(J.$$typeof===S)return X(F,H,G,Uc(H,J),gt);Ac(H,J)}return null}function pt(F,H,G,J){for(var gt=null,Vt=null,bt=H,St=H=0,qe=null;bt!==null&&St<G.length;St++){bt.index>St?(qe=bt,bt=null):qe=bt.sibling;var Gt=$(F,bt,G[St],J);if(Gt===null){bt===null&&(bt=qe);break}i&&bt&&Gt.alternate===null&&r(F,bt),H=p(Gt,H,St),Vt===null?gt=Gt:Vt.sibling=Gt,Vt=Gt,bt=qe}if(St===G.length)return l(F,bt),qt&&Ur(F,St),gt;if(bt===null){for(;St<G.length;St++)bt=st(F,G[St],J),bt!==null&&(H=p(bt,H,St),Vt===null?gt=bt:Vt.sibling=bt,Vt=bt);return qt&&Ur(F,St),gt}for(bt=c(bt);St<G.length;St++)qe=X(bt,F,St,G[St],J),qe!==null&&(i&&qe.alternate!==null&&bt.delete(qe.key===null?St:qe.key),H=p(qe,H,St),Vt===null?gt=qe:Vt.sibling=qe,Vt=qe);return i&&bt.forEach(function(nr){return r(F,nr)}),qt&&Ur(F,St),gt}function xt(F,H,G,J){if(G==null)throw Error(s(151));for(var gt=null,Vt=null,bt=H,St=H=0,qe=null,Gt=G.next();bt!==null&&!Gt.done;St++,Gt=G.next()){bt.index>St?(qe=bt,bt=null):qe=bt.sibling;var nr=$(F,bt,Gt.value,J);if(nr===null){bt===null&&(bt=qe);break}i&&bt&&nr.alternate===null&&r(F,bt),H=p(nr,H,St),Vt===null?gt=nr:Vt.sibling=nr,Vt=nr,bt=qe}if(Gt.done)return l(F,bt),qt&&Ur(F,St),gt;if(bt===null){for(;!Gt.done;St++,Gt=G.next())Gt=st(F,Gt.value,J),Gt!==null&&(H=p(Gt,H,St),Vt===null?gt=Gt:Vt.sibling=Gt,Vt=Gt);return qt&&Ur(F,St),gt}for(bt=c(bt);!Gt.done;St++,Gt=G.next())Gt=X(bt,F,St,Gt.value,J),Gt!==null&&(i&&Gt.alternate!==null&&bt.delete(Gt.key===null?St:Gt.key),H=p(Gt,H,St),Vt===null?gt=Gt:Vt.sibling=Gt,Vt=Gt);return i&&bt.forEach(function(sw){return r(F,sw)}),qt&&Ur(F,St),gt}function ye(F,H,G,J){if(typeof G=="object"&&G!==null&&G.type===d&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case u:t:{for(var gt=G.key;H!==null;){if(H.key===gt){if(gt=G.type,gt===d){if(H.tag===7){l(F,H.sibling),J=g(H,G.props.children),J.return=F,F=J;break t}}else if(H.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===B&&Cy(gt)===H.type){l(F,H.sibling),J=g(H,G.props),cl(J,G),J.return=F,F=J;break t}l(F,H);break}else r(F,H);H=H.sibling}G.type===d?(J=Xr(G.props.children,F.mode,J,G.key),J.return=F,F=J):(J=jc(G.type,G.key,G.props,null,F.mode,J),cl(J,G),J.return=F,F=J)}return T(F);case h:t:{for(gt=G.key;H!==null;){if(H.key===gt)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){l(F,H.sibling),J=g(H,G.children||[]),J.return=F,F=J;break t}else{l(F,H);break}else r(F,H);H=H.sibling}J=ag(G,F.mode,J),J.return=F,F=J}return T(F);case B:return gt=G._init,G=gt(G._payload),ye(F,H,G,J)}if(ot(G))return pt(F,H,G,J);if(rt(G)){if(gt=rt(G),typeof gt!="function")throw Error(s(150));return G=gt.call(G),xt(F,H,G,J)}if(typeof G.then=="function")return ye(F,H,Sc(G),J);if(G.$$typeof===S)return ye(F,H,Uc(F,G),J);Ac(F,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,H!==null&&H.tag===6?(l(F,H.sibling),J=g(H,G),J.return=F,F=J):(l(F,H),J=rg(G,F.mode,J),J.return=F,F=J),T(F)):l(F,H)}return function(F,H,G,J){try{ul=0;var gt=ye(F,H,G,J);return Ha=null,gt}catch(bt){if(bt===ol)throw bt;var Vt=Kn(29,bt,null,F.mode);return Vt.lanes=J,Vt.return=F,Vt}finally{}}}var Hr=Dy(!0),My=Dy(!1),ja=Pt(null),wc=Pt(0);function Oy(i,r){i=as,Xt(wc,i),Xt(ja,r),as=i|r.baseLanes}function fd(){Xt(wc,as),Xt(ja,ja.current)}function dd(){as=wc.current,de(ja),de(wc)}var Yn=Pt(null),Ei=null;function zs(i){var r=i.alternate;Xt(Ve,Ve.current&1),Xt(Yn,i),Ei===null&&(r===null||ja.current!==null||r.memoizedState!==null)&&(Ei=i)}function Iy(i){if(i.tag===22){if(Xt(Ve,Ve.current),Xt(Yn,i),Ei===null){var r=i.alternate;r!==null&&r.memoizedState!==null&&(Ei=i)}}else Us()}function Us(){Xt(Ve,Ve.current),Xt(Yn,Yn.current)}function Xi(i){de(Yn),Ei===i&&(Ei=null),de(Ve)}var Ve=Pt(0);function xc(i){for(var r=i;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var GS=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(l){return l()})}},YS=n.unstable_scheduleCallback,$S=n.unstable_NormalPriority,Ne={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new GS,data:new Map,refCount:0}}function hl(i){i.refCount--,i.refCount===0&&YS($S,function(){i.controller.abort()})}var fl=null,md=0,Fa=0,qa=null;function QS(i,r){if(fl===null){var l=fl=[];md=0,Fa=Eg(),qa={status:"pending",value:void 0,then:function(c){l.push(c)}}}return md++,r.then(Vy,Vy),r}function Vy(){if(--md===0&&fl!==null){qa!==null&&(qa.status="fulfilled");var i=fl;fl=null,Fa=0,qa=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function KS(i,r){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var Ny=R.S;R.S=function(i,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&QS(i,r),Ny!==null&&Ny(i,r)};var jr=Pt(null);function pd(){var i=jr.current;return i!==null?i:ie.pooledCache}function Rc(i,r){r===null?Xt(jr,jr.current):Xt(jr,r.pool)}function ky(){var i=pd();return i===null?null:{parent:Ne._currentValue,pool:i}}var Bs=0,Ot=null,Jt=null,Te=null,Cc=!1,Ga=!1,Fr=!1,Dc=0,dl=0,Ya=null,XS=0;function ve(){throw Error(s(321))}function yd(i,r){if(r===null)return!1;for(var l=0;l<r.length&&l<i.length;l++)if(!Rn(i[l],r[l]))return!1;return!0}function _d(i,r,l,c,g,p){return Bs=p,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,R.H=i===null||i.memoizedState===null?qr:Hs,Fr=!1,p=l(c,g),Fr=!1,Ga&&(p=Py(r,l,c,g)),Ly(i),p}function Ly(i){R.H=Ti;var r=Jt!==null&&Jt.next!==null;if(Bs=0,Te=Jt=Ot=null,Cc=!1,dl=0,Ya=null,r)throw Error(s(300));i===null||je||(i=i.dependencies,i!==null&&zc(i)&&(je=!0))}function Py(i,r,l,c){Ot=i;var g=0;do{if(Ga&&(Ya=null),dl=0,Ga=!1,25<=g)throw Error(s(301));if(g+=1,Te=Jt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}R.H=Gr,p=r(l,c)}while(Ga);return p}function WS(){var i=R.H,r=i.useState()[0];return r=typeof r.then=="function"?gl(r):r,i=i.useState()[0],(Jt!==null?Jt.memoizedState:null)!==i&&(Ot.flags|=1024),r}function vd(){var i=Dc!==0;return Dc=0,i}function bd(i,r,l){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~l}function Ed(i){if(Cc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Cc=!1}Bs=0,Te=Jt=Ot=null,Ga=!1,dl=Dc=0,Ya=null}function bn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Ot.memoizedState=Te=i:Te=Te.next=i,Te}function Se(){if(Jt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Jt.next;var r=Te===null?Ot.memoizedState:Te.next;if(r!==null)Te=r,Jt=i;else{if(i===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));Jt=i,i={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Te===null?Ot.memoizedState=Te=i:Te=Te.next=i}return Te}var Mc;Mc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function gl(i){var r=dl;return dl+=1,Ya===null&&(Ya=[]),i=xy(Ya,i,r),r=Ot,(Te===null?r.memoizedState:Te.next)===null&&(r=r.alternate,R.H=r===null||r.memoizedState===null?qr:Hs),i}function Oc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return gl(i);if(i.$$typeof===S)return nn(i)}throw Error(s(438,String(i)))}function Td(i){var r=null,l=Ot.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Mc(),Ot.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(i),c=0;c<i;c++)l[c]=Q;return r.index++,l}function Wi(i,r){return typeof r=="function"?r(i):r}function Ic(i){var r=Se();return Sd(r,Jt,i)}function Sd(i,r,l){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=l;var g=i.baseQueue,p=c.pending;if(p!==null){if(g!==null){var T=g.next;g.next=p.next,p.next=T}r.baseQueue=g=p,c.pending=null}if(p=i.baseState,g===null)i.memoizedState=p;else{r=g.next;var w=T=null,k=null,j=r,Z=!1;do{var st=j.lane&-536870913;if(st!==j.lane?(Bt&st)===st:(Bs&st)===st){var $=j.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),st===Fa&&(Z=!0);else if((Bs&$)===$){j=j.next,$===Fa&&(Z=!0);continue}else st={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(w=k=st,T=p):k=k.next=st,Ot.lanes|=$,Xs|=$;st=j.action,Fr&&l(p,st),p=j.hasEagerState?j.eagerState:l(p,st)}else $={lane:st,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},k===null?(w=k=$,T=p):k=k.next=$,Ot.lanes|=st,Xs|=st;j=j.next}while(j!==null&&j!==r);if(k===null?T=p:k.next=w,!Rn(p,i.memoizedState)&&(je=!0,Z&&(l=qa,l!==null)))throw l;i.memoizedState=p,i.baseState=T,i.baseQueue=k,c.lastRenderedState=p}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ad(i){var r=Se(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,p=r.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do p=i(p,T.action),T=T.next;while(T!==g);Rn(p,r.memoizedState)||(je=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,c]}function zy(i,r,l){var c=Ot,g=Se(),p=qt;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=r();var T=!Rn((Jt||g).memoizedState,l);if(T&&(g.memoizedState=l,je=!0),g=g.queue,Rd(Hy.bind(null,c,g,i),[i]),g.getSnapshot!==r||T||Te!==null&&Te.memoizedState.tag&1){if(c.flags|=2048,$a(9,By.bind(null,c,g,l,r),{destroy:void 0},null),ie===null)throw Error(s(349));p||(Bs&60)!==0||Uy(c,r,l)}return l}function Uy(i,r,l){i.flags|=16384,i={getSnapshot:r,value:l},r=Ot.updateQueue,r===null?(r=Mc(),Ot.updateQueue=r,r.stores=[i]):(l=r.stores,l===null?r.stores=[i]:l.push(i))}function By(i,r,l,c){r.value=l,r.getSnapshot=c,jy(r)&&Fy(i)}function Hy(i,r,l){return l(function(){jy(r)&&Fy(i)})}function jy(i){var r=i.getSnapshot;i=i.value;try{var l=r();return!Rn(i,l)}catch{return!0}}function Fy(i){var r=Ps(i,2);r!==null&&mn(r,i,2)}function wd(i){var r=bn();if(typeof i=="function"){var l=i;if(i=l(),Fr){ui(!0);try{l()}finally{ui(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:i},r}function qy(i,r,l,c){return i.baseState=l,Sd(i,Jt,typeof c=="function"?c:Wi)}function ZS(i,r,l,c,g){if(kc(i))throw Error(s(485));if(i=r.action,i!==null){var p={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};R.T!==null?l(!0):p.isTransition=!1,c(p),l=r.pending,l===null?(p.next=r.pending=p,Gy(r,p)):(p.next=l.next,r.pending=l.next=p)}}function Gy(i,r){var l=r.action,c=r.payload,g=i.state;if(r.isTransition){var p=R.T,T={};R.T=T;try{var w=l(g,c),k=R.S;k!==null&&k(T,w),Yy(i,r,w)}catch(j){xd(i,r,j)}finally{R.T=p}}else try{p=l(g,c),Yy(i,r,p)}catch(j){xd(i,r,j)}}function Yy(i,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){$y(i,r,c)},function(c){return xd(i,r,c)}):$y(i,r,l)}function $y(i,r,l){r.status="fulfilled",r.value=l,Qy(r),i.state=l,r=i.pending,r!==null&&(l=r.next,l===r?i.pending=null:(l=l.next,r.next=l,Gy(i,l)))}function xd(i,r,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Qy(r),r=r.next;while(r!==c)}i.action=null}function Qy(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Ky(i,r){return r}function Xy(i,r){if(qt){var l=ie.formState;if(l!==null){t:{var c=Ot;if(qt){if(Qe){e:{for(var g=Qe,p=bi;g.nodeType!==8;){if(!p){g=null;break e}if(g=ai(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Qe=ai(g.nextSibling),c=g.data==="F!";break t}}Br(c)}c=!1}c&&(r=l[0])}}return l=bn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:r},l.queue=c,l=g_.bind(null,Ot,c),c.dispatch=l,c=wd(!1),p=Id.bind(null,Ot,!1,c.queue),c=bn(),g={state:r,dispatch:null,action:i,pending:null},c.queue=g,l=ZS.bind(null,Ot,g,p,l),g.dispatch=l,c.memoizedState=i,[r,l,!1]}function Wy(i){var r=Se();return Zy(r,Jt,i)}function Zy(i,r,l){r=Sd(i,r,Ky)[0],i=Ic(Wi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?gl(r):r;var c=Se(),g=c.queue,p=g.dispatch;return l!==c.memoizedState&&(Ot.flags|=2048,$a(9,JS.bind(null,g,l),{destroy:void 0},null)),[r,p,i]}function JS(i,r){i.action=r}function Jy(i){var r=Se(),l=Jt;if(l!==null)return Zy(r,l,i);Se(),r=r.memoizedState,l=Se();var c=l.queue.dispatch;return l.memoizedState=i,[r,c,!1]}function $a(i,r,l,c){return i={tag:i,create:r,inst:l,deps:c,next:null},r=Ot.updateQueue,r===null&&(r=Mc(),Ot.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,r.lastEffect=i),i}function t_(){return Se().memoizedState}function Vc(i,r,l,c){var g=bn();Ot.flags|=i,g.memoizedState=$a(1|r,l,{destroy:void 0},c===void 0?null:c)}function Nc(i,r,l,c){var g=Se();c=c===void 0?null:c;var p=g.memoizedState.inst;Jt!==null&&c!==null&&yd(c,Jt.memoizedState.deps)?g.memoizedState=$a(r,l,p,c):(Ot.flags|=i,g.memoizedState=$a(1|r,l,p,c))}function e_(i,r){Vc(8390656,8,i,r)}function Rd(i,r){Nc(2048,8,i,r)}function n_(i,r){return Nc(4,2,i,r)}function i_(i,r){return Nc(4,4,i,r)}function s_(i,r){if(typeof r=="function"){i=i();var l=r(i);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function r_(i,r,l){l=l!=null?l.concat([i]):null,Nc(4,4,s_.bind(null,r,i),l)}function Cd(){}function a_(i,r){var l=Se();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&yd(r,c[1])?c[0]:(l.memoizedState=[i,r],i)}function o_(i,r){var l=Se();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&yd(r,c[1]))return c[0];if(c=i(),Fr){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[c,r],c}function Dd(i,r,l){return l===void 0||(Bs&1073741824)!==0?i.memoizedState=r:(i.memoizedState=l,i=uv(),Ot.lanes|=i,Xs|=i,l)}function l_(i,r,l,c){return Rn(l,r)?l:ja.current!==null?(i=Dd(i,l,c),Rn(i,r)||(je=!0),i):(Bs&42)===0?(je=!0,i.memoizedState=l):(i=uv(),Ot.lanes|=i,Xs|=i,r)}function u_(i,r,l,c,g){var p=at.p;at.p=p!==0&&8>p?p:8;var T=R.T,w={};R.T=w,Id(i,!1,r,l);try{var k=g(),j=R.S;if(j!==null&&j(w,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=KS(k,c);ml(i,r,Z,On(i))}else ml(i,r,c,On(i))}catch(st){ml(i,r,{then:function(){},status:"rejected",reason:st},On())}finally{at.p=p,R.T=T}}function tA(){}function Md(i,r,l,c){if(i.tag!==5)throw Error(s(476));var g=c_(i).queue;u_(i,g,r,yt,l===null?tA:function(){return h_(i),l(c)})}function c_(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:yt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:l},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function h_(i){var r=c_(i).next.queue;ml(i,r,{},On())}function Od(){return nn(kl)}function f_(){return Se().memoizedState}function d_(){return Se().memoizedState}function eA(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var l=On();i=qs(l);var c=Gs(r,i,l);c!==null&&(mn(c,r,l),_l(c,r,l)),r={cache:gd()},i.payload=r;return}r=r.return}}function nA(i,r,l){var c=On();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},kc(i)?m_(r,l):(l=od(i,r,l,c),l!==null&&(mn(l,i,c),p_(l,r,c)))}function g_(i,r,l){var c=On();ml(i,r,l,c)}function ml(i,r,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(kc(i))m_(r,g);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,w=p(T,l);if(g.hasEagerState=!0,g.eagerState=w,Rn(w,T))return _c(i,r,g,0),ie===null&&yc(),!1}catch{}finally{}if(l=od(i,r,g,c),l!==null)return mn(l,i,c),p_(l,r,c),!0}return!1}function Id(i,r,l,c){if(c={lane:2,revertLane:Eg(),action:c,hasEagerState:!1,eagerState:null,next:null},kc(i)){if(r)throw Error(s(479))}else r=od(i,l,c,2),r!==null&&mn(r,i,2)}function kc(i){var r=i.alternate;return i===Ot||r!==null&&r===Ot}function m_(i,r){Ga=Cc=!0;var l=i.pending;l===null?r.next=r:(r.next=l.next,l.next=r),i.pending=r}function p_(i,r,l){if((l&4194176)!==0){var c=r.lanes;c&=i.pendingLanes,l|=c,r.lanes=l,Rs(i,l)}}var Ti={readContext:nn,use:Oc,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve};Ti.useCacheRefresh=ve,Ti.useMemoCache=ve,Ti.useHostTransitionStatus=ve,Ti.useFormState=ve,Ti.useActionState=ve,Ti.useOptimistic=ve;var qr={readContext:nn,use:Oc,useCallback:function(i,r){return bn().memoizedState=[i,r===void 0?null:r],i},useContext:nn,useEffect:e_,useImperativeHandle:function(i,r,l){l=l!=null?l.concat([i]):null,Vc(4194308,4,s_.bind(null,r,i),l)},useLayoutEffect:function(i,r){return Vc(4194308,4,i,r)},useInsertionEffect:function(i,r){Vc(4,2,i,r)},useMemo:function(i,r){var l=bn();r=r===void 0?null:r;var c=i();if(Fr){ui(!0);try{i()}finally{ui(!1)}}return l.memoizedState=[c,r],c},useReducer:function(i,r,l){var c=bn();if(l!==void 0){var g=l(r);if(Fr){ui(!0);try{l(r)}finally{ui(!1)}}}else g=r;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=nA.bind(null,Ot,i),[c.memoizedState,i]},useRef:function(i){var r=bn();return i={current:i},r.memoizedState=i},useState:function(i){i=wd(i);var r=i.queue,l=g_.bind(null,Ot,r);return r.dispatch=l,[i.memoizedState,l]},useDebugValue:Cd,useDeferredValue:function(i,r){var l=bn();return Dd(l,i,r)},useTransition:function(){var i=wd(!1);return i=u_.bind(null,Ot,i.queue,!0,!1),bn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,l){var c=Ot,g=bn();if(qt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),ie===null)throw Error(s(349));(Bt&60)!==0||Uy(c,r,l)}g.memoizedState=l;var p={value:l,getSnapshot:r};return g.queue=p,e_(Hy.bind(null,c,p,i),[i]),c.flags|=2048,$a(9,By.bind(null,c,p,l,r),{destroy:void 0},null),l},useId:function(){var i=bn(),r=ie.identifierPrefix;if(qt){var l=Ki,c=Qi;l=(c&~(1<<32-hn(c)-1)).toString(32)+l,r=":"+r+"R"+l,l=Dc++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=XS++,r=":"+r+"r"+l.toString(32)+":";return i.memoizedState=r},useCacheRefresh:function(){return bn().memoizedState=eA.bind(null,Ot)}};qr.useMemoCache=Td,qr.useHostTransitionStatus=Od,qr.useFormState=Xy,qr.useActionState=Xy,qr.useOptimistic=function(i){var r=bn();r.memoizedState=r.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Id.bind(null,Ot,!0,l),l.dispatch=r,[i,r]};var Hs={readContext:nn,use:Oc,useCallback:a_,useContext:nn,useEffect:Rd,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Ic,useRef:t_,useState:function(){return Ic(Wi)},useDebugValue:Cd,useDeferredValue:function(i,r){var l=Se();return l_(l,Jt.memoizedState,i,r)},useTransition:function(){var i=Ic(Wi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:gl(i),r]},useSyncExternalStore:zy,useId:f_};Hs.useCacheRefresh=d_,Hs.useMemoCache=Td,Hs.useHostTransitionStatus=Od,Hs.useFormState=Wy,Hs.useActionState=Wy,Hs.useOptimistic=function(i,r){var l=Se();return qy(l,Jt,i,r)};var Gr={readContext:nn,use:Oc,useCallback:a_,useContext:nn,useEffect:Rd,useImperativeHandle:r_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:Ad,useRef:t_,useState:function(){return Ad(Wi)},useDebugValue:Cd,useDeferredValue:function(i,r){var l=Se();return Jt===null?Dd(l,i,r):l_(l,Jt.memoizedState,i,r)},useTransition:function(){var i=Ad(Wi)[0],r=Se().memoizedState;return[typeof i=="boolean"?i:gl(i),r]},useSyncExternalStore:zy,useId:f_};Gr.useCacheRefresh=d_,Gr.useMemoCache=Td,Gr.useHostTransitionStatus=Od,Gr.useFormState=Jy,Gr.useActionState=Jy,Gr.useOptimistic=function(i,r){var l=Se();return Jt!==null?qy(l,Jt,i,r):(l.baseState=i,[i,l.queue.dispatch])};function Vd(i,r,l,c){r=i.memoizedState,l=l(c,r),l=l==null?r:O({},r,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nd={isMounted:function(i){return(i=i._reactInternals)?ft(i)===i:!1},enqueueSetState:function(i,r,l){i=i._reactInternals;var c=On(),g=qs(c);g.payload=r,l!=null&&(g.callback=l),r=Gs(i,g,c),r!==null&&(mn(r,i,c),_l(r,i,c))},enqueueReplaceState:function(i,r,l){i=i._reactInternals;var c=On(),g=qs(c);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Gs(i,g,c),r!==null&&(mn(r,i,c),_l(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var l=On(),c=qs(l);c.tag=2,r!=null&&(c.callback=r),r=Gs(i,c,l),r!==null&&(mn(r,i,l),_l(r,i,l))}};function y_(i,r,l,c,g,p,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,T):r.prototype&&r.prototype.isPureReactComponent?!nl(l,c)||!nl(g,p):!0}function __(i,r,l,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==i&&Nd.enqueueReplaceState(r,r.state,null)}function Yr(i,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(i=i.defaultProps){l===r&&(l=O({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function v_(i){Lc(i)}function b_(i){console.error(i)}function E_(i){Lc(i)}function Pc(i,r){try{var l=i.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function T_(i,r,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function kd(i,r,l){return l=qs(l),l.tag=3,l.payload={element:null},l.callback=function(){Pc(i,r)},l}function S_(i){return i=qs(i),i.tag=3,i}function A_(i,r,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=c.value;i.payload=function(){return g(p)},i.callback=function(){T_(r,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){T_(r,l,c),typeof g!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function iA(i,r,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&yl(r,l,g,!0),l=Yn.current,l!==null){switch(l.tag){case 13:return Ei===null?pg():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===hd?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),_g(i,c,g)),!1;case 22:return l.flags|=65536,c===hd?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),_g(i,c,g)),!1}throw Error(s(435,l.tag))}return _g(i,c,g),pg(),!1}if(qt)return r=Yn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,c!==cd&&(i=Error(s(422),{cause:c}),al(Fn(i,l)))):(c!==cd&&(r=Error(s(423),{cause:c}),al(Fn(r,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Fn(c,l),g=kd(i.stateNode,c,g),Xd(i,g),pe!==4&&(pe=2)),!1;var p=Error(s(520),{cause:c});if(p=Fn(p,l),xl===null?xl=[p]:xl.push(p),pe!==4&&(pe=2),r===null)return!0;c=Fn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=kd(l.stateNode,c,i),Xd(l,i),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ws===null||!Ws.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=S_(g),A_(g,i,l,c),Xd(l,g),!1}l=l.return}while(l!==null);return!1}var w_=Error(s(461)),je=!1;function Ke(i,r,l,c){r.child=i===null?My(r,null,l,c):Hr(r,i.child,l,c)}function x_(i,r,l,c,g){l=l.render;var p=r.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Qr(r),c=_d(i,r,l,T,p,g),w=vd(),i!==null&&!je?(bd(i,r,g),Zi(i,r,g)):(qt&&w&&ld(r),r.flags|=1,Ke(i,r,c,g),r.child)}function R_(i,r,l,c,g){if(i===null){var p=l.type;return typeof p=="function"&&!sg(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,C_(i,r,p,c,g)):(i=jc(l.type,null,c,r,r.mode,g),i.ref=r.ref,i.return=r,r.child=i)}if(p=i.child,!qd(i,g)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(T,c)&&i.ref===r.ref)return Zi(i,r,g)}return r.flags|=1,i=Ks(p,c),i.ref=r.ref,i.return=r,r.child=i}function C_(i,r,l,c,g){if(i!==null){var p=i.memoizedProps;if(nl(p,c)&&i.ref===r.ref)if(je=!1,r.pendingProps=c=p,qd(i,g))(i.flags&131072)!==0&&(je=!0);else return r.lanes=i.lanes,Zi(i,r,g)}return Ld(i,r,l,c,g)}function D_(i,r,l){var c=r.pendingProps,g=c.children,p=(r.stateNode._pendingVisibility&2)!==0,T=i!==null?i.memoizedState:null;if(pl(i,r),c.mode==="hidden"||p){if((r.flags&128)!==0){if(c=T!==null?T.baseLanes|l:l,i!==null){for(g=r.child=i.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return M_(i,r,c,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rc(r,T!==null?T.cachePool:null),T!==null?Oy(r,T):fd(),Iy(r);else return r.lanes=r.childLanes=536870912,M_(i,r,T!==null?T.baseLanes|l:l,l)}else T!==null?(Rc(r,T.cachePool),Oy(r,T),Us(),r.memoizedState=null):(i!==null&&Rc(r,null),fd(),Us());return Ke(i,r,g,l),r.child}function M_(i,r,l,c){var g=pd();return g=g===null?null:{parent:Ne._currentValue,pool:g},r.memoizedState={baseLanes:l,cachePool:g},i!==null&&Rc(r,null),fd(),Iy(r),i!==null&&yl(i,r,c,!0),null}function pl(i,r){var l=r.ref;if(l===null)i!==null&&i.ref!==null&&(r.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(i===null||i.ref!==l)&&(r.flags|=2097664)}}function Ld(i,r,l,c,g){return Qr(r),l=_d(i,r,l,c,void 0,g),c=vd(),i!==null&&!je?(bd(i,r,g),Zi(i,r,g)):(qt&&c&&ld(r),r.flags|=1,Ke(i,r,l,g),r.child)}function O_(i,r,l,c,g,p){return Qr(r),r.updateQueue=null,l=Py(r,c,l,g),Ly(i),c=vd(),i!==null&&!je?(bd(i,r,p),Zi(i,r,p)):(qt&&c&&ld(r),r.flags|=1,Ke(i,r,l,p),r.child)}function I_(i,r,l,c,g){if(Qr(r),r.stateNode===null){var p=za,T=l.contextType;typeof T=="object"&&T!==null&&(p=nn(T)),p=new l(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},Qd(r),T=l.contextType,p.context=typeof T=="object"&&T!==null?nn(T):za,p.state=r.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Vd(r,l,T,c),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Nd.enqueueReplaceState(p,p.state,null),bl(r,c,p,g),vl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){p=r.stateNode;var w=r.memoizedProps,k=Yr(l,w);p.props=k;var j=p.context,Z=l.contextType;T=za,typeof Z=="object"&&Z!==null&&(T=nn(Z));var st=l.getDerivedStateFromProps;Z=typeof st=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||j!==T)&&__(r,p,c,T),Fs=!1;var $=r.memoizedState;p.state=$,bl(r,c,p,g),vl(),j=r.memoizedState,w||$!==j||Fs?(typeof st=="function"&&(Vd(r,l,st,c),j=r.memoizedState),(k=Fs||y_(r,l,k,c,$,j,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=j),p.props=c,p.state=j,p.context=T,c=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,Kd(i,r),T=r.memoizedProps,Z=Yr(l,T),p.props=Z,st=r.pendingProps,$=p.context,j=l.contextType,k=za,typeof j=="object"&&j!==null&&(k=nn(j)),w=l.getDerivedStateFromProps,(j=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==st||$!==k)&&__(r,p,c,k),Fs=!1,$=r.memoizedState,p.state=$,bl(r,c,p,g),vl();var X=r.memoizedState;T!==st||$!==X||Fs||i!==null&&i.dependencies!==null&&zc(i.dependencies)?(typeof w=="function"&&(Vd(r,l,w,c),X=r.memoizedState),(Z=Fs||y_(r,l,Z,c,$,X,k)||i!==null&&i.dependencies!==null&&zc(i.dependencies))?(j||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,X,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,X,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=X),p.props=c,p.state=X,p.context=k,c=Z):(typeof p.componentDidUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),c=!1)}return p=c,pl(i,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,i!==null&&c?(r.child=Hr(r,i.child,null,g),r.child=Hr(r,null,l,g)):Ke(i,r,l,g),r.memoizedState=p.state,i=r.child):i=Zi(i,r,g),i}function V_(i,r,l,c){return rl(),r.flags|=256,Ke(i,r,l,c),r.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function zd(i){return{baseLanes:i,cachePool:ky()}}function Ud(i,r,l){return i=i!==null?i.childLanes&~l:0,r&&(i|=Xn),i}function N_(i,r,l){var c=r.pendingProps,g=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=i!==null&&i.memoizedState===null?!1:(Ve.current&2)!==0),T&&(g=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,i===null){if(qt){if(g?zs(r):Us(),qt){var w=Qe,k;if(k=w){t:{for(k=w,w=bi;k.nodeType!==8;){if(!w){w=null;break t}if(k=ai(k.nextSibling),k===null){w=null;break t}}w=k}w!==null?(r.memoizedState={dehydrated:w,treeContext:zr!==null?{id:Qi,overflow:Ki}:null,retryLane:536870912},k=Kn(18,null,null,0),k.stateNode=w,k.return=r,r.child=k,gn=r,Qe=null,k=!0):k=!1}k||Br(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;Xi(r)}return w=c.children,c=c.fallback,g?(Us(),g=r.mode,w=Hd({mode:"hidden",children:w},g),c=Xr(c,g,l,null),w.return=r,c.return=r,w.sibling=c,r.child=w,g=r.child,g.memoizedState=zd(l),g.childLanes=Ud(i,T,l),r.memoizedState=Pd,c):(zs(r),Bd(r,w))}if(k=i.memoizedState,k!==null&&(w=k.dehydrated,w!==null)){if(p)r.flags&256?(zs(r),r.flags&=-257,r=jd(i,r,l)):r.memoizedState!==null?(Us(),r.child=i.child,r.flags|=128,r=null):(Us(),g=c.fallback,w=r.mode,c=Hd({mode:"visible",children:c.children},w),g=Xr(g,w,l,null),g.flags|=2,c.return=r,g.return=r,c.sibling=g,r.child=c,Hr(r,i.child,null,l),c=r.child,c.memoizedState=zd(l),c.childLanes=Ud(i,T,l),r.memoizedState=Pd,r=g);else if(zs(r),w.data==="$!"){if(T=w.nextSibling&&w.nextSibling.dataset,T)var j=T.dgst;T=j,c=Error(s(419)),c.stack="",c.digest=T,al({value:c,source:null,stack:null}),r=jd(i,r,l)}else if(je||yl(i,r,l,!1),T=(l&i.childLanes)!==0,je||T){if(T=ie,T!==null){if(c=l&-l,(c&42)!==0)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==k.retryLane)throw k.retryLane=c,Ps(i,c),mn(T,i,c),w_}w.data==="$?"||pg(),r=jd(i,r,l)}else w.data==="$?"?(r.flags|=128,r.child=i.child,r=_A.bind(null,i),w._reactRetry=r,r=null):(i=k.treeContext,Qe=ai(w.nextSibling),gn=r,qt=!0,si=null,bi=!1,i!==null&&(qn[Gn++]=Qi,qn[Gn++]=Ki,qn[Gn++]=zr,Qi=i.id,Ki=i.overflow,zr=r),r=Bd(r,c.children),r.flags|=4096);return r}return g?(Us(),g=c.fallback,w=r.mode,k=i.child,j=k.sibling,c=Ks(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&31457280,j!==null?g=Ks(j,g):(g=Xr(g,w,l,null),g.flags|=2),g.return=r,c.return=r,c.sibling=g,r.child=c,c=g,g=r.child,w=i.child.memoizedState,w===null?w=zd(l):(k=w.cachePool,k!==null?(j=Ne._currentValue,k=k.parent!==j?{parent:j,pool:j}:k):k=ky(),w={baseLanes:w.baseLanes|l,cachePool:k}),g.memoizedState=w,g.childLanes=Ud(i,T,l),r.memoizedState=Pd,c):(zs(r),l=i.child,i=l.sibling,l=Ks(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,i!==null&&(T=r.deletions,T===null?(r.deletions=[i],r.flags|=16):T.push(i)),r.child=l,r.memoizedState=null,l)}function Bd(i,r){return r=Hd({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Hd(i,r){return av(i,r,0,null)}function jd(i,r,l){return Hr(r,i.child,null,l),i=Bd(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function k_(i,r,l){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),Yd(i.return,r,l)}function Fd(i,r,l,c,g){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=g)}function L_(i,r,l){var c=r.pendingProps,g=c.revealOrder,p=c.tail;if(Ke(i,r,c.children,l),c=Ve.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&k_(i,l,r);else if(i.tag===19)k_(i,l,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(Xt(Ve,c),g){case"forwards":for(l=r.child,g=null;l!==null;)i=l.alternate,i!==null&&xc(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Fd(r,!1,g,l,p);break;case"backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(i=g.alternate,i!==null&&xc(i)===null){r.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Fd(r,!0,l,null,p);break;case"together":Fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(i,r,l){if(i!==null&&(r.dependencies=i.dependencies),Xs|=r.lanes,(l&r.childLanes)===0)if(i!==null){if(yl(i,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,l=Ks(i,i.pendingProps),r.child=l,l.return=r;i.sibling!==null;)i=i.sibling,l=l.sibling=Ks(i,i.pendingProps),l.return=r;l.sibling=null}return r.child}function qd(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&zc(i)))}function sA(i,r,l){switch(r.tag){case 3:Es(r,r.stateNode.containerInfo),js(r,Ne,i.memoizedState.cache),rl();break;case 27:case 5:ko(r);break;case 4:Es(r,r.stateNode.containerInfo);break;case 10:js(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(zs(r),r.flags|=128,null):(l&r.child.childLanes)!==0?N_(i,r,l):(zs(r),i=Zi(i,r,l),i!==null?i.sibling:null);zs(r);break;case 19:var g=(i.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(yl(i,r,l,!1),c=(l&r.childLanes)!==0),g){if(c)return L_(i,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Xt(Ve,Ve.current),c)break;return null;case 22:case 23:return r.lanes=0,D_(i,r,l);case 24:js(r,Ne,i.memoizedState.cache)}return Zi(i,r,l)}function P_(i,r,l){if(i!==null)if(i.memoizedProps!==r.pendingProps)je=!0;else{if(!qd(i,l)&&(r.flags&128)===0)return je=!1,sA(i,r,l);je=(i.flags&131072)!==0}else je=!1,qt&&(r.flags&1048576)!==0&&Ey(r,Ec,r.index);switch(r.lanes=0,r.tag){case 16:t:{i=r.pendingProps;var c=r.elementType,g=c._init;if(c=g(c._payload),r.type=c,typeof c=="function")sg(c)?(i=Yr(c,i),r.tag=1,r=I_(null,r,c,i,l)):(r.tag=0,r=Ld(null,r,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===A){r.tag=11,r=x_(null,r,c,i,l);break t}else if(g===V){r.tag=14,r=R_(null,r,c,i,l);break t}}throw r=x(c)||c,Error(s(306,r,""))}}return r;case 0:return Ld(i,r,r.type,r.pendingProps,l);case 1:return c=r.type,g=Yr(c,r.pendingProps),I_(i,r,c,g,l);case 3:t:{if(Es(r,r.stateNode.containerInfo),i===null)throw Error(s(387));var p=r.pendingProps;g=r.memoizedState,c=g.element,Kd(i,r),bl(r,p,null,l);var T=r.memoizedState;if(p=T.cache,js(r,Ne,p),p!==g.cache&&$d(r,[Ne],l,!0),vl(),p=T.element,g.isDehydrated)if(g={element:p,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=V_(i,r,p,l);break t}else if(p!==c){c=Fn(Error(s(424)),r),al(c),r=V_(i,r,p,l);break t}else for(Qe=ai(r.stateNode.containerInfo.firstChild),gn=r,qt=!0,si=null,bi=!0,l=My(r,null,p,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(rl(),p===c){r=Zi(i,r,l);break t}Ke(i,r,p,l)}r=r.child}return r;case 26:return pl(i,r),i===null?(l=Bv(r.type,null,r.pendingProps,null))?r.memoizedState=l:qt||(l=r.type,i=r.pendingProps,c=th(kn.current).createElement(l),c[Ue]=r,c[Me]=i,Xe(c,l,i),le(c),r.stateNode=c):r.memoizedState=Bv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ko(r),i===null&&qt&&(c=r.stateNode=Pv(r.type,r.pendingProps,kn.current),gn=r,bi=!0,Qe=ai(c.firstChild)),c=r.pendingProps.children,i!==null||qt?Ke(i,r,c,l):r.child=Hr(r,null,c,l),pl(i,r),r.child;case 5:return i===null&&qt&&((g=c=Qe)&&(c=NA(c,r.type,r.pendingProps,bi),c!==null?(r.stateNode=c,gn=r,Qe=ai(c.firstChild),bi=!1,g=!0):g=!1),g||Br(r)),ko(r),g=r.type,p=r.pendingProps,T=i!==null?i.memoizedProps:null,c=p.children,Mg(g,p)?c=null:T!==null&&Mg(g,T)&&(r.flags|=32),r.memoizedState!==null&&(g=_d(i,r,WS,null,null,l),kl._currentValue=g),pl(i,r),Ke(i,r,c,l),r.child;case 6:return i===null&&qt&&((i=l=Qe)&&(l=kA(l,r.pendingProps,bi),l!==null?(r.stateNode=l,gn=r,Qe=null,i=!0):i=!1),i||Br(r)),null;case 13:return N_(i,r,l);case 4:return Es(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=Hr(r,null,c,l):Ke(i,r,c,l),r.child;case 11:return x_(i,r,r.type,r.pendingProps,l);case 7:return Ke(i,r,r.pendingProps,l),r.child;case 8:return Ke(i,r,r.pendingProps.children,l),r.child;case 12:return Ke(i,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,js(r,r.type,c.value),Ke(i,r,c.children,l),r.child;case 9:return g=r.type._context,c=r.pendingProps.children,Qr(r),g=nn(g),c=c(g),r.flags|=1,Ke(i,r,c,l),r.child;case 14:return R_(i,r,r.type,r.pendingProps,l);case 15:return C_(i,r,r.type,r.pendingProps,l);case 19:return L_(i,r,l);case 22:return D_(i,r,l);case 24:return Qr(r),c=nn(Ne),i===null?(g=pd(),g===null&&(g=ie,p=gd(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),r.memoizedState={parent:c,cache:g},Qd(r),js(r,Ne,g)):((i.lanes&l)!==0&&(Kd(i,r),bl(r,null,null,l),vl()),g=i.memoizedState,p=r.memoizedState,g.parent!==c?(g={parent:c,cache:c},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),js(r,Ne,c)):(c=p.cache,js(r,Ne,c),c!==g.cache&&$d(r,[Ne],l,!0))),Ke(i,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Gd=Pt(null),$r=null,Ji=null;function js(i,r,l){Xt(Gd,r._currentValue),r._currentValue=l}function ts(i){i._currentValue=Gd.current,de(Gd)}function Yd(i,r,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===l)break;i=i.return}}function $d(i,r,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var p=g.dependencies;if(p!==null){var T=g.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=g;for(var k=0;k<r.length;k++)if(w.context===r[k]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),Yd(p.return,l,i),c||(T=null);break t}p=w.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(s(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),Yd(T,l,i),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===i){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function yl(i,r,l,c){i=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=g.type;Rn(g.pendingProps.value,T.value)||(i!==null?i.push(w):i=[w])}}else if(g===bs.current){if(T=g.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(kl):i=[kl])}g=g.return}i!==null&&$d(r,i,l,c),r.flags|=262144}function zc(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qr(i){$r=i,Ji=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function nn(i){return z_($r,i)}function Uc(i,r){return $r===null&&Qr(i),z_(i,r)}function z_(i,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Ji===null){if(i===null)throw Error(s(308));Ji=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ji=Ji.next=r;return l}var Fs=!1;function Qd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Gs(i,r,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ce&2)!==0){var g=c.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),c.pending=r,r=vc(i),vy(i,null,l),r}return _c(i,c,r,l),vc(i)}function _l(i,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194176)!==0)){var c=r.lanes;c&=i.pendingLanes,l|=c,r.lanes=l,Rs(i,l)}}function Xd(i,r){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?g=p=r:p=p.next=r}else g=p=r;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=r:i.next=r,l.lastBaseUpdate=r}var Wd=!1;function vl(){if(Wd){var i=qa;if(i!==null)throw i}}function bl(i,r,l,c){Wd=!1;var g=i.updateQueue;Fs=!1;var p=g.firstBaseUpdate,T=g.lastBaseUpdate,w=g.shared.pending;if(w!==null){g.shared.pending=null;var k=w,j=k.next;k.next=null,T===null?p=j:T.next=j,T=k;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==T&&(w===null?Z.firstBaseUpdate=j:w.next=j,Z.lastBaseUpdate=k))}if(p!==null){var st=g.baseState;T=0,Z=j=k=null,w=p;do{var $=w.lane&-536870913,X=$!==w.lane;if(X?(Bt&$)===$:(c&$)===$){$!==0&&$===Fa&&(Wd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var pt=i,xt=w;$=r;var ye=l;switch(xt.tag){case 1:if(pt=xt.payload,typeof pt=="function"){st=pt.call(ye,st,$);break t}st=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=xt.payload,$=typeof pt=="function"?pt.call(ye,st,$):pt,$==null)break t;st=O({},st,$);break t;case 2:Fs=!0}}$=w.callback,$!==null&&(i.flags|=64,X&&(i.flags|=8192),X=g.callbacks,X===null?g.callbacks=[$]:X.push($))}else X={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(j=Z=X,k=st):Z=Z.next=X,T|=$;if(w=w.next,w===null){if(w=g.shared.pending,w===null)break;X=w,w=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);Z===null&&(k=st),g.baseState=k,g.firstBaseUpdate=j,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),Xs|=T,i.lanes=T,i.memoizedState=st}}function U_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function B_(i,r){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)U_(l[i],r)}function El(i,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var p=l.create,T=l.inst;c=p(),T.destroy=c}l=l.next}while(l!==g)}}catch(w){ee(r,r.return,w)}}function Ys(i,r,l){try{var c=r.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var p=g.next;c=p;do{if((c.tag&i)===i){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,g=r;var k=l;try{w()}catch(j){ee(g,k,j)}}}c=c.next}while(c!==p)}}catch(j){ee(r,r.return,j)}}function H_(i){var r=i.updateQueue;if(r!==null){var l=i.stateNode;try{B_(r,l)}catch(c){ee(i,i.return,c)}}}function j_(i,r,l){l.props=Yr(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){ee(i,r,c)}}function Kr(i,r){try{var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var g=c;break;default:g=c}typeof l=="function"?i.refCleanup=l(g):l.current=g}}catch(p){ee(i,r,p)}}function Cn(i,r){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){ee(i,r,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ee(i,r,g)}else l.current=null}function F_(i){var r=i.type,l=i.memoizedProps,c=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){ee(i,i.return,g)}}function q_(i,r,l){try{var c=i.stateNode;DA(c,i.type,l,r),c[Me]=r}catch(g){ee(i,i.return,g)}}function G_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Zd(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||G_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jd(i,r,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(i,r):l.insertBefore(i,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(i,l)):(r=l,r.appendChild(i)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Jc));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Jd(i,r,l),i=i.sibling;i!==null;)Jd(i,r,l),i=i.sibling}function Bc(i,r,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?l.insertBefore(i,r):l.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(Bc(i,r,l),i=i.sibling;i!==null;)Bc(i,r,l),i=i.sibling}var es=!1,me=!1,tg=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,Fe=null,$_=!1;function rA(i,r){if(i=i.containerInfo,Cg=ah,i=cy(i),nd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else t:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,w=-1,k=-1,j=0,Z=0,st=i,$=null;e:for(;;){for(var X;st!==l||g!==0&&st.nodeType!==3||(w=T+g),st!==p||c!==0&&st.nodeType!==3||(k=T+c),st.nodeType===3&&(T+=st.nodeValue.length),(X=st.firstChild)!==null;)$=st,st=X;for(;;){if(st===i)break e;if($===l&&++j===g&&(w=T),$===p&&++Z===c&&(k=T),(X=st.nextSibling)!==null)break;st=$,$=st.parentNode}st=X}l=w===-1||k===-1?null:{start:w,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dg={focusedElem:i,selectionRange:l},ah=!1,Fe=r;Fe!==null;)if(r=Fe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Fe=i;else for(;Fe!==null;){switch(r=Fe,p=r.alternate,i=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,l=r,g=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var pt=Yr(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(pt,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(xt){ee(l,l.return,xt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,l=i.nodeType,l===9)Vg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Fe=i;break}Fe=r.return}return pt=$_,$_=!1,pt}function Q_(i,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:is(i,l),c&4&&El(5,l);break;case 1:if(is(i,l),c&4)if(i=l.stateNode,r===null)try{i.componentDidMount()}catch(w){ee(l,l.return,w)}else{var g=Yr(l.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(g,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){ee(l,l.return,w)}}c&64&&H_(l),c&512&&Kr(l,l.return);break;case 3:if(is(i,l),c&64&&(c=l.updateQueue,c!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{B_(c,i)}catch(w){ee(l,l.return,w)}}break;case 26:is(i,l),c&512&&Kr(l,l.return);break;case 27:case 5:is(i,l),r===null&&c&4&&F_(l),c&512&&Kr(l,l.return);break;case 12:is(i,l);break;case 13:is(i,l),c&4&&W_(i,l);break;case 22:if(g=l.memoizedState!==null||es,!g){r=r!==null&&r.memoizedState!==null||me;var p=es,T=me;es=g,(me=r)&&!T?$s(i,l,(l.subtreeFlags&8772)!==0):is(i,l),es=p,me=T}c&512&&(l.memoizedProps.mode==="manual"?Kr(l,l.return):Cn(l,l.return));break;default:is(i,l)}}function K_(i){var r=i.alternate;r!==null&&(i.alternate=null,K_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&wr(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ae=null,Dn=!1;function ns(i,r,l){for(l=l.child;l!==null;)X_(i,r,l),l=l.sibling}function X_(i,r,l){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ts,l)}catch{}switch(l.tag){case 26:me||Cn(l,r),ns(i,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:me||Cn(l,r);var c=Ae,g=Dn;for(Ae=l.stateNode,ns(i,r,l),l=l.stateNode,r=l.attributes;r.length;)l.removeAttributeNode(r[0]);wr(l),Ae=c,Dn=g;break;case 5:me||Cn(l,r);case 6:g=Ae;var p=Dn;if(Ae=null,ns(i,r,l),Ae=g,Dn=p,Ae!==null)if(Dn)try{i=Ae,c=l.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(T){ee(l,r,T)}else try{Ae.removeChild(l.stateNode)}catch(T){ee(l,r,T)}break;case 18:Ae!==null&&(Dn?(r=Ae,l=l.stateNode,r.nodeType===8?Ig(r.parentNode,l):r.nodeType===1&&Ig(r,l),Ul(r)):Ig(Ae,l.stateNode));break;case 4:c=Ae,g=Dn,Ae=l.stateNode.containerInfo,Dn=!0,ns(i,r,l),Ae=c,Dn=g;break;case 0:case 11:case 14:case 15:me||Ys(2,l,r),me||Ys(4,l,r),ns(i,r,l);break;case 1:me||(Cn(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&j_(l,r,c)),ns(i,r,l);break;case 21:ns(i,r,l);break;case 22:me||Cn(l,r),me=(c=me)||l.memoizedState!==null,ns(i,r,l),me=c;break;default:ns(i,r,l)}}function W_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ul(i)}catch(l){ee(r,r.return,l)}}function aA(i){switch(i.tag){case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Y_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Y_),r;default:throw Error(s(435,i.tag))}}function eg(i,r){var l=aA(i);r.forEach(function(c){var g=vA.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function $n(i,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],p=i,T=r,w=T;t:for(;w!==null;){switch(w.tag){case 27:case 5:Ae=w.stateNode,Dn=!1;break t;case 3:Ae=w.stateNode.containerInfo,Dn=!0;break t;case 4:Ae=w.stateNode.containerInfo,Dn=!0;break t}w=w.return}if(Ae===null)throw Error(s(160));X_(p,T,g),Ae=null,Dn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Z_(r,i),r=r.sibling}var ri=null;function Z_(i,r){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:$n(r,i),Qn(i),c&4&&(Ys(3,i,i.return),El(3,i),Ys(5,i,i.return));break;case 1:$n(r,i),Qn(i),c&512&&(me||l===null||Cn(l,l.return)),c&64&&es&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=ri;if($n(r,i),Qn(i),c&512&&(me||l===null||Cn(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){t:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;e:switch(c){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ds]||p[Ue]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(c),g.head.insertBefore(p,g.querySelector("head > title"))),Xe(p,c,l),p[Ue]=i,le(p),c=p;break t;case"link":var T=Fv("link","href",g).get(c+(l.href||""));if(T){for(var w=0;w<T.length;w++)if(p=T[w],p.getAttribute("href")===(l.href==null?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(w,1);break e}}p=g.createElement(c),Xe(p,c,l),g.head.appendChild(p);break;case"meta":if(T=Fv("meta","content",g).get(c+(l.content||""))){for(w=0;w<T.length;w++)if(p=T[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(w,1);break e}}p=g.createElement(c),Xe(p,c,l),g.head.appendChild(p);break;default:throw Error(s(468,c))}p[Ue]=i,le(p),c=p}i.stateNode=c}else qv(g,i.type,i.stateNode);else i.stateNode=jv(g,c,i.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?qv(g,i.type,i.stateNode):jv(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&q_(i,i.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){g=i.stateNode,p=i.memoizedProps;try{for(var k=g.firstChild;k;){var j=k.nextSibling,Z=k.nodeName;k[Ds]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&k.rel.toLowerCase()==="stylesheet"||g.removeChild(k),k=j}for(var st=i.type,$=g.attributes;$.length;)g.removeAttributeNode($[0]);Xe(g,st,p),g[Ue]=i,g[Me]=p}catch(pt){ee(i,i.return,pt)}}case 5:if($n(r,i),Qn(i),c&512&&(me||l===null||Cn(l,l.return)),i.flags&32){g=i.stateNode;try{zn(g,"")}catch(pt){ee(i,i.return,pt)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,q_(i,g,l!==null?l.memoizedProps:g)),c&1024&&(tg=!0);break;case 6:if($n(r,i),Qn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(pt){ee(i,i.return,pt)}}break;case 3:if(ih=null,g=ri,ri=eh(r.containerInfo),$n(r,i),ri=g,Qn(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(pt){ee(i,i.return,pt)}tg&&(tg=!1,J_(i));break;case 4:c=ri,ri=eh(i.stateNode.containerInfo),$n(r,i),Qn(i),ri=c;break;case 12:$n(r,i),Qn(i);break;case 13:$n(r,i),Qn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cg=_n()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,eg(i,c)));break;case 22:if(c&512&&(me||l===null||Cn(l,l.return)),k=i.memoizedState!==null,j=l!==null&&l.memoizedState!==null,Z=es,st=me,es=Z||k,me=st||j,$n(r,i),me=st,es=Z,Qn(i),r=i.stateNode,r._current=i,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,c&8192&&(r._visibility=k?r._visibility&-2:r._visibility|1,k&&(r=es||me,l===null||j||r||Qa(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(l=null,r=i;;){if(r.tag===5||r.tag===26||r.tag===27){if(l===null){j=l=r;try{if(g=j.stateNode,k)p=g.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=j.stateNode,w=j.memoizedProps.style;var X=w!=null&&w.hasOwnProperty("display")?w.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pt){ee(j,j.return,pt)}}}else if(r.tag===6){if(l===null){j=r;try{j.stateNode.nodeValue=k?"":j.memoizedProps}catch(pt){ee(j,j.return,pt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,eg(i,l))));break;case 19:$n(r,i),Qn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,eg(i,c)));break;case 21:break;default:$n(r,i),Qn(i)}}function Qn(i){var r=i.flags;if(r&2){try{if(i.tag!==27){t:{for(var l=i.return;l!==null;){if(G_(l)){var c=l;break t}l=l.return}throw Error(s(160))}switch(c.tag){case 27:var g=c.stateNode,p=Zd(i);Bc(i,p,g);break;case 5:var T=c.stateNode;c.flags&32&&(zn(T,""),c.flags&=-33);var w=Zd(i);Bc(i,w,T);break;case 3:case 4:var k=c.stateNode.containerInfo,j=Zd(i);Jd(i,j,k);break;default:throw Error(s(161))}}}catch(Z){ee(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function J_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;J_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function is(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Q_(i,r.alternate,r),r=r.sibling}function Qa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),Qa(r);break;case 1:Cn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&j_(r,r.return,l),Qa(r);break;case 26:case 27:case 5:Cn(r,r.return),Qa(r);break;case 22:Cn(r,r.return),r.memoizedState===null&&Qa(r);break;default:Qa(r)}i=i.sibling}}function $s(i,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,g=i,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:$s(g,p,l),El(4,p);break;case 1:if($s(g,p,l),c=p,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(j){ee(c,c.return,j)}if(c=p,g=c.updateQueue,g!==null){var w=c.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)U_(k[g],w)}catch(j){ee(c,c.return,j)}}l&&T&64&&H_(p),Kr(p,p.return);break;case 26:case 27:case 5:$s(g,p,l),l&&c===null&&T&4&&F_(p),Kr(p,p.return);break;case 12:$s(g,p,l);break;case 13:$s(g,p,l),l&&T&4&&W_(g,p);break;case 22:p.memoizedState===null&&$s(g,p,l),Kr(p,p.return);break;default:$s(g,p,l)}r=r.sibling}}function ng(i,r){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&hl(l))}function ig(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hl(i))}function Qs(i,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)tv(i,r,l,c),r=r.sibling}function tv(i,r,l,c){var g=r.flags;switch(r.tag){case 0:case 11:case 15:Qs(i,r,l,c),g&2048&&El(9,r);break;case 3:Qs(i,r,l,c),g&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hl(i)));break;case 12:if(g&2048){Qs(i,r,l,c),i=r.stateNode;try{var p=r.memoizedProps,T=p.id,w=p.onPostCommit;typeof w=="function"&&w(T,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){ee(r,r.return,k)}}else Qs(i,r,l,c);break;case 23:break;case 22:p=r.stateNode,r.memoizedState!==null?p._visibility&4?Qs(i,r,l,c):Tl(i,r):p._visibility&4?Qs(i,r,l,c):(p._visibility|=4,Ka(i,r,l,c,(r.subtreeFlags&10256)!==0)),g&2048&&ng(r.alternate,r);break;case 24:Qs(i,r,l,c),g&2048&&ig(r.alternate,r);break;default:Qs(i,r,l,c)}}function Ka(i,r,l,c,g){for(g=g&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=i,T=r,w=l,k=c,j=T.flags;switch(T.tag){case 0:case 11:case 15:Ka(p,T,w,k,g),El(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&4?Ka(p,T,w,k,g):Tl(p,T):(Z._visibility|=4,Ka(p,T,w,k,g)),g&&j&2048&&ng(T.alternate,T);break;case 24:Ka(p,T,w,k,g),g&&j&2048&&ig(T.alternate,T);break;default:Ka(p,T,w,k,g)}r=r.sibling}}function Tl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=i,c=r,g=c.flags;switch(c.tag){case 22:Tl(l,c),g&2048&&ng(c.alternate,c);break;case 24:Tl(l,c),g&2048&&ig(c.alternate,c);break;default:Tl(l,c)}r=r.sibling}}var Sl=8192;function Xa(i){if(i.subtreeFlags&Sl)for(i=i.child;i!==null;)ev(i),i=i.sibling}function ev(i){switch(i.tag){case 26:Xa(i),i.flags&Sl&&i.memoizedState!==null&&QA(ri,i.memoizedState,i.memoizedProps);break;case 5:Xa(i);break;case 3:case 4:var r=ri;ri=eh(i.stateNode.containerInfo),Xa(i),ri=r;break;case 22:i.memoizedState===null&&(r=i.alternate,r!==null&&r.memoizedState!==null?(r=Sl,Sl=16777216,Xa(i),Sl=r):Xa(i));break;default:Xa(i)}}function nv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Al(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Fe=c,sv(c,i)}nv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iv(i),i=i.sibling}function iv(i){switch(i.tag){case 0:case 11:case 15:Al(i),i.flags&2048&&Ys(9,i,i.return);break;case 3:Al(i);break;case 12:Al(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&4&&(i.return===null||i.return.tag!==13)?(r._visibility&=-5,Hc(i)):Al(i);break;default:Al(i)}}function Hc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];Fe=c,sv(c,i)}nv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),Hc(r);break;case 22:l=r.stateNode,l._visibility&4&&(l._visibility&=-5,Hc(r));break;default:Hc(r)}i=i.sibling}}function sv(i,r){for(;Fe!==null;){var l=Fe;switch(l.tag){case 0:case 11:case 15:Ys(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:hl(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Fe=c;else t:for(l=i;Fe!==null;){c=Fe;var g=c.sibling,p=c.return;if(K_(c),c===l){Fe=null;break t}if(g!==null){g.return=p,Fe=g;break t}Fe=p}}}function oA(i,r,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(i,r,l,c){return new oA(i,r,l,c)}function sg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ks(i,r){var l=i.alternate;return l===null?(l=Kn(i.tag,r,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=r,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&31457280,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,r=i.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function rv(i,r){i.flags&=31457282;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,r=l.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function jc(i,r,l,c,g,p){var T=0;if(c=i,typeof i=="function")sg(i)&&(T=1);else if(typeof i=="string")T=YA(i,l,cn.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case d:return Xr(l.children,g,p,r);case m:T=8,g|=24;break;case y:return i=Kn(12,l,r,g|2),i.elementType=y,i.lanes=p,i;case M:return i=Kn(13,l,r,g),i.elementType=M,i.lanes=p,i;case D:return i=Kn(19,l,r,g),i.elementType=D,i.lanes=p,i;case U:return av(l,g,p,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case v:case S:T=10;break t;case b:T=9;break t;case A:T=11;break t;case V:T=14;break t;case B:T=16,c=null;break t}T=29,l=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Kn(T,l,r,g),r.elementType=i,r.type=c,r.lanes=p,r}function Xr(i,r,l,c){return i=Kn(7,i,c,r),i.lanes=l,i}function av(i,r,l,c){i=Kn(22,i,c,r),i.elementType=U,i.lanes=l;var g={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=g._current;if(p===null)throw Error(s(456));if((g._pendingVisibility&2)===0){var T=Ps(p,2);T!==null&&(g._pendingVisibility|=2,mn(T,p,2))}},attach:function(){var p=g._current;if(p===null)throw Error(s(456));if((g._pendingVisibility&2)!==0){var T=Ps(p,2);T!==null&&(g._pendingVisibility&=-3,mn(T,p,2))}}};return i.stateNode=g,i}function rg(i,r,l){return i=Kn(6,i,null,r),i.lanes=l,i}function ag(i,r,l){return r=Kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=l,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function ss(i){i.flags|=4}function ov(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gv(r)){if(r=Yn.current,r!==null&&((Bt&4194176)===Bt?Ei!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||r!==Ei))throw ll=hd,Ay;i.flags|=8192}}function Fc(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ws():536870912,i.lanes|=r,Za|=r)}function wl(i,r){if(!qt)switch(i.tailMode){case"hidden":r=i.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ue(i){var r=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(r)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&31457280,c|=g.flags&31457280,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,r}function lA(i,r,l){var c=r.pendingProps;switch(ud(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return l=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),ts(Ne),Pi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(sl(r)?ss(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,si!==null&&(gg(si),si=null))),ue(r),null;case 26:return l=r.memoizedState,i===null?(ss(r),l!==null?(ue(r),ov(r,l)):(ue(r),r.flags&=-16777217)):l?l!==i.memoizedState?(ss(r),ue(r),ov(r,l)):(ue(r),r.flags&=-16777217):(i.memoizedProps!==c&&ss(r),ue(r),r.flags&=-16777217),null;case 27:ya(r),l=kn.current;var g=r.type;if(i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ss(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}i=cn.current,sl(r)?Ty(r):(i=Pv(g,c,l),r.stateNode=i,ss(r))}return ue(r),null;case 5:if(ya(r),l=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&ss(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return ue(r),null}if(i=cn.current,sl(r))Ty(r);else{switch(g=th(kn.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Ue]=r,i[Me]=c;t:for(g=r.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===r)break t;for(;g.sibling===null;){if(g.return===null||g.return===r)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}r.stateNode=i;t:switch(Xe(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ss(r)}}return ue(r),r.flags&=-16777217,null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&ss(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=kn.current,sl(r)){if(i=r.stateNode,l=r.memoizedProps,c=null,g=gn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Ue]=r,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Ov(i.nodeValue,l)),i||Br(r)}else i=th(i).createTextNode(c),i[Ue]=r,r.stateNode=i}return ue(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=sl(r),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Ue]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),g=!1}else si!==null&&(gg(si),si=null),g=!0;if(!g)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=r.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==g&&(c.flags|=2048)}return l!==i&&l&&(r.child.flags|=8192),Fc(r,r.updateQueue),ue(r),null;case 4:return Pi(),i===null&&wg(r.stateNode.containerInfo),ue(r),null;case 10:return ts(r.type),ue(r),null;case 19:if(de(Ve),g=r.memoizedState,g===null)return ue(r),null;if(c=(r.flags&128)!==0,p=g.rendering,p===null)if(c)wl(g,!1);else{if(pe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(p=xc(i),p!==null){for(r.flags|=128,wl(g,!1),i=p.updateQueue,r.updateQueue=i,Fc(r,i),r.subtreeFlags=0,i=l,l=r.child;l!==null;)rv(l,i),l=l.sibling;return Xt(Ve,Ve.current&1|2),r.child}i=i.sibling}g.tail!==null&&_n()>qc&&(r.flags|=128,c=!0,wl(g,!1),r.lanes=4194304)}else{if(!c)if(i=xc(p),i!==null){if(r.flags|=128,c=!0,i=i.updateQueue,r.updateQueue=i,Fc(r,i),wl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!qt)return ue(r),null}else 2*_n()-g.renderingStartTime>qc&&l!==536870912&&(r.flags|=128,c=!0,wl(g,!1),r.lanes=4194304);g.isBackwards?(p.sibling=r.child,r.child=p):(i=g.last,i!==null?i.sibling=p:r.child=p,g.last=p)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=_n(),r.sibling=null,i=Ve.current,Xt(Ve,c?i&1|2:i&1),r):(ue(r),null);case 22:case 23:return Xi(r),dd(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),l=r.updateQueue,l!==null&&Fc(r,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),i!==null&&de(jr),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ts(Ne),ue(r),null;case 25:return null}throw Error(s(156,r.tag))}function uA(i,r){switch(ud(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ts(Ne),Pi(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return ya(r),null;case 13:if(Xi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return de(Ve),null;case 4:return Pi(),null;case 10:return ts(r.type),null;case 22:case 23:return Xi(r),dd(),i!==null&&de(jr),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ts(Ne),null;case 25:return null;default:return null}}function lv(i,r){switch(ud(r),r.tag){case 3:ts(Ne),Pi();break;case 26:case 27:case 5:ya(r);break;case 4:Pi();break;case 13:Xi(r);break;case 19:de(Ve);break;case 10:ts(r.type);break;case 22:case 23:Xi(r),dd(),i!==null&&de(jr);break;case 24:ts(Ne)}}var cA={getCacheForType:function(i){var r=nn(Ne),l=r.data.get(i);return l===void 0&&(l=i(),r.data.set(i,l)),l}},hA=typeof WeakMap=="function"?WeakMap:Map,ce=0,ie=null,Nt=null,Bt=0,se=0,Mn=null,rs=!1,Wa=!1,og=!1,as=0,pe=0,Xs=0,Wr=0,lg=0,Xn=0,Za=0,xl=null,Si=null,ug=!1,cg=0,qc=1/0,Gc=null,Ws=null,Yc=!1,Zr=null,Rl=0,hg=0,fg=null,Cl=0,dg=null;function On(){if((ce&2)!==0&&Bt!==0)return Bt&-Bt;if(R.T!==null){var i=Fa;return i!==0?i:Eg()}return Zu()}function uv(){Xn===0&&(Xn=(Bt&536870912)===0||qt?Bo():536870912);var i=Yn.current;return i!==null&&(i.flags|=32),Xn}function mn(i,r,l){(i===ie&&se===2||i.cancelPendingCommit!==null)&&(Ja(i,0),os(i,Bt,Xn,!1)),_e(i,l),((ce&2)===0||i!==ie)&&(i===ie&&((ce&2)===0&&(Wr|=l),pe===4&&os(i,Bt,Xn,!1)),Ai(i))}function cv(i,r,l){if((ce&6)!==0)throw Error(s(327));var c=!l&&(r&60)===0&&(r&i.expiredLanes)===0||As(i,r),g=c?gA(i,r):yg(i,r,!0),p=c;do{if(g===0){Wa&&!c&&os(i,r,0,!1);break}else if(g===6)os(i,r,0,!rs);else{if(l=i.current.alternate,p&&!fA(l)){g=yg(i,r,!1),p=!1;continue}if(g===2){if(p=r,i.errorRecoveryDisabledLanes&p)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var w=i;g=xl;var k=w.current.memoizedState.isDehydrated;if(k&&(Ja(w,T).flags|=256),T=yg(w,T,!1),T!==2){if(og&&!k){w.errorRecoveryDisabledLanes|=p,Wr|=p,g=4;break t}p=Si,Si=g,p!==null&&gg(p)}g=T}if(p=!1,g!==2)continue}}if(g===1){Ja(i,0),os(i,r,0,!0);break}t:{switch(c=i,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){os(c,r,Xn,!rs);break t}break;case 2:Si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(c.finishedWork=l,c.finishedLanes=r,(r&62914560)===r&&(p=cg+300-_n(),10<p)){if(os(c,r,Xn,!rs),Ln(c,0)!==0)break t;c.timeoutHandle=Nv(hv.bind(null,c,l,Si,Gc,ug,r,Xn,Wr,Za,rs,2,-0,0),p);break t}hv(c,l,Si,Gc,ug,r,Xn,Wr,Za,rs,0,-0,0)}}break}while(!0);Ai(i)}function gg(i){Si===null?Si=i:Si.push.apply(Si,i)}function hv(i,r,l,c,g,p,T,w,k,j,Z,st,$){var X=r.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:$A},ev(r),r=KA(),r!==null)){i.cancelPendingCommit=r(_v.bind(null,i,l,c,g,T,w,k,1,st,$)),os(i,p,T,!j);return}_v(i,l,c,g,T,w,k,Z,st,$)}function fA(i){for(var r=i;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],p=g.getSnapshot;g=g.value;try{if(!Rn(p(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function os(i,r,l,c){r&=~lg,r&=~Wr,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var g=r;0<g;){var p=31-hn(g),T=1<<p;c[p]=-1,g&=~T}l!==0&&xs(i,l,r)}function $c(){return(ce&6)===0?(Dl(0),!1):!0}function mg(){if(Nt!==null){if(se===0)var i=Nt.return;else i=Nt,Ji=$r=null,Ed(i),Ha=null,ul=0,i=Nt;for(;i!==null;)lv(i.alternate,i),i=i.return;Nt=null}}function Ja(i,r){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,OA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),mg(),ie=i,Nt=l=Ks(i.current,null),Bt=r,se=0,Mn=null,rs=!1,Wa=As(i,r),og=!1,Za=Xn=lg=Wr=Xs=pe=0,Si=xl=null,ug=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var g=31-hn(c),p=1<<g;r|=i[g],c&=~p}return as=r,yc(),l}function fv(i,r){Ot=null,R.H=Ti,r===ol?(r=Ry(),se=3):r===Ay?(r=Ry(),se=4):se=r===w_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Nt===null&&(pe=1,Pc(i,Fn(r,i.current)))}function dv(){var i=R.H;return R.H=Ti,i===null?Ti:i}function gv(){var i=R.A;return R.A=cA,i}function pg(){pe=4,rs||(Bt&4194176)!==Bt&&Yn.current!==null||(Wa=!0),(Xs&134217727)===0&&(Wr&134217727)===0||ie===null||os(ie,Bt,Xn,!1)}function yg(i,r,l){var c=ce;ce|=2;var g=dv(),p=gv();(ie!==i||Bt!==r)&&(Gc=null,Ja(i,r)),r=!1;var T=pe;t:do try{if(se!==0&&Nt!==null){var w=Nt,k=Mn;switch(se){case 8:mg(),T=6;break t;case 3:case 2:case 6:Yn.current===null&&(r=!0);var j=se;if(se=0,Mn=null,to(i,w,k,j),l&&Wa){T=0;break t}break;default:j=se,se=0,Mn=null,to(i,w,k,j)}}dA(),T=pe;break}catch(Z){fv(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Ji=$r=null,ce=c,R.H=g,R.A=p,Nt===null&&(ie=null,Bt=0,yc()),T}function dA(){for(;Nt!==null;)mv(Nt)}function gA(i,r){var l=ce;ce|=2;var c=dv(),g=gv();ie!==i||Bt!==r?(Gc=null,qc=_n()+500,Ja(i,r)):Wa=As(i,r);t:do try{if(se!==0&&Nt!==null){r=Nt;var p=Mn;e:switch(se){case 1:se=0,Mn=null,to(i,r,p,1);break;case 2:if(wy(p)){se=0,Mn=null,pv(r);break}r=function(){se===2&&ie===i&&(se=7),Ai(i)},p.then(r,r);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:wy(p)?(se=0,Mn=null,pv(r)):(se=0,Mn=null,to(i,r,p,7));break;case 5:var T=null;switch(Nt.tag){case 26:T=Nt.memoizedState;case 5:case 27:var w=Nt;if(!T||Gv(T)){se=0,Mn=null;var k=w.sibling;if(k!==null)Nt=k;else{var j=w.return;j!==null?(Nt=j,Qc(j)):Nt=null}break e}}se=0,Mn=null,to(i,r,p,5);break;case 6:se=0,Mn=null,to(i,r,p,6);break;case 8:mg(),pe=6;break t;default:throw Error(s(462))}}mA();break}catch(Z){fv(i,Z)}while(!0);return Ji=$r=null,R.H=c,R.A=g,ce=l,Nt!==null?0:(ie=null,Bt=0,yc(),pe)}function mA(){for(;Nt!==null&&!Gf();)mv(Nt)}function mv(i){var r=P_(i.alternate,i,as);i.memoizedProps=i.pendingProps,r===null?Qc(i):Nt=r}function pv(i){var r=i,l=r.alternate;switch(r.tag){case 15:case 0:r=O_(l,r,r.pendingProps,r.type,void 0,Bt);break;case 11:r=O_(l,r,r.pendingProps,r.type.render,r.ref,Bt);break;case 5:Ed(r);default:lv(l,r),r=Nt=rv(r,as),r=P_(l,r,as)}i.memoizedProps=i.pendingProps,r===null?Qc(i):Nt=r}function to(i,r,l,c){Ji=$r=null,Ed(r),Ha=null,ul=0;var g=r.return;try{if(iA(i,g,r,l,Bt)){pe=1,Pc(i,Fn(l,i.current)),Nt=null;return}}catch(p){if(g!==null)throw Nt=g,p;pe=1,Pc(i,Fn(l,i.current)),Nt=null;return}r.flags&32768?(qt||c===1?i=!0:Wa||(Bt&536870912)!==0?i=!1:(rs=i=!0,(c===2||c===3||c===6)&&(c=Yn.current,c!==null&&c.tag===13&&(c.flags|=16384))),yv(r,i)):Qc(r)}function Qc(i){var r=i;do{if((r.flags&32768)!==0){yv(r,rs);return}i=r.return;var l=lA(r.alternate,r,as);if(l!==null){Nt=l;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=i}while(r!==null);pe===0&&(pe=5)}function yv(i,r){do{var l=uA(i.alternate,i);if(l!==null){l.flags&=32767,Nt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(i=i.sibling,i!==null)){Nt=i;return}Nt=i=l}while(i!==null);pe=6,Nt=null}function _v(i,r,l,c,g,p,T,w,k,j){var Z=R.T,st=at.p;try{at.p=2,R.T=null,pA(i,r,l,c,st,g,p,T,w,k,j)}finally{R.T=Z,at.p=st}}function pA(i,r,l,c,g,p,T,w){do eo();while(Zr!==null);if((ce&6)!==0)throw Error(s(327));var k=i.finishedWork;if(c=i.finishedLanes,k===null)return null;if(i.finishedWork=null,i.finishedLanes=0,k===i.current)throw Error(s(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var j=k.lanes|k.childLanes;if(j|=ad,Xu(i,c,j,p,T,w),i===ie&&(Nt=ie=null,Bt=0),(k.subtreeFlags&10256)===0&&(k.flags&10256)===0||Yc||(Yc=!0,hg=j,fg=l,bA(zi,function(){return eo(),null})),l=(k.flags&15990)!==0,(k.subtreeFlags&15990)!==0||l?(l=R.T,R.T=null,p=at.p,at.p=2,T=ce,ce|=4,rA(i,k),Z_(k,i),BS(Dg,i.containerInfo),ah=!!Cg,Dg=Cg=null,i.current=k,Q_(i,k.alternate,k),Lo(),ce=T,at.p=p,R.T=l):i.current=k,Yc?(Yc=!1,Zr=i,Rl=c):vv(i,j),j=i.pendingLanes,j===0&&(Ws=null),zo(k.stateNode),Ai(i),r!==null)for(g=i.onRecoverableError,k=0;k<r.length;k++)j=r[k],g(j.value,{componentStack:j.stack});return(Rl&3)!==0&&eo(),j=i.pendingLanes,(c&4194218)!==0&&(j&42)!==0?i===dg?Cl++:(Cl=0,dg=i):Cl=0,Dl(0),null}function vv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,hl(r)))}function eo(){if(Zr!==null){var i=Zr,r=hg;hg=0;var l=Wu(Rl),c=R.T,g=at.p;try{if(at.p=32>l?32:l,R.T=null,Zr===null)var p=!1;else{l=fg,fg=null;var T=Zr,w=Rl;if(Zr=null,Rl=0,(ce&6)!==0)throw Error(s(331));var k=ce;if(ce|=4,iv(T.current),tv(T,T.current,w,l),ce=k,Dl(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ts,T)}catch{}p=!0}return p}finally{at.p=g,R.T=c,vv(i,r)}}return!1}function bv(i,r,l){r=Fn(l,r),r=kd(i.stateNode,r,2),i=Gs(i,r,2),i!==null&&(_e(i,2),Ai(i))}function ee(i,r,l){if(i.tag===3)bv(i,i,l);else for(;r!==null;){if(r.tag===3){bv(r,i,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ws===null||!Ws.has(c))){i=Fn(l,i),l=S_(2),c=Gs(r,l,2),c!==null&&(A_(l,c,r,i),_e(c,2),Ai(c));break}}r=r.return}}function _g(i,r,l){var c=i.pingCache;if(c===null){c=i.pingCache=new hA;var g=new Set;c.set(r,g)}else g=c.get(r),g===void 0&&(g=new Set,c.set(r,g));g.has(l)||(og=!0,g.add(l),i=yA.bind(null,i,r,l),r.then(i,i))}function yA(i,r,l){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ie===i&&(Bt&l)===l&&(pe===4||pe===3&&(Bt&62914560)===Bt&&300>_n()-cg?(ce&2)===0&&Ja(i,0):lg|=l,Za===Bt&&(Za=0)),Ai(i)}function Ev(i,r){r===0&&(r=ws()),i=Ps(i,r),i!==null&&(_e(i,r),Ai(i))}function _A(i){var r=i.memoizedState,l=0;r!==null&&(l=r.retryLane),Ev(i,l)}function vA(i,r){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Ev(i,l)}function bA(i,r){return Tr(i,r)}var Kc=null,no=null,vg=!1,Xc=!1,bg=!1,Jr=0;function Ai(i){i!==no&&i.next===null&&(no===null?Kc=no=i:no=no.next=i),Xc=!0,vg||(vg=!0,TA(EA))}function Dl(i,r){if(!bg&&Xc){bg=!0;do for(var l=!1,c=Kc;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var p=0;else{var T=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-hn(42|i)+1)-1,p&=g&~(T&~w),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(l=!0,Av(c,p))}else p=Bt,p=Ln(c,c===ie?p:0),(p&3)===0||As(c,p)||(l=!0,Av(c,p));c=c.next}while(l);bg=!1}}function EA(){Xc=vg=!1;var i=0;Jr!==0&&(MA()&&(i=Jr),Jr=0);for(var r=_n(),l=null,c=Kc;c!==null;){var g=c.next,p=Tv(c,r);p===0?(c.next=null,l===null?Kc=g:l.next=g,g===null&&(no=l)):(l=c,(i!==0||(p&3)!==0)&&(Xc=!0)),c=g}Dl(i)}function Tv(i,r){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var T=31-hn(p),w=1<<T,k=g[T];k===-1?((w&l)===0||(w&c)!==0)&&(g[T]=ba(w,r)):k<=r&&(i.expiredLanes|=w),p&=~w}if(r=ie,l=Bt,l=Ln(i,i===r?l:0),c=i.callbackNode,l===0||i===r&&se===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&va(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||As(i,l)){if(r=l&-l,r===i.callbackPriority)return r;switch(c!==null&&va(c),Wu(l)){case 2:case 8:l=ze;break;case 32:l=zi;break;case 268435456:l=Po;break;default:l=zi}return c=Sv.bind(null,i),l=Tr(l,c),i.callbackPriority=r,i.callbackNode=l,r}return c!==null&&c!==null&&va(c),i.callbackPriority=2,i.callbackNode=null,2}function Sv(i,r){var l=i.callbackNode;if(eo()&&i.callbackNode!==l)return null;var c=Bt;return c=Ln(i,i===ie?c:0),c===0?null:(cv(i,c,r),Tv(i,_n()),i.callbackNode!=null&&i.callbackNode===l?Sv.bind(null,i):null)}function Av(i,r){if(eo())return null;cv(i,r,!0)}function TA(i){IA(function(){(ce&6)!==0?Tr(De,i):i()})}function Eg(){return Jr===0&&(Jr=Bo()),Jr}function wv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:di(""+i)}function xv(i,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,i.id&&l.setAttribute("form",i.id),r.parentNode.insertBefore(l,r),i=new FormData(i),l.parentNode.removeChild(l),i}function SA(i,r,l,c,g){if(r==="submit"&&l&&l.stateNode===g){var p=wv((g[Me]||null).action),T=c.submitter;T&&(r=(r=T[Me]||null)?wv(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var w=new Ra("action","action",null,c,g);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Jr!==0){var k=T?xv(g,T):new FormData(g);Md(l,{pending:!0,data:k,method:g.method,action:p},null,k)}}else typeof p=="function"&&(w.preventDefault(),k=T?xv(g,T):new FormData(g),Md(l,{pending:!0,data:k,method:g.method,action:p},p,k))},currentTarget:g}]})}}for(var Tg=0;Tg<_y.length;Tg++){var Sg=_y[Tg],AA=Sg.toLowerCase(),wA=Sg[0].toUpperCase()+Sg.slice(1);ii(AA,"on"+wA)}ii(dy,"onAnimationEnd"),ii(gy,"onAnimationIteration"),ii(my,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(jS,"onTransitionRun"),ii(FS,"onTransitionStart"),ii(qS,"onTransitionCancel"),ii(py,"onTransitionEnd"),vn("onMouseEnter",["mouseout","mouseover"]),vn("onMouseLeave",["mouseout","mouseover"]),vn("onPointerEnter",["pointerout","pointerover"]),vn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Rv(i,r){r=(r&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;t:{var p=void 0;if(r)for(var T=c.length-1;0<=T;T--){var w=c[T],k=w.instance,j=w.currentTarget;if(w=w.listener,k!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=j;try{p(g)}catch(Z){Lc(Z)}g.currentTarget=null,p=k}else for(T=0;T<c.length;T++){if(w=c[T],k=w.instance,j=w.currentTarget,w=w.listener,k!==p&&g.isPropagationStopped())break t;p=w,g.currentTarget=j;try{p(g)}catch(Z){Lc(Z)}g.currentTarget=null,p=k}}}}function Lt(i,r){var l=r[Ar];l===void 0&&(l=r[Ar]=new Set);var c=i+"__bubble";l.has(c)||(Cv(r,i,2,!1),l.add(c))}function Ag(i,r,l){var c=0;r&&(c|=4),Cv(l,i,c,r)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function wg(i){if(!i[Wc]){i[Wc]=!0,jo.forEach(function(l){l!=="selectionchange"&&(xA.has(l)||Ag(l,!1,i),Ag(l,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Wc]||(r[Wc]=!0,Ag("selectionchange",!1,r))}}function Cv(i,r,l,c){switch(Wv(r)){case 2:var g=ZA;break;case 8:g=JA;break;default:g=zg}l=g.bind(null,r,l,i),g=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(r,l,{capture:!0,passive:g}):i.addEventListener(r,l,!0):g!==void 0?i.addEventListener(r,l,{passive:g}):i.addEventListener(r,l,!1)}function xg(i,r,l,c,g){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===g||w.nodeType===8&&w.parentNode===g)break;if(T===4)for(T=c.return;T!==null;){var k=T.tag;if((k===3||k===4)&&(k=T.stateNode.containerInfo,k===g||k.nodeType===8&&k.parentNode===g))return;T=T.return}for(;w!==null;){if(T=ni(w),T===null)return;if(k=T.tag,k===5||k===6||k===26||k===27){c=p=T;continue t}w=w.parentNode}}c=c.return}nc(function(){var j=p,Z=xa(l),st=[];t:{var $=yy.get(i);if($!==void 0){var X=Ra,pt=i;switch(i){case"keypress":if(mi(l)===0)break t;case"keydown":case"keyup":X=Va;break;case"focusin":pt="focus",X=Ma;break;case"focusout":pt="blur",X=Ma;break;case"beforeblur":case"afterblur":X=Ma;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=cc;break;case dy:case gy:case my:X=Oa;break;case py:X=fc;break;case"scroll":case"scrollend":X=ic;break;case"wheel":X=Na;break;case"copy":case"cut":case"paste":X=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=tl;break;case"toggle":case"beforetoggle":X=gc}var xt=(r&4)!==0,ye=!xt&&(i==="scroll"||i==="scrollend"),F=xt?$!==null?$+"Capture":null:$;xt=[];for(var H=j,G;H!==null;){var J=H;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||F===null||(J=Dr(H,F),J!=null&&xt.push(Ol(H,J,G))),ye)break;H=H.return}0<xt.length&&($=new X($,pt,null,l,Z),st.push({event:$,listeners:xt}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",$&&l!==Un&&(pt=l.relatedTarget||l.fromElement)&&(ni(pt)||pt[Ui]))break t;if((X||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,X?(pt=l.relatedTarget||l.toElement,X=j,pt=pt?ni(pt):null,pt!==null&&(ye=ft(pt),xt=pt.tag,pt!==ye||xt!==5&&xt!==27&&xt!==6)&&(pt=null)):(X=null,pt=j),X!==pt)){if(xt=Hn,J="onMouseLeave",F="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(xt=tl,J="onPointerLeave",F="onPointerEnter",H="pointer"),ye=X==null?$:Ms(X),G=pt==null?$:Ms(pt),$=new xt(J,H+"leave",X,l,Z),$.target=ye,$.relatedTarget=G,J=null,ni(Z)===j&&(xt=new xt(F,H+"enter",pt,l,Z),xt.target=G,xt.relatedTarget=ye,J=xt),ye=J,X&&pt)e:{for(xt=X,F=pt,H=0,G=xt;G;G=io(G))H++;for(G=0,J=F;J;J=io(J))G++;for(;0<H-G;)xt=io(xt),H--;for(;0<G-H;)F=io(F),G--;for(;H--;){if(xt===F||F!==null&&xt===F.alternate)break e;xt=io(xt),F=io(F)}xt=null}else xt=null;X!==null&&Dv(st,$,X,xt,!1),pt!==null&&ye!==null&&Dv(st,ye,pt,xt,!0)}}t:{if($=j?Ms(j):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var gt=ny;else if(Ie($))if(iy)gt=zS;else{gt=LS;var Vt=kS}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?j&&$o(j.elementType)&&(gt=ny):gt=PS;if(gt&&(gt=gt(i,j))){$i(st,gt,l,Z);break t}Vt&&Vt(i,$,j),i==="focusout"&&j&&$.type==="number"&&j.memoizedProps.value!=null&&wa($,"number",$.value)}switch(Vt=j?Ms(j):window,i){case"focusin":(Ie(Vt)||Vt.contentEditable==="true")&&(ka=Vt,id=j,il=null);break;case"focusout":il=id=ka=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,hy(st,l,Z);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":hy(st,l,Z)}var bt;if(_i)t:{switch(i){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else zt?K(i,l)&&(St="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(St="onCompositionStart");St&&(E&&l.locale!=="ko"&&(zt||St!=="onCompositionStart"?St==="onCompositionEnd"&&zt&&(bt=Ko()):(gi=Z,Ls="value"in gi?gi.value:gi.textContent,zt=!0)),Vt=Zc(j,St),0<Vt.length&&(St=new Zo(St,i,null,l,Z),st.push({event:St,listeners:Vt}),bt?St.data=bt:(bt=lt(l),bt!==null&&(St.data=bt)))),(bt=_?Oe(i,l):Ut(i,l))&&(St=Zc(j,"onBeforeInput"),0<St.length&&(Vt=new Zo("onBeforeInput","beforeinput",null,l,Z),st.push({event:Vt,listeners:St}),Vt.data=bt)),SA(st,i,j,l,Z)}Rv(st,r)})}function Ol(i,r,l){return{instance:i,listener:r,currentTarget:l}}function Zc(i,r){for(var l=r+"Capture",c=[];i!==null;){var g=i,p=g.stateNode;g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=Dr(i,l),g!=null&&c.unshift(Ol(i,g,p)),g=Dr(i,r),g!=null&&c.push(Ol(i,g,p))),i=i.return}return c}function io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Dv(i,r,l,c,g){for(var p=r._reactName,T=[];l!==null&&l!==c;){var w=l,k=w.alternate,j=w.stateNode;if(w=w.tag,k!==null&&k===c)break;w!==5&&w!==26&&w!==27||j===null||(k=j,g?(j=Dr(l,p),j!=null&&T.unshift(Ol(l,j,k))):g||(j=Dr(l,p),j!=null&&T.push(Ol(l,j,k)))),l=l.return}T.length!==0&&i.push({event:r,listeners:T})}var RA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function Mv(i){return(typeof i=="string"?i:""+i).replace(RA,`
`).replace(CA,"")}function Ov(i,r){return r=Mv(r),Mv(i)===r}function Jc(){}function te(i,r,l,c,g,p){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||zn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&zn(i,""+c);break;case"className":Vs(i,"class",c);break;case"tabIndex":Vs(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vs(i,l,c);break;case"style":ec(i,c,p);break;case"data":if(r!=="object"){Vs(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=di(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&te(i,r,"name",g.name,g,null),te(i,r,"formEncType",g.formEncType,g,null),te(i,r,"formMethod",g.formMethod,g,null),te(i,r,"formTarget",g.formTarget,g,null)):(te(i,r,"encType",g.encType,g,null),te(i,r,"method",g.method,g,null),te(i,r,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=di(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Jc);break;case"onScroll":c!=null&&Lt("scroll",i);break;case"onScrollEnd":c!=null&&Lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=di(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":Lt("beforetoggle",i),Lt("toggle",i),Is(i,"popover",c);break;case"xlinkActuate":Pn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Is(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Xf.get(l)||l,Is(i,l,c))}}function Rg(i,r,l,c,g,p){switch(l){case"style":ec(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=l}}break;case"children":typeof c=="string"?zn(i,c):(typeof c=="number"||typeof c=="bigint")&&zn(i,""+c);break;case"onScroll":c!=null&&Lt("scroll",i);break;case"onScrollEnd":c!=null&&Lt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),p=i[Me]||null,p=p!=null?p[l]:null,typeof p=="function"&&i.removeEventListener(r,p,g),typeof c=="function")){typeof p!="function"&&p!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(r,c,g);break t}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Is(i,l,c)}}}function Xe(i,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",i),Lt("load",i);var c=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,p,T,l,null)}}g&&te(i,r,"srcSet",l.srcSet,l,null),c&&te(i,r,"src",l.src,l,null);return;case"input":Lt("invalid",i);var w=p=T=g=null,k=null,j=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":g=Z;break;case"type":T=Z;break;case"checked":k=Z;break;case"defaultChecked":j=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:te(i,r,c,Z,l,null)}}Rr(i,p,w,k,j,T,g,!1),xr(i);return;case"select":Lt("invalid",i),c=T=p=null;for(g in l)if(l.hasOwnProperty(g)&&(w=l[g],w!=null))switch(g){case"value":p=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:te(i,r,g,w,l,null)}r=p,l=T,i.multiple=!!c,r!=null?Ft(i,!!c,r,!1):l!=null&&Ft(i,!!c,l,!0);return;case"textarea":Lt("invalid",i),p=g=c=null;for(T in l)if(l.hasOwnProperty(T)&&(w=l[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":g=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:te(i,r,T,w,l,null)}ks(i,c,g,p),xr(i);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(c=l[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:te(i,r,k,c,l,null)}return;case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":Lt("load",i);break;case"video":case"audio":for(c=0;c<Ml.length;c++)Lt(Ml[c],i);break;case"image":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"embed":case"source":case"link":Lt("error",i),Lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(c=l[j],c!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:te(i,r,j,c,l,null)}return;default:if($o(r)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&Rg(i,r,Z,c,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(c=l[w],c!=null&&te(i,r,w,c,l,null))}function DA(i,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,T=null,w=null,k=null,j=null,Z=null;for(X in l){var st=l[X];if(l.hasOwnProperty(X)&&st!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=st;default:c.hasOwnProperty(X)||te(i,r,X,null,c,st)}}for(var $ in c){var X=c[$];if(st=l[$],c.hasOwnProperty($)&&(X!=null||st!=null))switch($){case"type":p=X;break;case"name":g=X;break;case"checked":j=X;break;case"defaultChecked":Z=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==st&&te(i,r,$,X,c,st)}}Ns(i,T,w,k,j,Z,p,g);return;case"select":X=T=w=$=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":X=k;default:c.hasOwnProperty(p)||te(i,r,p,null,c,k)}for(g in c)if(p=c[g],k=l[g],c.hasOwnProperty(g)&&(p!=null||k!=null))switch(g){case"value":$=p;break;case"defaultValue":w=p;break;case"multiple":T=p;default:p!==k&&te(i,r,g,p,c,k)}r=w,l=T,c=X,$!=null?Ft(i,!!l,$,!1):!!c!=!!l&&(r!=null?Ft(i,!!l,r,!0):Ft(i,!!l,l?[]:"",!1));return;case"textarea":X=$=null;for(w in l)if(g=l[w],l.hasOwnProperty(w)&&g!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:te(i,r,w,null,c,g)}for(T in c)if(g=c[T],p=l[T],c.hasOwnProperty(T)&&(g!=null||p!=null))switch(T){case"value":$=g;break;case"defaultValue":X=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&te(i,r,T,g,c,p)}Cr(i,$,X);return;case"option":for(var pt in l)if($=l[pt],l.hasOwnProperty(pt)&&$!=null&&!c.hasOwnProperty(pt))switch(pt){case"selected":i.selected=!1;break;default:te(i,r,pt,null,c,$)}for(k in c)if($=c[k],X=l[k],c.hasOwnProperty(k)&&$!==X&&($!=null||X!=null))switch(k){case"selected":i.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:te(i,r,k,$,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)$=l[xt],l.hasOwnProperty(xt)&&$!=null&&!c.hasOwnProperty(xt)&&te(i,r,xt,null,c,$);for(j in c)if($=c[j],X=l[j],c.hasOwnProperty(j)&&$!==X&&($!=null||X!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:te(i,r,j,$,c,X)}return;default:if($o(r)){for(var ye in l)$=l[ye],l.hasOwnProperty(ye)&&$!==void 0&&!c.hasOwnProperty(ye)&&Rg(i,r,ye,void 0,c,$);for(Z in c)$=c[Z],X=l[Z],!c.hasOwnProperty(Z)||$===X||$===void 0&&X===void 0||Rg(i,r,Z,$,c,X);return}}for(var F in l)$=l[F],l.hasOwnProperty(F)&&$!=null&&!c.hasOwnProperty(F)&&te(i,r,F,null,c,$);for(st in c)$=c[st],X=l[st],!c.hasOwnProperty(st)||$===X||$==null&&X==null||te(i,r,st,$,c,X)}var Cg=null,Dg=null;function th(i){return i.nodeType===9?i:i.ownerDocument}function Iv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Og=null;function MA(){var i=window.event;return i&&i.type==="popstate"?i===Og?!1:(Og=i,!0):(Og=null,!1)}var Nv=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,IA=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(i){return kv.resolve(null).then(i).catch(VA)}:Nv;function VA(i){setTimeout(function(){throw i})}function Ig(i,r){var l=r,c=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(c===0){i.removeChild(g),Ul(r);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=g}while(l);Ul(r)}function Vg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vg(l),wr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function NA(i,r,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ds])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==g.rel||i.getAttribute("href")!==(g.href==null?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=ai(i.nextSibling),i===null)break}return null}function kA(i,r,l){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ai(i.nextSibling),i===null))return null;return i}function ai(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return i}function Lv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return i;r--}else l==="/$"&&r++}i=i.previousSibling}return null}function Pv(i,r,l){switch(r=th(l),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}var Wn=new Map,zv=new Set;function eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ls=at.d;at.d={f:LA,r:PA,D:zA,C:UA,L:BA,m:HA,X:FA,S:jA,M:qA};function LA(){var i=ls.f(),r=$c();return i||r}function PA(i){var r=Bi(i);r!==null&&r.tag===5&&r.type==="form"?h_(r):ls.r(i)}var so=typeof document>"u"?null:document;function Uv(i,r,l){var c=so;if(c&&typeof r=="string"&&r){var g=ge(r);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),zv.has(g)||(zv.add(g),i={rel:i,crossOrigin:l,href:r},c.querySelector(g)===null&&(r=c.createElement("link"),Xe(r,"link",i),le(r),c.head.appendChild(r)))}}function zA(i){ls.D(i),Uv("dns-prefetch",i,null)}function UA(i,r){ls.C(i,r),Uv("preconnect",i,r)}function BA(i,r,l){ls.L(i,r,l);var c=so;if(c&&i&&r){var g='link[rel="preload"][as="'+ge(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+ge(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+ge(l.imageSizes)+'"]')):g+='[href="'+ge(i)+'"]';var p=g;switch(r){case"style":p=ro(i);break;case"script":p=ao(i)}Wn.has(p)||(i=O({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:i,as:r},l),Wn.set(p,i),c.querySelector(g)!==null||r==="style"&&c.querySelector(Il(p))||r==="script"&&c.querySelector(Vl(p))||(r=c.createElement("link"),Xe(r,"link",i),le(r),c.head.appendChild(r)))}}function HA(i,r){ls.m(i,r);var l=so;if(l&&i){var c=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+ge(c)+'"][href="'+ge(i)+'"]',p=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ao(i)}if(!Wn.has(p)&&(i=O({rel:"modulepreload",href:i},r),Wn.set(p,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vl(p)))return}c=l.createElement("link"),Xe(c,"link",i),le(c),l.head.appendChild(c)}}}function jA(i,r,l){ls.S(i,r,l);var c=so;if(c&&i){var g=Os(c).hoistableStyles,p=ro(i);r=r||"default";var T=g.get(p);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(Il(p)))w.loading=5;else{i=O({rel:"stylesheet",href:i,"data-precedence":r},l),(l=Wn.get(p))&&Ng(i,l);var k=T=c.createElement("link");le(k),Xe(k,"link",i),k._p=new Promise(function(j,Z){k.onload=j,k.onerror=Z}),k.addEventListener("load",function(){w.loading|=1}),k.addEventListener("error",function(){w.loading|=2}),w.loading|=4,nh(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:w},g.set(p,T)}}}function FA(i,r){ls.X(i,r);var l=so;if(l&&i){var c=Os(l).hoistableScripts,g=ao(i),p=c.get(g);p||(p=l.querySelector(Vl(g)),p||(i=O({src:i,async:!0},r),(r=Wn.get(g))&&kg(i,r),p=l.createElement("script"),le(p),Xe(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function qA(i,r){ls.M(i,r);var l=so;if(l&&i){var c=Os(l).hoistableScripts,g=ao(i),p=c.get(g);p||(p=l.querySelector(Vl(g)),p||(i=O({src:i,async:!0,type:"module"},r),(r=Wn.get(g))&&kg(i,r),p=l.createElement("script"),le(p),Xe(p,"link",i),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(g,p))}}function Bv(i,r,l,c){var g=(g=kn.current)?eh(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=ro(l.href),l=Os(g).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ro(l.href);var p=Os(g).hoistableStyles,T=p.get(i);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,T),(p=g.querySelector(Il(i)))&&!p._p&&(T.instance=p,T.state.loading=5),Wn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wn.set(i,l),p||GA(g,i,l,T.state))),r&&c===null)throw Error(s(528,""));return T}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(l),l=Os(g).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ro(i){return'href="'+ge(i)+'"'}function Il(i){return'link[rel="stylesheet"]['+i+"]"}function Hv(i){return O({},i,{"data-precedence":i.precedence,precedence:null})}function GA(i,r,l,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Xe(r,"link",l),le(r),i.head.appendChild(r))}function ao(i){return'[src="'+ge(i)+'"]'}function Vl(i){return"script[async]"+i}function jv(i,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+ge(l.href)+'"]');if(c)return r.instance=c,le(c),c;var g=O({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),le(c),Xe(c,"style",g),nh(c,l.precedence,i),r.instance=c;case"stylesheet":g=ro(l.href);var p=i.querySelector(Il(g));if(p)return r.state.loading|=4,r.instance=p,le(p),p;c=Hv(l),(g=Wn.get(g))&&Ng(c,g),p=(i.ownerDocument||i).createElement("link"),le(p);var T=p;return T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),Xe(p,"link",c),r.state.loading|=4,nh(p,l.precedence,i),r.instance=p;case"script":return p=ao(l.src),(g=i.querySelector(Vl(p)))?(r.instance=g,le(g),g):(c=l,(g=Wn.get(p))&&(c=O({},l),kg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),le(g),Xe(g,"link",c),i.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,nh(c,l.precedence,i));return r.instance}function nh(i,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,p=g,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===r)p=w;else if(p!==g)break}p?p.parentNode.insertBefore(i,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(i,r.firstChild))}function Ng(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function kg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ih=null;function Fv(i,r,l){if(ih===null){var c=new Map,g=ih=new Map;g.set(l,c)}else g=ih,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var p=l[g];if(!(p[Ds]||p[Ue]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=i+T;var w=c.get(T);w?w.push(p):c.set(T,[p])}}return c}function qv(i,r,l){i=i.ownerDocument||i,i.head.insertBefore(l,r==="title"?i.querySelector("head > title"):null)}function YA(i,r,l){if(l===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Nl=null;function $A(){}function QA(i,r,l){if(Nl===null)throw Error(s(475));var c=Nl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var g=ro(l.href),p=i.querySelector(Il(g));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=sh.bind(c),i.then(c,c)),r.state.loading|=4,r.instance=p,le(p);return}p=i.ownerDocument||i,l=Hv(l),(g=Wn.get(g))&&Ng(l,g),p=p.createElement("link"),le(p);var T=p;T._p=new Promise(function(w,k){T.onload=w,T.onerror=k}),Xe(p,"link",l),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=sh.bind(c),i.addEventListener("load",r),i.addEventListener("error",r))}}function KA(){if(Nl===null)throw Error(s(475));var i=Nl;return i.stylesheets&&i.count===0&&Lg(i,i.stylesheets),0<i.count?function(r){var l=setTimeout(function(){if(i.stylesheets&&Lg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=r,function(){i.unsuspend=null,clearTimeout(l)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)Lg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rh=null;function Lg(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rh=new Map,r.forEach(XA,i),rh=null,sh.call(i))}function XA(i,r){if(!(r.state.loading&4)){var l=rh.get(i);if(l)var c=l.get(null);else{l=new Map,rh.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var T=g[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}g=r.instance,T=g.getAttribute("data-precedence"),p=l.get(T)||c,p===c&&l.set(null,g),l.set(T,g),this.count++,c=sh.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),p?p.parentNode.insertBefore(g,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),r.state.loading|=4}}var kl={$$typeof:S,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function WA(i,r,l,c,g,p,T,w){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Yv(i,r,l,c,g,p,T,w,k,j,Z,st){return i=new WA(i,r,l,T,w,k,j,st),r=1,p===!0&&(r|=24),p=Kn(3,null,null,r),i.current=p,p.stateNode=i,r=gd(),r.refCount++,i.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:r},Qd(p),i}function $v(i){return i?(i=za,i):za}function Qv(i,r,l,c,g,p){g=$v(g),c.context===null?c.context=g:c.pendingContext=g,c=qs(r),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=Gs(i,c,r),l!==null&&(mn(l,i,r),_l(l,i,r))}function Kv(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<r?l:r}}function Pg(i,r){Kv(i,r),(i=i.alternate)&&Kv(i,r)}function Xv(i){if(i.tag===13){var r=Ps(i,67108864);r!==null&&mn(r,i,67108864),Pg(i,67108864)}}var ah=!0;function ZA(i,r,l,c){var g=R.T;R.T=null;var p=at.p;try{at.p=2,zg(i,r,l,c)}finally{at.p=p,R.T=g}}function JA(i,r,l,c){var g=R.T;R.T=null;var p=at.p;try{at.p=8,zg(i,r,l,c)}finally{at.p=p,R.T=g}}function zg(i,r,l,c){if(ah){var g=Ug(c);if(g===null)xg(i,r,c,oh,l),Zv(i,c);else if(ew(g,i,r,l,c))c.stopPropagation();else if(Zv(i,c),r&4&&-1<tw.indexOf(i)){for(;g!==null;){var p=Bi(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=ei(p.pendingLanes);if(T!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var k=1<<31-hn(T);w.entanglements[1]|=k,T&=~k}Ai(p),(ce&6)===0&&(qc=_n()+500,Dl(0))}}break;case 13:w=Ps(p,2),w!==null&&mn(w,p,2),$c(),Pg(p,2)}if(p=Ug(c),p===null&&xg(i,r,c,oh,l),p===g)break;g=p}g!==null&&c.stopPropagation()}else xg(i,r,c,null,l)}}function Ug(i){return i=xa(i),Bg(i)}var oh=null;function Bg(i){if(oh=null,i=ni(i),i!==null){var r=ft(i);if(r===null)i=null;else{var l=r.tag;if(l===13){if(i=Et(r),i!==null)return i;i=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return oh=i,null}function Wv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yu()){case De:return 2;case ze:return 8;case zi:case $u:return 32;case Po:return 268435456;default:return 32}default:return 32}}var Hg=!1,Zs=null,Js=null,tr=null,Ll=new Map,Pl=new Map,er=[],tw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(i,r){switch(i){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function zl(i,r,l,c,g,p){return i===null||i.nativeEvent!==p?(i={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[g]},r!==null&&(r=Bi(r),r!==null&&Xv(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),i)}function ew(i,r,l,c,g){switch(r){case"focusin":return Zs=zl(Zs,i,r,l,c,g),!0;case"dragenter":return Js=zl(Js,i,r,l,c,g),!0;case"mouseover":return tr=zl(tr,i,r,l,c,g),!0;case"pointerover":var p=g.pointerId;return Ll.set(p,zl(Ll.get(p)||null,i,r,l,c,g)),!0;case"gotpointercapture":return p=g.pointerId,Pl.set(p,zl(Pl.get(p)||null,i,r,l,c,g)),!0}return!1}function Jv(i){var r=ni(i.target);if(r!==null){var l=ft(r);if(l!==null){if(r=l.tag,r===13){if(r=Et(l),r!==null){i.blockedOn=r,Cs(i.priority,function(){if(l.tag===13){var c=On(),g=Ps(l,c);g!==null&&mn(g,l,c),Pg(l,c)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var l=Ug(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Un=c,l.target.dispatchEvent(c),Un=null}else return r=Bi(l),r!==null&&Xv(r),i.blockedOn=l,!1;r.shift()}return!0}function t0(i,r,l){lh(i)&&l.delete(r)}function nw(){Hg=!1,Zs!==null&&lh(Zs)&&(Zs=null),Js!==null&&lh(Js)&&(Js=null),tr!==null&&lh(tr)&&(tr=null),Ll.forEach(t0),Pl.forEach(t0)}function uh(i,r){i.blockedOn===r&&(i.blockedOn=null,Hg||(Hg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nw)))}var ch=null;function e0(i){ch!==i&&(ch=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ch===i&&(ch=null);for(var r=0;r<i.length;r+=3){var l=i[r],c=i[r+1],g=i[r+2];if(typeof c!="function"){if(Bg(c||l)===null)continue;break}var p=Bi(l);p!==null&&(i.splice(r,3),r-=3,Md(p,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Ul(i){function r(k){return uh(k,i)}Zs!==null&&uh(Zs,i),Js!==null&&uh(Js,i),tr!==null&&uh(tr,i),Ll.forEach(r),Pl.forEach(r);for(var l=0;l<er.length;l++){var c=er[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<er.length&&(l=er[0],l.blockedOn===null);)Jv(l),l.blockedOn===null&&er.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],p=l[c+1],T=g[Me]||null;if(typeof p=="function")T||e0(l);else if(T){var w=null;if(p&&p.hasAttribute("formAction")){if(g=p,T=p[Me]||null)w=T.formAction;else if(Bg(g)!==null)continue}else w=T.action;typeof w=="function"?l[c+1]=w:(l.splice(c,3),c-=3),e0(l)}}}function jg(i){this._internalRoot=i}hh.prototype.render=jg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,c=On();Qv(l,c,i,r,null,null)},hh.prototype.unmount=jg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;i.tag===0&&eo(),Qv(i.current,2,null,i,null,null),$c(),r[Ui]=null}};function hh(i){this._internalRoot=i}hh.prototype.unstable_scheduleHydration=function(i){if(i){var r=Zu();i={blockedOn:null,target:i,priority:r};for(var l=0;l<er.length&&r!==0&&r<er[l].priority;l++);er.splice(l,0,i),l===0&&Jv(i)}};var n0=t.version;if(n0!=="19.0.0")throw Error(s(527,n0,"19.0.0"));at.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=et(r),i=i!==null?ht(i):null,i=i===null?null:i.stateNode,i};var iw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ni,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Ts=fh.inject(iw),en=fh}catch{}}return Hl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var l=!1,c="",g=v_,p=b_,T=E_,w=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Yv(i,1,!1,null,null,l,c,g,p,T,w,null),i[Ui]=r.current,wg(i.nodeType===8?i.parentNode:i),new jg(r)},Hl.hydrateRoot=function(i,r,l){if(!a(i))throw Error(s(299));var c=!1,g="",p=v_,T=b_,w=E_,k=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),r=Yv(i,1,!0,r,l??null,c,g,p,T,w,k,j),r.context=$v(null),l=r.current,c=On(),g=qs(c),g.callback=null,Gs(l,g,c),r.current.lanes=c,_e(r,c),Ai(r),i[Ui]=r.current,wg(i),new hh(r)},Hl.version="19.0.0",Hl}var f0;function pw(){if(f0)return Gg.exports;f0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gg.exports=mw(),Gg.exports}var yw=pw(),jl={},d0;function _w(){if(d0)return jl;d0=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=u,jl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function u(b,S){const A=new o,M=b.length;if(M<2)return A;const D=(S==null?void 0:S.decode)||y;let V=0;do{const B=b.indexOf("=",V);if(B===-1)break;const U=b.indexOf(";",V),Q=U===-1?M:U;if(B>Q){V=b.lastIndexOf(";",B-1)+1;continue}const W=h(b,V,B),rt=d(b,B,W),N=b.slice(W,rt);if(A[N]===void 0){let x=h(b,B+1,Q),R=d(b,Q,x);const O=D(b.slice(x,R));A[N]=O}V=Q+1}while(V<M);return A}function h(b,S,A){do{const M=b.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<A);return A}function d(b,S,A){for(;S>A;){const M=b.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return A}function m(b,S,A){const M=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=M(S);if(!t.test(D))throw new TypeError(`argument val is invalid: ${S}`);let V=b+"="+D;if(!A)return V;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);V+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);V+="; Domain="+A.domain}if(A.path){if(!s.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);V+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);V+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(V+="; HttpOnly"),A.secure&&(V+="; Secure"),A.partitioned&&(V+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return V}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return a.call(b)==="[object Date]"}return jl}_w();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g0="popstate";function vw(n={}){function t(s,a){let{pathname:o,search:u,hash:h}=s.location;return mm("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(s,a){return typeof a=="string"?a:pu(a)}return Ew(t,e,null,n)}function he(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Oi(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bw(){return Math.random().toString(36).substring(2,10)}function m0(n,t){return{usr:n.state,key:n.key,idx:t}}function mm(n,t,e=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?xo(t):t,state:e,key:t&&t.key||s||bw()}}function pu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function xo(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let s=n.indexOf("?");s>=0&&(t.search=n.substring(s),n=n.substring(0,s)),n&&(t.pathname=n)}return t}function Ew(n,t,e,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,u=a.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=y(),V=D==null?null:D-m;m=D,d&&d({action:h,location:M.location,delta:V})}function b(D,V){h="PUSH";let B=mm(M.location,D,V);m=y()+1;let U=m0(B,m),Q=M.createHref(B);try{u.pushState(U,"",Q)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(Q)}o&&d&&d({action:h,location:M.location,delta:1})}function S(D,V){h="REPLACE";let B=mm(M.location,D,V);m=y();let U=m0(B,m),Q=M.createHref(B);u.replaceState(U,"",Q),o&&d&&d({action:h,location:M.location,delta:0})}function A(D){let V=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof D=="string"?D:pu(D);return B=B.replace(/ $/,"%20"),he(V,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,V)}let M={get action(){return h},get location(){return n(a,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(g0,v),d=D,()=>{a.removeEventListener(g0,v),d=null}},createHref(D){return t(a,D)},createURL:A,encodeLocation(D){let V=A(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:b,replace:S,go(D){return u.go(D)}};return M}function HE(n,t,e="/"){return Tw(n,t,e,!1)}function Tw(n,t,e,s){let a=typeof t=="string"?xo(t):t,o=ms(a.pathname||"/",e);if(o==null)return null;let u=jE(n);Sw(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=Nw(o);h=Iw(u[d],m,s)}return h}function jE(n,t=[],e=[],s=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(he(d.relativePath.startsWith(s),`Absolute route path "${d.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(s.length));let m=ds([s,d.relativePath]),y=e.concat(d);o.children&&o.children.length>0&&(he(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jE(o.children,t,y,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:Mw(m,o.index),routesMeta:y})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let d of FE(o.path))a(o,u,d)}),t}function FE(n){let t=n.split("/");if(t.length===0)return[];let[e,...s]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let u=FE(s.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function Sw(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:Ow(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var Aw=/^:[\w-]+$/,ww=3,xw=2,Rw=1,Cw=10,Dw=-2,p0=n=>n==="*";function Mw(n,t){let e=n.split("/"),s=e.length;return e.some(p0)&&(s+=Dw),t&&(s+=xw),e.filter(a=>!p0(a)).reduce((a,o)=>a+(Aw.test(o)?ww:o===""?Rw:Cw),s)}function Ow(n,t){return n.length===t.length&&n.slice(0,-1).every((s,a)=>s===t[a])?n[n.length-1]-t[t.length-1]:0}function Iw(n,t,e=!1){let{routesMeta:s}=n,a={},o="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Yh({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),b=d.route;if(!v&&m&&e&&!s[s.length-1].route.index&&(v=Yh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:ds([o,v.pathname]),pathnameBase:zw(ds([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=ds([o,v.pathnameBase]))}return u}function Yh(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,s]=Vw(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let A=h[b]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const S=h[b];return v&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function Vw(n,t=!1,e=!0){Oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function Nw(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ms(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=n.charAt(e);return s&&s!=="/"?null:n.slice(e)||"/"}function kw(n,t="/"){let{pathname:e,search:s="",hash:a=""}=typeof n=="string"?xo(n):n;return{pathname:e?e.startsWith("/")?e:Lw(e,t):t,search:Uw(s),hash:Bw(a)}}function Lw(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Kg(n,t,e,s){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function qE(n){let t=Pw(n);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function GE(n,t,e,s=!1){let a;typeof n=="string"?a=xo(n):(a={...n},he(!a.pathname||!a.pathname.includes("?"),Kg("?","pathname","search",a)),he(!a.pathname||!a.pathname.includes("#"),Kg("#","pathname","hash",a)),he(!a.search||!a.search.includes("#"),Kg("#","search","hash",a)));let o=n===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=e;else{let v=t.length-1;if(!s&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),v-=1;a.pathname=b.join("/")}h=v>=0?t[v]:"/"}let d=kw(a,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var ds=n=>n.join("/").replace(/\/\/+/g,"/"),zw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Uw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Hw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var jw=["GET",...YE];new Set(jw);var Ro=Y.createContext(null);Ro.displayName="DataRouter";var vf=Y.createContext(null);vf.displayName="DataRouterState";var $E=Y.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var Fw=Y.createContext(new Map);Fw.displayName="Fetchers";var qw=Y.createContext(null);qw.displayName="Await";var Ni=Y.createContext(null);Ni.displayName="Navigation";var Nu=Y.createContext(null);Nu.displayName="Location";var ki=Y.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var Jm=Y.createContext(null);Jm.displayName="RouteError";function Gw(n,{relative:t}={}){he(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=Y.useContext(Ni),{hash:a,pathname:o,search:u}=Lu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ds([e,o])),s.createHref({pathname:h,search:u,hash:a})}function ku(){return Y.useContext(Nu)!=null}function ga(){return he(ku(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Nu).location}var QE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KE(n){Y.useContext(Ni).static||Y.useLayoutEffect(n)}function bf(){let{isDataRoute:n}=Y.useContext(ki);return n?rx():Yw()}function Yw(){he(ku(),"useNavigate() may be used only in the context of a <Router> component.");let n=Y.useContext(Ro),{basename:t,navigator:e}=Y.useContext(Ni),{matches:s}=Y.useContext(ki),{pathname:a}=ga(),o=JSON.stringify(qE(s)),u=Y.useRef(!1);return KE(()=>{u.current=!0}),Y.useCallback((d,m={})=>{if(Oi(u.current,QE),!u.current)return;if(typeof d=="number"){e.go(d);return}let y=GE(d,JSON.parse(o),a,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ds([t,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[t,e,o,a,n])}Y.createContext(null);function $w(){let{matches:n}=Y.useContext(ki),t=n[n.length-1];return t?t.params:{}}function Lu(n,{relative:t}={}){let{matches:e}=Y.useContext(ki),{pathname:s}=ga(),a=JSON.stringify(qE(e));return Y.useMemo(()=>GE(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function Qw(n,t){return XE(n,t)}function XE(n,t,e,s){var B;he(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=Y.useContext(Ni),{matches:u}=Y.useContext(ki),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";WE(m,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ga(),S;if(t){let U=typeof t=="string"?xo(t):t;he(y==="/"||((B=U.pathname)==null?void 0:B.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=b;let A=S.pathname||"/",M=A;if(y!=="/"){let U=y.replace(/^\//,"").split("/");M="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let D=!o&&e&&e.matches&&e.matches.length>0?e.matches:HE(n,{pathname:M});Oi(v||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Oi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Jw(D&&D.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:ds([y,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ds([y,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,e,s);return t&&V?Y.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function Kw(){let n=sx(),t=Hw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:o},"ErrorBoundary")," or"," ",Y.createElement("code",{style:o},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),e?Y.createElement("pre",{style:a},e):null,u)}var Xw=Y.createElement(Kw,null),Ww=class extends Y.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?Y.createElement(ki.Provider,{value:this.props.routeContext},Y.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zw({routeContext:n,match:t,children:e}){let s=Y.useContext(Ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(ki.Provider,{value:n},e)}function Jw(n,t=[],e=null,s=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let a=n,o=e==null?void 0:e.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);he(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(e)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:y,errors:v}=e,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,y)=>{let v,b=!1,S=null,A=null;e&&(v=o&&m.route.id?o[m.route.id]:void 0,S=m.route.errorElement||Xw,u&&(h<0&&y===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===y&&(b=!0,A=m.route.hydrateFallbackElement||null)));let M=t.concat(a.slice(0,y+1)),D=()=>{let V;return v?V=S:b?V=A:m.route.Component?V=Y.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=d,Y.createElement(Zw,{match:m,routeContext:{outlet:d,matches:M,isDataRoute:e!=null},children:V})};return e&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?Y.createElement(Ww,{location:e.location,revalidation:e.revalidation,component:S,error:v,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function tp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tx(n){let t=Y.useContext(Ro);return he(t,tp(n)),t}function ex(n){let t=Y.useContext(vf);return he(t,tp(n)),t}function nx(n){let t=Y.useContext(ki);return he(t,tp(n)),t}function ep(n){let t=nx(n),e=t.matches[t.matches.length-1];return he(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function ix(){return ep("useRouteId")}function sx(){var s;let n=Y.useContext(Jm),t=ex("useRouteError"),e=ep("useRouteError");return n!==void 0?n:(s=t.errors)==null?void 0:s[e]}function rx(){let{router:n}=tx("useNavigate"),t=ep("useNavigate"),e=Y.useRef(!1);return KE(()=>{e.current=!0}),Y.useCallback(async(a,o={})=>{Oi(e.current,QE),e.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:t,...o}))},[n,t])}var y0={};function WE(n,t,e){!t&&!y0[n]&&(y0[n]=!0,Oi(!1,e))}Y.memo(ax);function ax({routes:n,future:t,state:e}){return XE(n,void 0,e,t)}function Kl(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:n="/",children:t=null,location:e,navigationType:s="POP",navigator:a,static:o=!1}){he(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Y.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof e=="string"&&(e=xo(e));let{pathname:d="/",search:m="",hash:y="",state:v=null,key:b="default"}=e,S=Y.useMemo(()=>{let A=ms(d,u);return A==null?null:{location:{pathname:A,search:m,hash:y,state:v,key:b},navigationType:s}},[u,d,m,y,v,b,s]);return Oi(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Y.createElement(Ni.Provider,{value:h},Y.createElement(Nu.Provider,{children:t,value:S}))}function lx({children:n,location:t}){return Qw(pm(n),t)}function pm(n,t=[]){let e=[];return Y.Children.forEach(n,(s,a)=>{if(!Y.isValidElement(s))return;let o=[...t,a];if(s.type===Y.Fragment){e.push.apply(e,pm(s.props.children,o));return}he(s.type===Kl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=pm(s.props.children,o)),e.push(u)}),e}var Nh="get",kh="application/x-www-form-urlencoded";function Ef(n){return n!=null&&typeof n.tagName=="string"}function ux(n){return Ef(n)&&n.tagName.toLowerCase()==="button"}function cx(n){return Ef(n)&&n.tagName.toLowerCase()==="form"}function hx(n){return Ef(n)&&n.tagName.toLowerCase()==="input"}function fx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dx(n,t){return n.button===0&&(!t||t==="_self")&&!fx(n)}var dh=null;function gx(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xg(n){return n!=null&&!mx.has(n)?(Oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):n}function px(n,t){let e,s,a,o,u;if(cx(n)){let h=n.getAttribute("action");s=h?ms(h,t):null,e=n.getAttribute("method")||Nh,a=Xg(n.getAttribute("enctype"))||kh,o=new FormData(n)}else if(ux(n)||hx(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(s=d?ms(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Nh,a=Xg(n.getAttribute("formenctype"))||Xg(h.getAttribute("enctype"))||kh,o=new FormData(h,n),!gx()){let{name:m,type:y,value:v}=n;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(Ef(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Nh,s=null,a=kh,u=n}return o&&a==="text/plain"&&(u=o,o=void 0),{action:s,method:e.toLowerCase(),encType:a,formData:o,body:u}}function np(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function yx(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _x(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function vx(n,t,e){let s=await Promise.all(n.map(async a=>{let o=t.routes[a.route.id];if(o){let u=await yx(o,e);return u.links?u.links():[]}return[]}));return Sx(s.flat(1).filter(_x).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function _0(n,t,e,s,a,o){let u=(d,m)=>e[m]?d.route.id!==e[m].route.id:!0,h=(d,m)=>{var y;return e[m].pathname!==d.pathname||((y=e[m].route.path)==null?void 0:y.endsWith("*"))&&e[m].params["*"]!==d.params["*"]};return o==="assets"?t.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?t.filter((d,m)=>{var v;let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function bx(n,t,{includeHydrateFallback:e}={}){return Ex(n.map(s=>{let a=t.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Ex(n){return[...new Set(n)]}function Tx(n){let t={},e=Object.keys(n).sort();for(let s of e)t[s]=n[s];return t}function Sx(n,t){let e=new Set;return new Set(t),n.reduce((s,a)=>{let o=JSON.stringify(Tx(a));return e.has(o)||(e.add(o),s.push({key:o,link:a})),s},[])}function Ax(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&ms(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ZE(){let n=Y.useContext(Ro);return np(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function wx(){let n=Y.useContext(vf);return np(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ip=Y.createContext(void 0);ip.displayName="FrameworkContext";function JE(){let n=Y.useContext(ip);return np(n,"You must render this element inside a <HydratedRouter> element"),n}function xx(n,t){let e=Y.useContext(ip),[s,a]=Y.useState(!1),[o,u]=Y.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,b=Y.useRef(null);Y.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let M=V=>{V.forEach(B=>{u(B.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),Y.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},A=()=>{a(!1),u(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:Fl(h,S),onBlur:Fl(d,A),onMouseEnter:Fl(m,S),onMouseLeave:Fl(y,A),onTouchStart:Fl(v,S)}]:[!1,b,{}]}function Fl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function Rx({page:n,...t}){let{router:e}=ZE(),s=Y.useMemo(()=>HE(e.routes,n,e.basename),[e.routes,n,e.basename]);return s?Y.createElement(Dx,{page:n,matches:s,...t}):null}function Cx(n){let{manifest:t,routeModules:e}=JE(),[s,a]=Y.useState([]);return Y.useEffect(()=>{let o=!1;return vx(n,t,e).then(u=>{o||a(u)}),()=>{o=!0}},[n,t,e]),s}function Dx({page:n,matches:t,...e}){let s=ga(),{manifest:a,routeModules:o}=JE(),{basename:u}=ZE(),{loaderData:h,matches:d}=wx(),m=Y.useMemo(()=>_0(n,t,d,a,s,"data"),[n,t,d,a,s]),y=Y.useMemo(()=>_0(n,t,d,a,s,"assets"),[n,t,d,a,s]),v=Y.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let A=new Set,M=!1;if(t.forEach(V=>{var U;let B=a.routes[V.route.id];!B||!B.hasLoader||(!m.some(Q=>Q.route.id===V.route.id)&&V.route.id in h&&((U=o[V.route.id])!=null&&U.shouldRevalidate)||B.hasClientLoader?M=!0:A.add(V.route.id))}),A.size===0)return[];let D=Ax(n,u);return M&&A.size>0&&D.searchParams.set("_routes",t.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[u,h,s,a,m,t,n,o]),b=Y.useMemo(()=>bx(y,a),[y,a]),S=Cx(y);return Y.createElement(Y.Fragment,null,v.map(A=>Y.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>Y.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:M})=>Y.createElement("link",{key:A,...M})))}function Mx(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.4.0")}catch{}function Ox({basename:n,children:t,window:e}){let s=Y.useRef();s.current==null&&(s.current=vw({window:e,v5Compat:!0}));let a=s.current,[o,u]=Y.useState({action:a.action,location:a.location}),h=Y.useCallback(d=>{Y.startTransition(()=>u(d))},[u]);return Y.useLayoutEffect(()=>a.listen(h),[a,h]),Y.createElement(ox,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:a})}var eT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nT=Y.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:v,...b},S){let{basename:A}=Y.useContext(Ni),M=typeof m=="string"&&eT.test(m),D,V=!1;if(typeof m=="string"&&M&&(D=m,tT))try{let R=new URL(window.location.href),O=m.startsWith("//")?new URL(R.protocol+m):new URL(m),L=ms(O.pathname,A);O.origin===R.origin&&L!=null?m=L+O.search+O.hash:V=!0}catch{Oi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=Gw(m,{relative:a}),[U,Q,W]=xx(s,b),rt=kx(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function N(R){t&&t(R),R.defaultPrevented||rt(R)}let x=Y.createElement("a",{...b,...W,href:D||B,onClick:V||o?t:N,ref:Mx(S,Q),target:d,"data-discover":!M&&e==="render"?"true":void 0});return U&&!M?Y.createElement(Y.Fragment,null,x,Y.createElement(Rx,{page:B})):x});nT.displayName="Link";var Ix=Y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let v=Lu(u,{relative:m.relative}),b=ga(),S=Y.useContext(vf),{navigator:A,basename:M}=Y.useContext(Ni),D=S!=null&&Bx(v)&&h===!0,V=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,B=b.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;e||(B=B.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&M&&(U=ms(U,M)||U);const Q=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let W=B===V||!a&&B.startsWith(V)&&B.charAt(Q)==="/",rt=U!=null&&(U===V||!a&&U.startsWith(V)&&U.charAt(V.length)==="/"),N={isActive:W,isPending:rt,isTransitioning:D},x=W?t:void 0,R;typeof s=="function"?R=s(N):R=[s,W?"active":null,rt?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof o=="function"?o(N):o;return Y.createElement(nT,{...m,"aria-current":x,className:R,ref:y,style:O,to:u,viewTransition:h},typeof d=="function"?d(N):d)});Ix.displayName="NavLink";var Vx=Y.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:a,state:o,method:u=Nh,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:v,...b},S)=>{let A=zx(),M=Ux(h,{relative:m}),D=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&eT.test(h),B=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let Q=U.nativeEvent.submitter,W=(Q==null?void 0:Q.getAttribute("formmethod"))||u;A(Q||U.currentTarget,{fetcherKey:t,method:W,navigate:e,replace:a,state:o,relative:m,preventScrollReset:y,viewTransition:v})};return Y.createElement("form",{ref:S,method:D,action:M,onSubmit:s?d:B,...b,"data-discover":!V&&n==="render"?"true":void 0})});Vx.displayName="Form";function Nx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(n){let t=Y.useContext(Ro);return he(t,Nx(n)),t}function kx(n,{target:t,replace:e,state:s,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=bf(),d=ga(),m=Lu(n,{relative:o});return Y.useCallback(y=>{if(dx(y,t)){y.preventDefault();let v=e!==void 0?e:pu(d)===pu(m);h(n,{replace:v,state:s,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,m,e,s,t,n,a,o,u])}var Lx=0,Px=()=>`__${String(++Lx)}__`;function zx(){let{router:n}=iT("useSubmit"),{basename:t}=Y.useContext(Ni),e=ix();return Y.useCallback(async(s,a={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=px(s,t);if(a.navigate===!1){let y=a.fetcherKey||Px();await n.fetch(y,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,t,e])}function Ux(n,{relative:t}={}){let{basename:e}=Y.useContext(Ni),s=Y.useContext(ki);he(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...Lu(n||".",{relative:t})},u=ga();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ds([e,o.pathname])),pu(o)}function Bx(n,t={}){let e=Y.useContext($E);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iT("useViewTransitionState"),a=Lu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=ms(e.currentLocation.pathname,s)||e.currentLocation.pathname,u=ms(e.nextLocation.pathname,s)||e.nextLocation.pathname;return Yh(a.pathname,u)!=null||Yh(a.pathname,o)!=null}new TextEncoder;function Hx(){const n=bf();return ct.jsx(ct.Fragment,{children:ct.jsxs("div",{className:"relative z-10 space-y-8 text-center",children:[ct.jsx("h1",{className:"text-5xl font-bold tracking-wide",children:"Real-Time Feedback System"}),ct.jsx("p",{className:"text-lg text-gray-400",children:"Instant feedback, seamless experience."}),ct.jsxs("div",{className:"flex translate-y-5 justify-center gap-x-6",children:[ct.jsx("button",{onClick:()=>n("/create-room"),children:"Create Room"}),ct.jsx("button",{onClick:()=>n("/join-room"),children:"Join Room"})]})]})})}const jx=()=>{};var v0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},Fx=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const a=n[e++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[s++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],h=n[e++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],u=n[e++];t[s++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,d=a+2<n.length,m=d?n[a+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,S=m&63;d||(S=64,u||(b=64)),s.push(e[y],e[v],e[b],e[S])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(sT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Fx(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||v==null)throw new qx;const b=o<<2|h>>4;if(s.push(b),m!==64){const S=h<<4&240|m>>2;if(s.push(S),v!==64){const A=m<<6&192|v;s.push(A)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gx=function(n){const t=sT(n);return rT.encodeByteArray(t,!0)},$h=function(n){return Gx(n).replace(/\./g,"")},Yx=function(n){try{return rT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>$x().__FIREBASE_DEFAULTS__,Kx=()=>{if(typeof process>"u"||typeof v0>"u")return;const n=v0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Xx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Yx(n[1]);return t&&JSON.parse(t)},sp=()=>{try{return jx()||Qx()||Kx()||Xx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Wx=n=>{var t,e;return(e=(t=sp())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},Zx=n=>{const t=Wx(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},aT=()=>{var n;return(n=sp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$h(JSON.stringify(e)),$h(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){var n;const t=(n=sp())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class Co extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=aR,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oT.prototype.create)}}class oT{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?oR(o,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Co(a,h,s)}}function oR(n,t){return n.replace(lR,(e,s)=>{const a=t[s];return a!=null?String(a):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function Qh(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const a of e){if(!s.includes(a))return!1;const o=n[a],u=t[a];if(b0(o)&&b0(u)){if(!Qh(o,u))return!1}else if(o!==u)return!1}for(const a of s)if(!e.includes(a))return!1;return!0}function b0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n){return n&&n._delegate?n._delegate:n}class yu{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Jx;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hR(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});s.resolve(o)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);s===h&&u.resolve(a)}return a}onInit(t,e){var s;const a=this.normalizeInstanceIdentifier(e),o=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const a of s)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(n){return n===sa?void 0:n}function hR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new uR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const dR={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},gR=jt.INFO,mR={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},pR=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),a=mR[t];if(a)console[a](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lT{constructor(t){this.name=t,this._logLevel=gR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const yR=(n,t)=>t.some(e=>n instanceof e);let E0,T0;function _R(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,ym=new WeakMap,cT=new WeakMap,Wg=new WeakMap,rp=new WeakMap;function bR(n){const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(or(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&uT.set(e,n)}).catch(()=>{}),rp.set(t,n),t}function ER(n){if(ym.has(n))return;const t=new Promise((e,s)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});ym.set(n,t)}let _m={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return ym.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cT.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return or(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function TR(n){_m=n(_m)}function SR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(Zg(this),t,...e);return cT.set(s,t.sort?t.sort():[t]),or(s)}:vR().includes(n)?function(...t){return n.apply(Zg(this),t),or(uT.get(this))}:function(...t){return or(n.apply(Zg(this),t))}}function AR(n){return typeof n=="function"?SR(n):(n instanceof IDBTransaction&&ER(n),yR(n,_R())?new Proxy(n,_m):n)}function or(n){if(n instanceof IDBRequest)return bR(n);if(Wg.has(n))return Wg.get(n);const t=AR(n);return t!==n&&(Wg.set(n,t),rp.set(t,n)),t}const Zg=n=>rp.get(n);function wR(n,t,{blocked:e,upgrade:s,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),h=or(u);return s&&u.addEventListener("upgradeneeded",d=>{s(or(u.result),d.oldVersion,d.newVersion,or(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const xR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],Jg=new Map;function S0(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Jg.get(t))return Jg.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,a=RR.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(a||xR.includes(e)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&d.done]))[0]};return Jg.set(t,o),o}TR(n=>({...n,get:(t,e,s)=>S0(t,e)||n.get(t,e,s),has:(t,e)=>!!S0(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DR(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function DR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vm="@firebase/app",A0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new lT("@firebase/app"),MR="@firebase/app-compat",OR="@firebase/analytics-compat",IR="@firebase/analytics",VR="@firebase/app-check-compat",NR="@firebase/app-check",kR="@firebase/auth",LR="@firebase/auth-compat",PR="@firebase/database",zR="@firebase/data-connect",UR="@firebase/database-compat",BR="@firebase/functions",HR="@firebase/functions-compat",jR="@firebase/installations",FR="@firebase/installations-compat",qR="@firebase/messaging",GR="@firebase/messaging-compat",YR="@firebase/performance",$R="@firebase/performance-compat",QR="@firebase/remote-config",KR="@firebase/remote-config-compat",XR="@firebase/storage",WR="@firebase/storage-compat",ZR="@firebase/firestore",JR="@firebase/vertexai",t2="@firebase/firestore-compat",e2="firebase",n2="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",i2={[vm]:"fire-core",[MR]:"fire-core-compat",[IR]:"fire-analytics",[OR]:"fire-analytics-compat",[NR]:"fire-app-check",[VR]:"fire-app-check-compat",[kR]:"fire-auth",[LR]:"fire-auth-compat",[PR]:"fire-rtdb",[zR]:"fire-data-connect",[UR]:"fire-rtdb-compat",[BR]:"fire-fn",[HR]:"fire-fn-compat",[jR]:"fire-iid",[FR]:"fire-iid-compat",[qR]:"fire-fcm",[GR]:"fire-fcm-compat",[YR]:"fire-perf",[$R]:"fire-perf-compat",[QR]:"fire-rc",[KR]:"fire-rc-compat",[XR]:"fire-gcs",[WR]:"fire-gcs-compat",[ZR]:"fire-fst",[t2]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,s2=new Map,Em=new Map;function w0(n,t){try{n.container.addComponent(t)}catch(e){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Xh(n){const t=n.name;if(Em.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;Em.set(t,n);for(const e of Kh.values())w0(e,n);for(const e of s2.values())w0(e,n);return!0}function r2(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function a2(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new oT("app","Firebase",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=n2;function hT(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bm,automaticDataCollectionEnabled:!1},t),a=s.name;if(typeof a!="string"||!a)throw lr.create("bad-app-name",{appName:String(a)});if(e||(e=aT()),!e)throw lr.create("no-options");const o=Kh.get(a);if(o){if(Qh(e,o.options)&&Qh(s,o.config))return o;throw lr.create("duplicate-app",{appName:a})}const u=new fR(a);for(const d of Em.values())u.addComponent(d);const h=new l2(e,s,u);return Kh.set(a,h),h}function c2(n=bm){const t=Kh.get(n);if(!t&&n===bm&&aT())return hT();if(!t)throw lr.create("no-app",{appName:n});return t}function go(n,t,e){var s;let a=(s=i2[n])!==null&&s!==void 0?s:n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(h.join(" "));return}Xh(new yu(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",f2=1,_u="firebase-heartbeat-store";let tm=null;function fT(){return tm||(tm=wR(h2,f2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(_u)}catch(e){console.warn(e)}}}}).catch(n=>{throw lr.create("idb-open",{originalErrorMessage:n.message})})),tm}async function d2(n){try{const e=(await fT()).transaction(_u),s=await e.objectStore(_u).get(dT(n));return await e.done,s}catch(t){if(t instanceof Co)ps.warn(t.message);else{const e=lr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ps.warn(e.message)}}}async function x0(n,t){try{const s=(await fT()).transaction(_u,"readwrite");await s.objectStore(_u).put(t,dT(n)),await s.done}catch(e){if(e instanceof Co)ps.warn(e.message);else{const s=lr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ps.warn(s.message)}}}function dT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1024,m2=30;class p2{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _2(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=R0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>m2){const u=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ps.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R0(),{heartbeatsToSend:s,unsentEntries:a}=y2(this._heartbeatsCache.heartbeats),o=$h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ps.warn(e),""}}}function R0(){return new Date().toISOString().substring(0,10)}function y2(n,t=g2){const e=[];let s=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),C0(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),C0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class _2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await d2(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return x0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function C0(n){return $h(JSON.stringify({version:2,heartbeats:n})).length}function v2(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n){Xh(new yu("platform-logger",t=>new CR(t),"PRIVATE")),Xh(new yu("heartbeat",t=>new p2(t),"PRIVATE")),go(vm,A0,n),go(vm,A0,"esm2017"),go("fire-js","")}b2("");var E2="firebase",T2="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(E2,T2,"app");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,gT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,x){function R(){}R.prototype=x.prototype,N.D=x.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(O,L,z){for(var I=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)I[Ct-2]=arguments[Ct];return x.prototype[L].apply(O,I)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,R){R||(R=0);var O=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)O[L]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(L=0;16>L;++L)O[L]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=N.g[0],R=N.g[1],L=N.g[2];var z=N.g[3],I=x+(z^R&(L^z))+O[0]+3614090360&4294967295;x=R+(I<<7&4294967295|I>>>25),I=z+(L^x&(R^L))+O[1]+3905402710&4294967295,z=x+(I<<12&4294967295|I>>>20),I=L+(R^z&(x^R))+O[2]+606105819&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(x^L&(z^x))+O[3]+3250441966&4294967295,R=L+(I<<22&4294967295|I>>>10),I=x+(z^R&(L^z))+O[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=z+(L^x&(R^L))+O[5]+1200080426&4294967295,z=x+(I<<12&4294967295|I>>>20),I=L+(R^z&(x^R))+O[6]+2821735955&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(x^L&(z^x))+O[7]+4249261313&4294967295,R=L+(I<<22&4294967295|I>>>10),I=x+(z^R&(L^z))+O[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=z+(L^x&(R^L))+O[9]+2336552879&4294967295,z=x+(I<<12&4294967295|I>>>20),I=L+(R^z&(x^R))+O[10]+4294925233&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(x^L&(z^x))+O[11]+2304563134&4294967295,R=L+(I<<22&4294967295|I>>>10),I=x+(z^R&(L^z))+O[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=z+(L^x&(R^L))+O[13]+4254626195&4294967295,z=x+(I<<12&4294967295|I>>>20),I=L+(R^z&(x^R))+O[14]+2792965006&4294967295,L=z+(I<<17&4294967295|I>>>15),I=R+(x^L&(z^x))+O[15]+1236535329&4294967295,R=L+(I<<22&4294967295|I>>>10),I=x+(L^z&(R^L))+O[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(x^R))+O[6]+3225465664&4294967295,z=x+(I<<9&4294967295|I>>>23),I=L+(x^R&(z^x))+O[11]+643717713&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^x&(L^z))+O[0]+3921069994&4294967295,R=L+(I<<20&4294967295|I>>>12),I=x+(L^z&(R^L))+O[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(x^R))+O[10]+38016083&4294967295,z=x+(I<<9&4294967295|I>>>23),I=L+(x^R&(z^x))+O[15]+3634488961&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^x&(L^z))+O[4]+3889429448&4294967295,R=L+(I<<20&4294967295|I>>>12),I=x+(L^z&(R^L))+O[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(x^R))+O[14]+3275163606&4294967295,z=x+(I<<9&4294967295|I>>>23),I=L+(x^R&(z^x))+O[3]+4107603335&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^x&(L^z))+O[8]+1163531501&4294967295,R=L+(I<<20&4294967295|I>>>12),I=x+(L^z&(R^L))+O[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=z+(R^L&(x^R))+O[2]+4243563512&4294967295,z=x+(I<<9&4294967295|I>>>23),I=L+(x^R&(z^x))+O[7]+1735328473&4294967295,L=z+(I<<14&4294967295|I>>>18),I=R+(z^x&(L^z))+O[12]+2368359562&4294967295,R=L+(I<<20&4294967295|I>>>12),I=x+(R^L^z)+O[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=z+(x^R^L)+O[8]+2272392833&4294967295,z=x+(I<<11&4294967295|I>>>21),I=L+(z^x^R)+O[11]+1839030562&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^x)+O[14]+4259657740&4294967295,R=L+(I<<23&4294967295|I>>>9),I=x+(R^L^z)+O[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=z+(x^R^L)+O[4]+1272893353&4294967295,z=x+(I<<11&4294967295|I>>>21),I=L+(z^x^R)+O[7]+4139469664&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^x)+O[10]+3200236656&4294967295,R=L+(I<<23&4294967295|I>>>9),I=x+(R^L^z)+O[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=z+(x^R^L)+O[0]+3936430074&4294967295,z=x+(I<<11&4294967295|I>>>21),I=L+(z^x^R)+O[3]+3572445317&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^x)+O[6]+76029189&4294967295,R=L+(I<<23&4294967295|I>>>9),I=x+(R^L^z)+O[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=z+(x^R^L)+O[12]+3873151461&4294967295,z=x+(I<<11&4294967295|I>>>21),I=L+(z^x^R)+O[15]+530742520&4294967295,L=z+(I<<16&4294967295|I>>>16),I=R+(L^z^x)+O[2]+3299628645&4294967295,R=L+(I<<23&4294967295|I>>>9),I=x+(L^(R|~z))+O[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=z+(R^(x|~L))+O[7]+1126891415&4294967295,z=x+(I<<10&4294967295|I>>>22),I=L+(x^(z|~R))+O[14]+2878612391&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~x))+O[5]+4237533241&4294967295,R=L+(I<<21&4294967295|I>>>11),I=x+(L^(R|~z))+O[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=z+(R^(x|~L))+O[3]+2399980690&4294967295,z=x+(I<<10&4294967295|I>>>22),I=L+(x^(z|~R))+O[10]+4293915773&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~x))+O[1]+2240044497&4294967295,R=L+(I<<21&4294967295|I>>>11),I=x+(L^(R|~z))+O[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=z+(R^(x|~L))+O[15]+4264355552&4294967295,z=x+(I<<10&4294967295|I>>>22),I=L+(x^(z|~R))+O[6]+2734768916&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~x))+O[13]+1309151649&4294967295,R=L+(I<<21&4294967295|I>>>11),I=x+(L^(R|~z))+O[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=z+(R^(x|~L))+O[11]+3174756917&4294967295,z=x+(I<<10&4294967295|I>>>22),I=L+(x^(z|~R))+O[2]+718787259&4294967295,L=z+(I<<15&4294967295|I>>>17),I=R+(z^(L|~x))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+z&4294967295}s.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var R=x-this.blockSize,O=this.B,L=this.h,z=0;z<x;){if(L==0)for(;z<=R;)a(this,N,z),z+=this.blockSize;if(typeof N=="string"){for(;z<x;)if(O[L++]=N.charCodeAt(z++),L==this.blockSize){a(this,O),L=0;break}}else for(;z<x;)if(O[L++]=N[z++],L==this.blockSize){a(this,O),L=0;break}}this.h=L,this.o+=x},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var R=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=R&255,R/=256;for(this.u(N),N=Array(16),x=R=0;4>x;++x)for(var O=0;32>O;O+=8)N[R++]=this.g[x]>>>O&255;return N};function o(N,x){var R=h;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=x(N)}function u(N,x){this.h=x;for(var R=[],O=!0,L=N.length-1;0<=L;L--){var z=N[L]|0;O&&z==x||(R[L]=z,O=!1)}this.g=R}var h={};function d(N){return-128<=N&&128>N?o(N,function(x){return new u([x|0],0>x?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return D(m(-N));for(var x=[],R=1,O=0;N>=R;O++)x[O]=N/R|0,R*=4294967296;return new u(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return D(y(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=m(Math.pow(x,8)),O=v,L=0;L<N.length;L+=8){var z=Math.min(8,N.length-L),I=parseInt(N.substring(L,L+z),x);8>z?(z=m(Math.pow(x,z)),O=O.j(z).add(m(I))):(O=O.j(R),O=O.add(m(I)))}return O}var v=d(0),b=d(1),S=d(16777216);n=u.prototype,n.m=function(){if(M(this))return-D(this).m();for(var N=0,x=1,R=0;R<this.g.length;R++){var O=this.i(R);N+=(0<=O?O:4294967296+O)*x,x*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(M(this))return"-"+D(this).toString(N);for(var x=m(Math.pow(N,6)),R=this,O="";;){var L=Q(R,x).g;R=V(R,L.j(x));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=L,A(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function M(N){return N.h==-1}n.l=function(N){return N=V(this,N),M(N)?-1:A(N)?0:1};function D(N){for(var x=N.g.length,R=[],O=0;O<x;O++)R[O]=~N.g[O];return new u(R,~N.h).add(b)}n.abs=function(){return M(this)?D(this):this},n.add=function(N){for(var x=Math.max(this.g.length,N.g.length),R=[],O=0,L=0;L<=x;L++){var z=O+(this.i(L)&65535)+(N.i(L)&65535),I=(z>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);O=I>>>16,z&=65535,I&=65535,R[L]=I<<16|z}return new u(R,R[R.length-1]&-2147483648?-1:0)};function V(N,x){return N.add(D(x))}n.j=function(N){if(A(this)||A(N))return v;if(M(this))return M(N)?D(this).j(D(N)):D(D(this).j(N));if(M(N))return D(this.j(D(N)));if(0>this.l(S)&&0>N.l(S))return m(this.m()*N.m());for(var x=this.g.length+N.g.length,R=[],O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<N.g.length;L++){var z=this.i(O)>>>16,I=this.i(O)&65535,Ct=N.i(L)>>>16,vt=N.i(L)&65535;R[2*O+2*L]+=I*vt,B(R,2*O+2*L),R[2*O+2*L+1]+=z*vt,B(R,2*O+2*L+1),R[2*O+2*L+1]+=I*Ct,B(R,2*O+2*L+1),R[2*O+2*L+2]+=z*Ct,B(R,2*O+2*L+2)}for(O=0;O<x;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=x;O<2*x;O++)R[O]=0;return new u(R,0)};function B(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function U(N,x){this.g=N,this.h=x}function Q(N,x){if(A(x))throw Error("division by zero");if(A(N))return new U(v,v);if(M(N))return x=Q(D(N),x),new U(D(x.g),D(x.h));if(M(x))return x=Q(N,D(x)),new U(D(x.g),x.h);if(30<N.g.length){if(M(N)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var R=b,O=x;0>=O.l(N);)R=W(R),O=W(O);var L=rt(R,1),z=rt(O,1);for(O=rt(O,2),R=rt(R,2);!A(O);){var I=z.add(O);0>=I.l(N)&&(L=L.add(R),z=I),O=rt(O,1),R=rt(R,1)}return x=V(N,L.j(x)),new U(L,x)}for(L=v;0<=N.l(x);){for(R=Math.max(1,Math.floor(N.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=m(R),I=z.j(x);M(I)||0<I.l(N);)R-=O,z=m(R),I=z.j(x);A(z)&&(z=b),L=L.add(z),N=V(N,I)}return new U(L,N)}n.A=function(N){return Q(this,N).h},n.and=function(N){for(var x=Math.max(this.g.length,N.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)&N.i(O);return new u(R,this.h&N.h)},n.or=function(N){for(var x=Math.max(this.g.length,N.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)|N.i(O);return new u(R,this.h|N.h)},n.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)^N.i(O);return new u(R,this.h^N.h)};function W(N){for(var x=N.g.length+1,R=[],O=0;O<x;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(R,N.h)}function rt(N,x){var R=x>>5;x%=32;for(var O=N.g.length-R,L=[],z=0;z<O;z++)L[z]=0<x?N.i(z+R)>>>x|N.i(z+R+1)<<32-x:N.i(z+R);return new u(L,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gT=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,ur=u}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,Xl,pT,Lh,Tm,yT,_T,vT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,E){return f==Array.prototype||f==Object.prototype||(f[_]=E.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=e(this);function a(f,_){if(_)t:{var E=s;f=f.split(".");for(var C=0;C<f.length-1;C++){var q=f[C];if(!(q in E))break t;E=E[q]}f=f[f.length-1],C=E[f],_=_(C),_!=C&&_!=null&&t(E,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var E=0,C=!1,q={next:function(){if(!C&&E<f.length){var K=E++;return{value:_(K,f[K]),done:!1}}return C=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function m(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,E){return f.call.apply(f.bind,arguments)}function v(f,_,E){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,C),f.apply(_,q)}}return function(){return f.apply(_,arguments)}}function b(f,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function S(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function A(f,_){function E(){}E.prototype=_.prototype,f.aa=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(C,q,K){for(var lt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)lt[zt-2]=arguments[zt];return _.prototype[q].apply(C,lt)}}function M(f){const _=f.length;if(0<_){const E=Array(_);for(let C=0;C<_;C++)E[C]=f[C];return E}return[]}function D(f,_){for(let E=1;E<arguments.length;E++){const C=arguments[E];if(d(C)){const q=f.length||0,K=C.length||0;f.length=q+K;for(let lt=0;lt<K;lt++)f[q+lt]=C[lt]}else f.push(C)}}class V{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(f){return/^[\s\xa0]*$/.test(f)}function U(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function Q(f){return Q[" "](f),f}Q[" "]=function(){};var W=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function rt(f,_,E){for(const C in f)_.call(E,f[C],C,f)}function N(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function x(f){const _={};for(const E in f)_[E]=f[E];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,_){let E,C;for(let q=1;q<arguments.length;q++){C=arguments[q];for(E in C)f[E]=C[E];for(let K=0;K<R.length;K++)E=R[K],Object.prototype.hasOwnProperty.call(C,E)&&(f[E]=C[E])}}function L(f){var _=1;f=f.split(":");const E=[];for(;0<_&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function z(f){h.setTimeout(()=>{throw f},0)}function I(){var f=Et;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Ct{constructor(){this.h=this.g=null}add(_,E){const C=vt.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var vt=new V(()=>new it,f=>f.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,ft=!1,Et=new Ct,P=()=>{const f=h.Promise.resolve(void 0);ut=()=>{f.then(et)}};var et=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(E){z(E)}var _=vt;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ft=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return f}();function yt(f,_){if(ot.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(W){t:{try{Q(_.nodeName);var q=!0;break t}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement);this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:_t[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&yt.aa.h.call(this)}}A(yt,ot);var _t={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function de(f,_,E,C,q){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=q,this.key=++Pt,this.da=this.fa=!1}function Xt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function cn(f){this.src=f,this.g={},this.h=0}cn.prototype.add=function(f,_,E,C,q){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var lt=kn(f,_,C,q);return-1<lt?(_=f[lt],E||(_.fa=!1)):(_=new de(_,this.src,K,!!C,q),_.fa=E,f.push(_)),_};function Li(f,_){var E=_.type;if(E in f.g){var C=f.g[E],q=Array.prototype.indexOf.call(C,_,void 0),K;(K=0<=q)&&Array.prototype.splice.call(C,q,1),K&&(Xt(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function kn(f,_,E,C){for(var q=0;q<f.length;++q){var K=f[q];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==C)return q}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),Es={};function Pi(f,_,E,C,q){if(Array.isArray(_)){for(var K=0;K<_.length;K++)Pi(f,_[K],E,C,q);return null}return E=Yu(E),f&&f[ne]?f.K(_,E,m(C)?!!C.capture:!1,q):ko(f,_,E,!1,C,q)}function ko(f,_,E,C,q,K){if(!_)throw Error("Invalid event type");var lt=m(q)?!!q.capture:!!q,zt=Lo(f);if(zt||(f[bs]=zt=new cn(f)),E=zt.add(_,E,C,lt,K),E.proxy)return E;if(C=ya(),E.proxy=C,C.src=f,C.listener=E,f.addEventListener)at||(q=lt),q===void 0&&(q=!1),f.addEventListener(_.toString(),C,q);else if(f.attachEvent)f.attachEvent(va(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function f(E){return _.call(f.src,f.listener,E)}const _=Gf;return f}function _a(f,_,E,C,q){if(Array.isArray(_))for(var K=0;K<_.length;K++)_a(f,_[K],E,C,q);else C=m(C)?!!C.capture:!!C,E=Yu(E),f&&f[ne]?(f=f.i,_=String(_).toString(),_ in f.g&&(K=f.g[_],E=kn(K,E,C,q),-1<E&&(Xt(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete f.g[_],f.h--)))):f&&(f=Lo(f))&&(_=f.g[_.toString()],f=-1,_&&(f=kn(_,E,C,q)),(E=-1<f?_[f]:null)&&Tr(E))}function Tr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[ne])Li(_.i,f);else{var E=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(E,C,f.capture):_.detachEvent?_.detachEvent(va(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=Lo(_))?(Li(E,f),E.h==0&&(E.src=null,_[bs]=null)):Xt(f)}}}function va(f){return f in Es?Es[f]:Es[f]="on"+f}function Gf(f,_){if(f.da)f=!0;else{_=new yt(_,this);var E=f.listener,C=f.ha||f.src;f.fa&&Tr(f),f=E.call(C,_)}return f}function Lo(f){return f=f[bs],f instanceof cn?f:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yu(f){return typeof f=="function"?f:(f[_n]||(f[_n]=function(_){return f.handleEvent(_)}),f[_n])}function De(){ht.call(this),this.i=new cn(this),this.M=this,this.F=null}A(De,ht),De.prototype[ne]=!0,De.prototype.removeEventListener=function(f,_,E,C){_a(this,f,_,E,C)};function ze(f,_){var E,C=f.F;if(C)for(E=[];C;C=C.F)E.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new ot(_,f);else if(_ instanceof ot)_.target=_.target||f;else{var q=_;_=new ot(C,f),O(_,q)}if(q=!0,E)for(var K=E.length-1;0<=K;K--){var lt=_.g=E[K];q=zi(lt,C,!0,_)&&q}if(lt=_.g=f,q=zi(lt,C,!0,_)&&q,q=zi(lt,C,!1,_)&&q,E)for(K=0;K<E.length;K++)lt=_.g=E[K],q=zi(lt,C,!1,_)&&q}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var E=f.g[_],C=0;C<E.length;C++)Xt(E[C]);delete f.g[_],f.h--}}this.F=null},De.prototype.K=function(f,_,E,C){return this.i.add(String(f),_,!1,E,C)},De.prototype.L=function(f,_,E,C){return this.i.add(String(f),_,!0,E,C)};function zi(f,_,E,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,K=0;K<_.length;++K){var lt=_[K];if(lt&&!lt.da&&lt.capture==E){var zt=lt.listener,Oe=lt.ha||lt.src;lt.fa&&Li(f.i,lt),q=zt.call(Oe,C)!==!1&&q}}return q&&!C.defaultPrevented}function $u(f,_,E){if(typeof f=="function")E&&(f=b(f,E));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function Po(f){f.g=$u(()=>{f.g=null,f.i&&(f.i=!1,Po(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Yf extends ht{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sr(f){ht.call(this),this.h=f,this.g={}}A(Sr,ht);var Ts=[];function en(f){rt(f.g,function(_,E){this.g.hasOwnProperty(E)&&Tr(_)},f),f.g={}}Sr.prototype.N=function(){Sr.aa.N.call(this),en(this)},Sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zo=h.JSON.stringify,ui=h.JSON.parse,hn=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Uo(){}Uo.prototype.h=null;function Qu(f){return f.h||(f.h=f.i())}function Ku(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ss(){ot.call(this,"d")}A(Ss,ot);function ei(){ot.call(this,"c")}A(ei,ot);var Ln={},As=null;function ba(){return As=As||new De}Ln.La="serverreachability";function Bo(f){ot.call(this,Ln.La,f)}A(Bo,ot);function ws(f){const _=ba();ze(_,new Bo(_))}Ln.STAT_EVENT="statevent";function Ea(f,_){ot.call(this,Ln.STAT_EVENT,f),this.stat=_}A(Ea,ot);function _e(f){const _=ba();ze(_,new Ea(_,f))}Ln.Ma="timingevent";function Xu(f,_){ot.call(this,Ln.Ma,f),this.size=_}A(Xu,ot);function xs(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function Rs(){this.g=!0}Rs.prototype.xa=function(){this.g=!1};function Wu(f,_,E,C,q,K){f.info(function(){if(f.g)if(K)for(var lt="",zt=K.split("&"),Oe=0;Oe<zt.length;Oe++){var Ut=zt[Oe].split("=");if(1<Ut.length){var He=Ut[0];Ut=Ut[1];var Ie=He.split("_");lt=2<=Ie.length&&Ie[1]=="type"?lt+(He+"="+Ut+"&"):lt+(He+"=redacted&")}}else lt=null;else lt=K;return"XMLHTTP REQ ("+C+") [attempt "+q+"]: "+_+`
`+E+`
`+lt})}function Zu(f,_,E,C,q,K,lt){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+q+"]: "+_+`
`+E+`
`+K+" "+lt})}function Cs(f,_,E,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ue(f,E)+(C?" "+C:"")})}function hi(f,_){f.info(function(){return"TIMEOUT: "+_})}Rs.prototype.info=function(){};function Ue(f,_){if(!f.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var C=E[f];if(!(2>C.length)){var q=C[1];if(Array.isArray(q)&&!(1>q.length)){var K=q[0];if(K!="noop"&&K!="stop"&&K!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return zo(E)}catch{return _}}var Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ar;function Ta(){}A(Ta,Uo),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},Ar=new Ta;function fi(f,_,E,C){this.j=f,this.i=_,this.l=E,this.R=C||1,this.U=new Sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}var Ds={},wr={};function ni(f,_,E){f.L=1,f.v=Cr(ge(_)),f.m=E,f.P=!0,Bi(f,null)}function Bi(f,_){f.F=Date.now(),le(f),f.A=ge(f.v);var E=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),Fi(E.i,"t",C),f.C=0,E=f.j.J,f.h=new Ho,f.g=fc(f.j,E?_:null,!f.m),0<f.O&&(f.M=new Yf(b(f.Y,f,f.g),f.O)),_=f.U,E=f.g,C=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(Ts[0]=q.toString()),q=Ts);for(var K=0;K<q.length;K++){var lt=Pi(E,q[K],C||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),ws(),Wu(f.i,f.u,f.A,f.l,f.R,f.m)}fi.prototype.ca=function(f){f=f.target;const _=this.M;_&&Hn(f)==3?_.j():this.Y(f)},fi.prototype.Y=function(f){try{if(f==this.g)t:{const Ie=Hn(this.g);var _=this.g.Ba();const $i=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||Ie!=4||_==7||(_==8||0>=$i?ws(3):ws(2)),Sa(this);var E=this.g.Z();this.X=E;e:if(Ms(this)){var C=sc(this.g);f="";var q=C.length,K=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),wn(this);var lt="";break e}this.h.i=new h.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,f+=this.h.i.decode(C[_],{stream:!(K&&_==q-1)});C.length=0,this.h.g+=f,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=E==200,Zu(this.i,this.u,this.A,this.l,this.R,Ie,E),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Oe=this.g;if((zt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(zt)){var Ut=zt;break e}}Ut=null}if(E=Ut)Cs(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xn(this,E);else{this.o=!1,this.s=3,_e(12),vn(this),wn(this);break t}}if(this.P){E=!0;let $e;for(;!this.J&&this.C<lt.length;)if($e=Os(this,lt),$e==wr){Ie==4&&(this.s=4,_e(14),E=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if($e==Ds){this.s=4,_e(15),Cs(this.i,this.l,lt,"[Invalid Chunk]"),E=!1;break}else Cs(this.i,this.l,$e,null),xn(this,$e);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||lt.length!=0||this.h.h||(this.s=1,_e(16),E=!1),this.o=this.o&&E,!E)Cs(this.i,this.l,lt,"[Invalid Chunked Response]"),vn(this),wn(this);else if(0<lt.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),kr(He),He.M=!0,_e(11))}}else Cs(this.i,this.l,lt,null),xn(this,lt);Ie==4&&vn(this),this.o&&!this.J&&(Ie==4?uc(this.j,this):(this.o=!1,le(this)))}else Zf(this.g),E==400&&0<lt.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),vn(this),wn(this)}}}catch{}finally{}};function Ms(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Os(f,_){var E=f.C,C=_.indexOf(`
`,E);return C==-1?wr:(E=Number(_.substring(E,C)),isNaN(E)?Ds:(C+=1,C+E>_.length?wr:(_=_.slice(C,C+E),f.C=C+E,_)))}fi.prototype.cancel=function(){this.J=!0,vn(this)};function le(f){f.S=Date.now()+f.I,jo(f,f.I)}function jo(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xs(b(f.ba,f),_)}function Sa(f){f.B&&(h.clearTimeout(f.B),f.B=null)}fi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hi(this.i,this.A),this.L!=2&&(ws(),_e(17)),vn(this),this.s=2,wn(this)):jo(this,this.S-f)};function wn(f){f.j.G==0||f.J||uc(f.j,f)}function vn(f){Sa(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,en(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function xn(f,_){try{var E=f.j;if(E.G!=0&&(E.g==f||Is(E.h,f))){if(!f.K&&Is(E.h,f)&&E.G==3){try{var C=E.Da.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var q=C;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Va(E),Oa(E);else break t;Jo(E),_e(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=xs(b(E.Za,E),6e3));if(1>=Ju(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Yi(E,11)}else if((f.K||E.g==f)&&Va(E),!B(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let Ut=q[_];if(E.T=Ut[0],Ut=Ut[1],E.G==2)if(Ut[0]=="c"){E.K=Ut[1],E.ia=Ut[2];const He=Ut[3];He!=null&&(E.la=He,E.j.info("VER="+E.la));const Ie=Ut[4];Ie!=null&&(E.Aa=Ie,E.j.info("SVER="+E.Aa));const $i=Ut[5];$i!=null&&typeof $i=="number"&&0<$i&&(C=1.5*$i,E.L=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const $e=f.g;if($e){const vi=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vi){var K=C.h;K.g||vi.indexOf("spdy")==-1&&vi.indexOf("quic")==-1&&vi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Vs(K,K.h),K.h=null))}if(C.D){const el=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(C.ya=el,Ft(C.I,C.D,el))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),C=E;var lt=f;if(C.qa=hc(C,C.J?C.ia:null,C.W),lt.K){Pn(C.h,lt);var zt=lt,Oe=C.L;Oe&&(zt.I=Oe),zt.B&&(Sa(zt),le(zt)),C.g=lt}else oc(C);0<E.i.length&&Ia(E)}else Ut[0]!="stop"&&Ut[0]!="close"||Yi(E,7);else E.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Yi(E,7):Wo(E):Ut[0]!="noop"&&E.l&&E.l.ta(Ut),E.v=0)}}ws(4)}catch{}}var $f=class{constructor(f,_){this.g=f,this.map=_}};function Fo(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ju(f){return f.h?1:f.g?f.g.size:0}function Is(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Vs(f,_){f.g?f.g.add(_):f.h=_}function Pn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Fo.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function fn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.D);return _}return M(f.i)}function tc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],E=f.length,C=0;C<E;C++)_.push(f[C]);return _}_=[],E=0;for(C in f)_[E++]=f[C];return _}function Qf(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var E=0;E<f;E++)_.push(E);return _}_=[],E=0;for(const C in f)_[E++]=C;return _}}}function xr(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var E=Qf(f),C=tc(f),q=C.length,K=0;K<q;K++)_.call(void 0,C[K],E&&E[K],f)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(f,_){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var C=f[E].indexOf("="),q=null;if(0<=C){var K=f[E].substring(0,C);q=f[E].substring(C+1)}else K=f[E];_(K,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Hi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Hi){this.h=f.h,Ns(this,f.j),this.o=f.o,this.g=f.g,Rr(this,f.s),this.l=f.l;var _=f.i,E=new di;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),wa(this,E),this.m=f.m}else f&&(_=String(f).match(Go))?(this.h=!1,Ns(this,_[1]||"",!0),this.o=ks(_[2]||""),this.g=ks(_[3]||"",!0),Rr(this,_[4]),this.l=ks(_[5]||"",!0),wa(this,_[6]||"",!0),this.m=ks(_[7]||"")):(this.h=!1,this.i=new di(null,this.h))}Hi.prototype.toString=function(){var f=[],_=this.j;_&&f.push(zn(_,Yo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(zn(_,Yo,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(zn(E,E.charAt(0)=="/"?$o:ec,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",zn(E,Wf)),f.join("")};function ge(f){return new Hi(f)}function Ns(f,_,E){f.j=E?ks(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Rr(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function wa(f,_,E){_ instanceof di?(f.i=_,Qo(f.i,f.h)):(E||(_=zn(_,Xf)),f.i=new di(_,f.h))}function Ft(f,_,E){f.i.set(_,E)}function Cr(f){return Ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ks(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zn(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Kf),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kf(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Yo=/[#\/\?@]/g,ec=/[#\?:]/g,$o=/[#\?]/g,Xf=/[#\?@]/g,Wf=/#/g;function di(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Un(f){f.g||(f.g=new Map,f.h=0,f.i&&Aa(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=di.prototype,n.add=function(f,_){Un(this),this.i=null,f=qi(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function xa(f,_){Un(f),_=qi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ji(f,_){return Un(f),_=qi(f,_),f.g.has(_)}n.forEach=function(f,_){Un(this),this.g.forEach(function(E,C){E.forEach(function(q){f.call(_,q,C,this)},this)},this)},n.na=function(){Un(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let C=0;C<_.length;C++){const q=f[C];for(let K=0;K<q.length;K++)E.push(_[C])}return E},n.V=function(f){Un(this);let _=[];if(typeof f=="string")ji(this,f)&&(_=_.concat(this.g.get(qi(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)_=_.concat(f[E])}return _},n.set=function(f,_){return Un(this),this.i=null,f=qi(this,f),ji(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Fi(f,_,E){xa(f,_),0<E.length&&(f.i=null,f.g.set(qi(f,_),M(E)),f.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var C=_[E];const K=encodeURIComponent(String(C)),lt=this.V(C);for(C=0;C<lt.length;C++){var q=K;lt[C]!==""&&(q+="="+encodeURIComponent(String(lt[C]))),f.push(q)}}return this.i=f.join("&")};function qi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Qo(f,_){_&&!f.j&&(Un(f),f.i=null,f.g.forEach(function(E,C){var q=C.toLowerCase();C!=q&&(xa(this,C),Fi(this,q,E))},f)),f.j=_}function nc(f,_){const E=new Rs;if(h.Image){const C=new Image;C.onload=S(Bn,E,"TestLoadImage: loaded",!0,_,C),C.onerror=S(Bn,E,"TestLoadImage: error",!1,_,C),C.onabort=S(Bn,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=S(Bn,E,"TestLoadImage: timeout",!1,_,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function Dr(f,_){const E=new Rs,C=new AbortController,q=setTimeout(()=>{C.abort(),Bn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then(K=>{clearTimeout(q),K.ok?Bn(E,"TestPingServer: ok",!0,_):Bn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Bn(E,"TestPingServer: error",!1,_)})}function Bn(f,_,E,C,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),C(E)}catch{}}function Mr(){this.g=new hn}function gi(f,_,E){const C=E||"";try{xr(f,function(q,K){let lt=q;m(q)&&(lt=zo(q)),_.push(C+K+"="+encodeURIComponent(lt))})}catch(q){throw _.push(C+"type="+encodeURIComponent("_badmap")),q}}function Ls(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Ls,Uo),Ls.prototype.g=function(){return new Gi(this.l,this.j)},Ls.prototype.i=function(f){return function(){return f}}({});function Gi(f,_){De.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gi,De),n=Gi.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,pi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?mi(this):pi(this),this.readyState==3&&Ko(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,mi(this))},n.Qa=function(f){this.g&&(this.response=f,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pi(f)}n.setRequestHeader=function(f,_){this.u.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function pi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xo(f){let _="";return rt(f,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function Be(f,_,E){t:{for(C in E){var C=!1;break t}C=!0}C||(E=Xo(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):Ft(f,_,E))}function $t(f){De.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A($t,De);var Ra=/^https?$/i,Or=["POST","PUT"];n=$t.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ar.g(),this.v=this.o?Qu(this.o):Qu(Ar),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(K){ic(this,K);return}if(f=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var q in C)E.set(q,C[q]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())E.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Or,_,void 0))||C||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,lt]of E)this.g.setRequestHeader(K,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ir(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){ic(this,K)}};function ic(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Ca(f),yi(f)}function Ca(f){f.A||(f.A=!0,ze(f,"complete"),ze(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ze(this,"complete"),ze(this,"abort"),yi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),$t.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},n.bb=function(){Da(this)};function Da(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Hn(f)!=4||f.Z()!=2)){if(f.u&&Hn(f)==4)$u(f.Ea,0,f);else if(ze(f,"readystatechange"),Hn(f)==4){f.h=!1;try{const lt=f.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var C;if(C=lt===0){var q=String(f.D).match(Go)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),C=!Ra.test(q?q.toLowerCase():"")}E=C}if(E)ze(f,"complete"),ze(f,"success");else{f.m=6;try{var K=2<Hn(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Ca(f)}}finally{yi(f)}}}}function yi(f,_){if(f.g){Ir(f);const E=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||ze(f,"ready");try{E.onreadystatechange=C}catch{}}}function Ir(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Hn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),ui(_)}};function sc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(f){const _={};f=(f.g&&2<=Hn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(B(f[C]))continue;var E=L(f[C]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[q]||[];_[q]=K,K.push(E)}N(_,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function Ma(f){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,f),this.cb=Vr("retryDelaySeedMs",1e4,f),this.Wa=Vr("forwardChannelMaxRetries",2,f),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Fo(f&&f.concurrentRequestLimit),this.Da=new Mr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ma.prototype,n.la=8,n.G=1,n.connect=function(f,_,E,C){_e(0),this.W=f,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.I=hc(this,null,this.W),Ia(this)};function Wo(f){if(rc(f),f.G==3){var _=f.U++,E=ge(f.I);if(Ft(E,"SID",f.K),Ft(E,"RID",_),Ft(E,"TYPE","terminate"),Nr(f,E),_=new fi(f,f.j,_),_.L=2,_.v=Cr(ge(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=fc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),le(_)}cc(f)}function Oa(f){f.g&&(kr(f),f.g.cancel(),f.g=null)}function rc(f){Oa(f),f.u&&(h.clearTimeout(f.u),f.u=null),Va(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Ia(f){if(!qo(f.h)&&!f.s){f.s=!0;var _=f.Ga;ut||P(),ft||(ut(),ft=!0),Et.add(_,f),f.B=0}}function Jf(f,_){return Ju(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xs(b(f.Ga,f,_),tl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new fi(this,this.j,f);let K=this.o;if(this.S&&(K?(K=x(K),O(K,this.S)):K=this.S),this.m!==null||this.O||(q.H=K,K=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break e}C=void 0}if(C===void 0)break;if(_+=C,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=ac(this,q,_),E=ge(this.I),Ft(E,"RID",f),Ft(E,"CVER",22),this.D&&Ft(E,"X-HTTP-Session-Id",this.D),Nr(this,E),K&&(this.O?_="headers="+encodeURIComponent(String(Xo(K)))+"&"+_:this.m&&Be(E,this.m,K)),Vs(this.h,q),this.Ua&&Ft(E,"TYPE","init"),this.P?(Ft(E,"$req",_),Ft(E,"SID","null"),q.T=!0,ni(q,E,null)):ni(q,E,_),this.G=2}}else this.G==3&&(f?Zo(this,f):this.i.length==0||qo(this.h)||Zo(this))};function Zo(f,_){var E;_?E=_.l:E=f.U++;const C=ge(f.I);Ft(C,"SID",f.K),Ft(C,"RID",E),Ft(C,"AID",f.T),Nr(f,C),f.m&&f.o&&Be(C,f.m,f.o),E=new fi(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),_&&(f.i=_.D.concat(f.i)),_=ac(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Vs(f.h,E),ni(E,C,_)}function Nr(f,_){f.H&&rt(f.H,function(E,C){Ft(_,C,E)}),f.l&&xr({},function(E,C){Ft(_,C,E)})}function ac(f,_,E){E=Math.min(f.i.length,E);var C=f.l?b(f.l.Na,f.l,f):null;t:{var q=f.i;let K=-1;for(;;){const lt=["count="+E];K==-1?0<E?(K=q[0].g,lt.push("ofs="+K)):K=0:lt.push("ofs="+K);let zt=!0;for(let Oe=0;Oe<E;Oe++){let Ut=q[Oe].g;const He=q[Oe].map;if(Ut-=K,0>Ut)K=Math.max(0,q[Oe].g-100),zt=!1;else try{gi(He,lt,"req"+Ut+"_")}catch{C&&C(He)}}if(zt){C=lt.join("&");break t}}}return f=f.i.splice(0,E),_.D=f,C}function oc(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;ut||P(),ft||(ut(),ft=!0),Et.add(_,f),f.v=0}}function Jo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xs(b(f.Fa,f),tl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,lc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xs(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Oa(this),lc(this))};function kr(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function lc(f){f.g=new fi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=ge(f.qa);Ft(_,"RID","rpc"),Ft(_,"SID",f.K),Ft(_,"AID",f.T),Ft(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ft(_,"TO",f.ja),Ft(_,"TYPE","xmlhttp"),Nr(f,_),f.m&&f.o&&Be(_,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Cr(ge(_)),E.m=null,E.P=!0,Bi(E,f)}n.Za=function(){this.C!=null&&(this.C=null,Oa(this),Jo(this),_e(19))};function Va(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function uc(f,_){var E=null;if(f.g==_){Va(f),kr(f),f.g=null;var C=2}else if(Is(f.h,_))E=_.D,Pn(f.h,_),C=1;else return;if(f.G!=0){if(_.o)if(C==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=f.B;C=ba(),ze(C,new Xu(C,E)),Ia(f)}else oc(f);else if(q=_.s,q==3||q==0&&0<_.X||!(C==1&&Jf(f,_)||C==2&&Jo(f)))switch(E&&0<E.length&&(_=f.h,_.i=_.i.concat(E)),q){case 1:Yi(f,5);break;case 4:Yi(f,10);break;case 3:Yi(f,6);break;default:Yi(f,2)}}}function tl(f,_){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*_}function Yi(f,_){if(f.j.info("Error code "+_),_==2){var E=b(f.fb,f),C=f.Xa;const q=!C;C=new Hi(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ns(C,"https"),Cr(C),q?nc(C.toString(),E):Dr(C.toString(),E)}else _e(2);f.G=0,f.l&&f.l.sa(_),cc(f),rc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function cc(f){if(f.G=0,f.ka=[],f.l){const _=fn(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ka,_),D(f.ka,f.i),f.h.i.length=0,M(f.i),f.i.length=0),f.l.ra()}}function hc(f,_,E){var C=E instanceof Hi?ge(E):new Hi(E);if(C.g!="")_&&(C.g=_+"."+C.g),Rr(C,C.s);else{var q=h.location;C=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var K=new Hi(null);C&&Ns(K,C),_&&(K.g=_),q&&Rr(K,q),E&&(K.l=E),C=K}return E=f.D,_=f.ya,E&&_&&Ft(C,E,_),Ft(C,"VER",f.la),Nr(f,C),C}function fc(f,_,E){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new $t(new Ls({eb:E})):new $t(f.pa),_.Ha(f.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}n=dc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Na(){}Na.prototype.g=function(f,_){return new dn(f,_)};function dn(f,_){De.call(this),this.g=new Ma(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!B(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new _i(this)}A(dn,De),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Wo(this.g)},dn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=zo(f),f=E);_.i.push(new $f(_.Ya++,f)),_.G==3&&Ia(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,dn.aa.N.call(this)};function gc(f){Ss.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const E in _){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}A(gc,Ss);function mc(){ei.call(this),this.status=1}A(mc,ei);function _i(f){this.g=f}A(_i,dc),_i.prototype.ua=function(){ze(this.g,"a")},_i.prototype.ta=function(f){ze(this.g,new gc(f))},_i.prototype.sa=function(f){ze(this.g,new mc)},_i.prototype.ra=function(){ze(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,vT=function(){return new Na},_T=function(){return ba()},yT=Ln,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,Lh=Me,Ui.COMPLETE="complete",pT=Ui,Ku.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",De.prototype.listen=De.prototype.K,Xl=Ku,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,mT=$t}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const M0="@firebase/firestore",O0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new lT("@firebase/firestore");function uo(){return ha.logLevel}function dt(n,...t){if(ha.logLevel<=jt.DEBUG){const e=t.map(ap);ha.debug(`Firestore (${Do}): ${n}`,...e)}}function ys(n,...t){if(ha.logLevel<=jt.ERROR){const e=t.map(ap);ha.error(`Firestore (${Do}): ${n}`,...e)}}function yo(n,...t){if(ha.logLevel<=jt.WARN){const e=t.map(ap);ha.warn(`Firestore (${Do}): ${n}`,...e)}}function ap(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n="Unexpected state"){const t=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+n;throw ys(t),new Error(t)}function Kt(n,t){n||At()}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Co{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(on.UNAUTHENTICATED))}shutdown(){}}class A2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0);let s=this.i;const a=d=>this.i!==s?(s=this.i,e(d)):Promise.resolve();let o=new la;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new la,t.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;t.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new la)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string"),new bT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new on(t)}}class x2{constructor(t,e,s){this.l=t,this.h=e,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class R2{constructor(t,e,s){this.l=t,this.h=e,this.P=s}getToken(){return Promise.resolve(new x2(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C2{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,a2(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0);const s=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>s(o))};const a=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?a(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new I0(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string"),this.R=e.token,new I0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<n;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=D2(40);for(let o=0;o<a.length;++o)s.length<20&&a[o]<e&&(s+=t.charAt(a[o]%62))}return s}}function It(n,t){return n<t?-1:n>t?1:0}function Sm(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=n.codePointAt(e),a=t.codePointAt(e);if(s!==a){if(s<128&&a<128)return It(s,a);{const o=ET(),u=M2(o.encode(V0(n,e)),o.encode(V0(t,e)));return u!==0?u:It(s,a)}}e+=s>65535?2:1}return It(n.length,t.length)}function V0(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function M2(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return It(n[e],t[e]);return It(n.length,t.length)}function _o(n,t,e){return n.length===t.length&&n.every((s,a)=>e(s,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,k0=1e6;class Le{static now(){return Le.fromMillis(Date.now())}static fromDate(t){return Le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*k0);return new Le(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<N0)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-N0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new Le(0,0))}static max(){return new wt(new Le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="__name__";class Ci{constructor(t,e,s){e===void 0?e=0:e>t.length&&At(),s===void 0?s=t.length-e:s>t.length-e&&At(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let a=0;a<s;a++){const o=Ci.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return It(t.length,e.length)}static compareSegments(t,e){const s=Ci.isNumericId(t),a=Ci.isNumericId(e);return s&&!a?-1:!s&&a?1:s&&a?Ci.extractNumericId(t).compare(Ci.extractNumericId(e)):Sm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class oe extends Ci{construct(t,e,s){return new oe(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(a=>a.length>0))}return new oe(e)}static emptyPath(){return new oe([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ci{construct(t,e,s){return new Ze(t,e,s)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===L0}static keyField(){return new Ze([L0])}static fromServerFormat(t){const e=[];let s="",a=0;const o=()=>{if(s.length===0)throw new mt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new mt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(o(),a++)}if(o(),u)throw new mt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(oe.fromString(t))}static fromName(t){return new Tt(oe.fromString(t).popFirst(5))}static empty(){return new Tt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function I2(n,t){const e=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(s===1e9?new Le(e+1,0):new Le(e,s));return new fr(a,Tt.empty(),t)}function V2(n){return new fr(n.readTime,n.key,vu)}class fr{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new fr(wt.min(),Tt.empty(),vu)}static max(){return new fr(wt.max(),Tt.empty(),vu)}}function N2(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Tt.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==k2)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new tt((s,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(s,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(s,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof tt?e:tt.resolve(e)}catch(e){return tt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):tt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):tt.reject(e)}static resolve(t){return new tt((e,s)=>{e(t)})}static reject(t){return new tt((e,s)=>{s(t)})}static waitFor(t){return new tt((e,s)=>{let a=0,o=0,u=!1;t.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&e()},d=>s(d))}),u=!0,o===a&&e()})}static or(t){let e=tt.resolve(!1);for(const s of t)e=e.next(a=>a?tt.resolve(a):s());return e}static forEach(t,e){const s=[];return t.forEach((a,o)=>{s.push(e.call(this,a,o))}),this.waitFor(s)}static mapArray(t,e){return new tt((s,a)=>{const o=t.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;e(t[m]).next(y=>{u[m]=y,++h,h===o&&s(u)},y=>a(y))}})}static doWhile(t,e){return new tt((s,a)=>{const o=()=>{t()===!0?e().next(()=>{o()},a):s()};o()})}}function P2(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Oo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.oe(s),this._e=s=>e.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Tf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=-1;function Sf(n){return n==null}function Wh(n){return n===0&&1/n==-1/0}function z2(n){return typeof n=="number"&&Number.isInteger(n)&&!Wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function U2(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=P0(t)),t=B2(n.get(e),t);return P0(t)}function B2(n,t){let e=t;const s=n.length;for(let a=0;a<s;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case ST:e+="";break;default:e+=o}}return e}function P0(n){return n+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function br(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function AT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new fe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(t,s.key);if(a===0)return e+s.left.size;a<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mh(this.root,t,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mh(this.root,t,this.comparator,!0)}}class mh{constructor(t,e,s,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?s(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,s,a,o){this.key=t,this.value=e,this.color=s??We.RED,this.left=a??We.EMPTY,this.right=o??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,a,o){return new We(t??this.key,e??this.value,s??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let a=this;const o=s(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,s),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return We.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,e,s,a,o){return this}insert(t,e,s){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(t){return new U0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=s.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pe(this.comparator);return e.data=t,e}}class U0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new In([])}unionWith(t){let e=new Pe(Ze.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new In(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _o(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wT("Invalid base64 string: "+o):o}}(t);return new tn(e)}static fromUint8Array(t){const e=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(t);return new tn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let a=0;a<e.length;a++)s[a]=e.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(Kt(!!n),typeof n=="string"){let t=0;const e=H2.exec(n);if(Kt(!!e),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function gr(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",RT="__type__",CT="__previous_value__",DT="__local_write_time__";function lp(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[RT])===null||e===void 0?void 0:e.stringValue)===xT}function Af(n){const t=n.mapValue.fields[CT];return lp(t)?Af(t):t}function bu(n){const t=dr(n.mapValue.fields[DT].timestampValue);return new Le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,e,s,a,o,u,h,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m}}const Zh="(default)";class Eu{constructor(t,e){this.projectId=t,this.database=e||Zh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(t){return t instanceof Eu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",F2="__max__",ph={mapValue:{}},OT="__vector__",Jh="value";function mr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lp(n)?4:G2(n)?9007199254740991:q2(n)?10:11:At()}function Vi(n,t){if(n===t)return!0;const e=mr(n);if(e!==mr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return bu(n).isEqual(bu(t));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=dr(a.timestampValue),h=dr(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,o){return gr(a.bytesValue).isEqual(gr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,o){return be(a.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(a.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,t);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return be(a.integerValue)===be(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=be(a.doubleValue),h=be(o.doubleValue);return u===h?Wh(u)===Wh(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return _o(n.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(z0(u)!==z0(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Vi(u[d],h[d])))return!1;return!0}(n,t);default:return At()}}function Tu(n,t){return(n.values||[]).find(e=>Vi(e,t))!==void 0}function vo(n,t){if(n===t)return 0;const e=mr(n),s=mr(t);if(e!==s)return It(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=be(o.integerValue||o.doubleValue),d=be(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,t);case 3:return B0(n.timestampValue,t.timestampValue);case 4:return B0(bu(n),bu(t));case 5:return Sm(n.stringValue,t.stringValue);case 6:return function(o,u){const h=gr(o),d=gr(u);return h.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=It(h[m],d[m]);if(y!==0)return y}return It(h.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=It(be(o.latitude),be(u.latitude));return h!==0?h:It(be(o.longitude),be(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return H0(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,d,m,y;const v=o.fields||{},b=u.fields||{},S=(h=v[Jh])===null||h===void 0?void 0:h.arrayValue,A=(d=b[Jh])===null||d===void 0?void 0:d.arrayValue,M=It(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:H0(S,A)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===ph.mapValue&&u===ph.mapValue)return 0;if(o===ph.mapValue)return 1;if(u===ph.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const b=Sm(d[v],y[v]);if(b!==0)return b;const S=vo(h[d[v]],m[y[v]]);if(S!==0)return S}return It(d.length,y.length)}(n.mapValue,t.mapValue);default:throw At()}}function B0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=dr(n),s=dr(t),a=It(e.seconds,s.seconds);return a!==0?a:It(e.nanos,s.nanos)}function H0(n,t){const e=n.values||[],s=t.values||[];for(let a=0;a<e.length&&a<s.length;++a){const o=vo(e[a],s[a]);if(o)return o}return It(e.length,s.length)}function bo(n){return Am(n)}function Am(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const s=dr(e);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return gr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Tt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let s="[",a=!0;for(const o of e.values||[])a?a=!1:s+=",",s+=Am(o);return s+"]"}(n.arrayValue):"mapValue"in n?function(e){const s=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of s)o?o=!1:a+=",",a+=`${u}:${Am(e.fields[u])}`;return a+"}"}(n.mapValue):At()}function Ph(n){switch(mr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Af(n);return t?16+Ph(t):16;case 5:return 2*n.stringValue.length;case 6:return gr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,o)=>a+Ph(o),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return br(s.fields,(o,u)=>{a+=o.length+Ph(u)}),a}(n.mapValue);default:throw At()}}function j0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function wm(n){return!!n&&"integerValue"in n}function up(n){return!!n&&"arrayValue"in n}function F0(n){return!!n&&"nullValue"in n}function q0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function q2(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[MT])===null||e===void 0?void 0:e.stringValue)===OT}function au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return br(n.mapValue.fields,(e,s)=>t.mapValue.fields[e]=au(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=au(n.arrayValue.values[e]);return t}return Object.assign({},n)}function G2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!zh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=au(e)}setAll(t){let e=Ze.emptyPath(),s={},a=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const d=this.getFieldsMap(e);this.applyChanges(d,s,a),s={},a=[],e=h.popLast()}u?s[h.lastSegment()]=au(u):a.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,s,a)}delete(t){const e=this.field(t.popLast());zh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let a=e.mapValue.fields[t.get(s)];zh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,s){br(e,(a,o)=>t[a]=o);for(const a of s)delete t[a]}clone(){return new Sn(au(this.value))}}function IT(n){const t=[];return br(n.fields,(e,s)=>{const a=new Ze([e]);if(zh(s)){const o=IT(s.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,e,s,a,o,u,h){this.key=t,this.documentType=e,this.version=s,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,wt.min(),wt.min(),wt.min(),Sn.empty(),0)}static newFoundDocument(t,e,s,a){return new ln(t,1,e,wt.min(),s,a,0)}static newNoDocument(t,e){return new ln(t,2,e,wt.min(),wt.min(),Sn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,wt.min(),wt.min(),Sn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,e){this.position=t,this.inclusive=e}}function G0(n,t,e){let s=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?s=Tt.comparator(Tt.fromName(u.referenceValue),e.key):s=vo(u,e.data.field(o.field)),o.dir==="desc"&&(s*=-1),s!==0)break}return s}function Y0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(t,e="asc"){this.field=t,this.dir=e}}function Y2(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{}class xe extends VT{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new Q2(t,e,s):e==="array-contains"?new W2(t,s):e==="in"?new Z2(t,s):e==="not-in"?new J2(t,s):e==="array-contains-any"?new tC(t,s):new xe(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new K2(t,s):new X2(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(vo(e,this.value)):e!==null&&mr(this.value)===mr(e)&&this.matchesComparison(vo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends VT{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new li(t,e)}matches(t){return NT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NT(n){return n.op==="and"}function kT(n){return $2(n)&&NT(n)}function $2(n){for(const t of n.filters)if(t instanceof li)return!1;return!0}function xm(n){if(n instanceof xe)return n.field.canonicalString()+n.op.toString()+bo(n.value);if(kT(n))return n.filters.map(t=>xm(t)).join(",");{const t=n.filters.map(e=>xm(e)).join(",");return`${n.op}(${t})`}}function LT(n,t){return n instanceof xe?function(s,a){return a instanceof xe&&s.op===a.op&&s.field.isEqual(a.field)&&Vi(s.value,a.value)}(n,t):n instanceof li?function(s,a){return a instanceof li&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((o,u,h)=>o&&LT(u,a.filters[h]),!0):!1}(n,t):void At()}function PT(n){return n instanceof xe?function(e){return`${e.field.canonicalString()} ${e.op} ${bo(e.value)}`}(n):n instanceof li?function(e){return e.op.toString()+" {"+e.getFilters().map(PT).join(" ,")+"}"}(n):"Filter"}class Q2 extends xe{constructor(t,e,s){super(t,e,s),this.key=Tt.fromName(s.referenceValue)}matches(t){const e=Tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class K2 extends xe{constructor(t,e){super(t,"in",e),this.keys=zT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class X2 extends xe{constructor(t,e){super(t,"not-in",e),this.keys=zT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function zT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Tt.fromName(s.referenceValue))}class W2 extends xe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return up(e)&&Tu(e.arrayValue,this.value)}}class Z2 extends xe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Tu(this.value.arrayValue,e)}}class J2 extends xe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!Tu(this.value.arrayValue,e)}}class tC extends xe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!up(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,e=null,s=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function $0(n,t=null,e=[],s=[],a=null,o=null,u=null){return new eC(n,t,e,s,a,o,u)}function cp(n){const t=Rt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>xm(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(o){return o.field.canonicalString()+o.dir}(s)).join(","),Sf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>bo(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>bo(s)).join(",")),t.le=e}return t.le}function hp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!Y2(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!LT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Y0(n.startAt,t.startAt)&&Y0(n.endAt,t.endAt)}function Rm(n){return Tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,e=null,s=[],a=[],o=null,u="F",h=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nC(n,t,e,s,a,o,u,h){return new Pu(n,t,e,s,a,o,u,h)}function fp(n){return new Pu(n)}function Q0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function UT(n){return n.collectionGroup!==null}function ou(n){const t=Rt(n);if(t.he===null){t.he=[];const e=new Set;for(const o of t.explicitOrderBy)t.he.push(o),e.add(o.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Pe(Ze.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.he.push(new ef(o,s))}),e.has(Ze.keyField().canonicalString())||t.he.push(new ef(Ze.keyField(),s))}return t.he}function Di(n){const t=Rt(n);return t.Pe||(t.Pe=iC(t,ou(n))),t.Pe}function iC(n,t){if(n.limitType==="F")return $0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new ef(a.field,o)});const e=n.endAt?new tf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new tf(n.startAt.position,n.startAt.inclusive):null;return $0(n.path,n.collectionGroup,t,n.filters,n.limit,e,s)}}function Cm(n,t){const e=n.filters.concat([t]);return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Dm(n,t,e){return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wf(n,t){return hp(Di(n),Di(t))&&n.limitType===t.limitType}function BT(n){return`${cp(Di(n))}|lt:${n.limitType}`}function co(n){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(a=>PT(a)).join(", ")}]`),Sf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(a=>bo(a)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(a=>bo(a)).join(",")),`Target(${s})`}(Di(n))}; limitType=${n.limitType})`}function xf(n,t){return t.isFoundDocument()&&function(s,a){const o=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(o):Tt.isDocumentKey(s.path)?s.path.isEqual(o):s.path.isImmediateParentOf(o)}(n,t)&&function(s,a){for(const o of ou(s))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,t)&&function(s,a){for(const o of s.filters)if(!o.matches(a))return!1;return!0}(n,t)&&function(s,a){return!(s.startAt&&!function(u,h,d){const m=G0(u,h,d);return u.inclusive?m<=0:m<0}(s.startAt,ou(s),a)||s.endAt&&!function(u,h,d){const m=G0(u,h,d);return u.inclusive?m>=0:m>0}(s.endAt,ou(s),a))}(n,t)}function sC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HT(n){return(t,e)=>{let s=!1;for(const a of ou(n)){const o=rC(a,t,e);if(o!==0)return o;s=s||a.field.isKeyField()}return 0}}function rC(n,t,e){const s=n.field.isKeyField()?Tt.comparator(t.key,e.key):function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?vo(d,m):At()}(n.field,t,e);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[a,o]of s)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),a=this.inner[s];if(a===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],t))return s.length===1?delete this.inner[e]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(t){br(this.inner,(e,s)=>{for(const[a,o]of s)t(a,o)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new fe(Tt.comparator);function _s(){return aC}const jT=new fe(Tt.comparator);function Wl(...n){let t=jT;for(const e of n)t=t.insert(e.key,e);return t}function FT(n){let t=jT;return n.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function aa(){return lu()}function qT(){return lu()}function lu(){return new ma(n=>n.toString(),(n,t)=>n.isEqual(t))}const oC=new fe(Tt.comparator),lC=new Pe(Tt.comparator);function kt(...n){let t=lC;for(const e of n)t=t.add(e);return t}const uC=new Pe(It);function cC(){return uC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wh(t)?"-0":t}}function GT(n){return{integerValue:""+n}}function YT(n,t){return z2(t)?GT(t):dp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function hC(n,t,e){return n instanceof Su?function(a,o){const u={fields:{[RT]:{stringValue:xT},[DT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&lp(o)&&(o=Af(o)),o&&(u.fields[CT]=o),{mapValue:u}}(e,t):n instanceof Au?QT(n,t):n instanceof wu?KT(n,t):function(a,o){const u=$T(a,o),h=K0(u)+K0(a.Ie);return wm(u)&&wm(a.Ie)?GT(h):dp(a.serializer,h)}(n,t)}function fC(n,t,e){return n instanceof Au?QT(n,t):n instanceof wu?KT(n,t):e}function $T(n,t){return n instanceof xu?function(s){return wm(s)||function(o){return!!o&&"doubleValue"in o}(s)}(t)?t:{integerValue:0}:null}class Su extends Rf{}class Au extends Rf{constructor(t){super(),this.elements=t}}function QT(n,t){const e=XT(t);for(const s of n.elements)e.some(a=>Vi(a,s))||e.push(s);return{arrayValue:{values:e}}}class wu extends Rf{constructor(t){super(),this.elements=t}}function KT(n,t){let e=XT(t);for(const s of n.elements)e=e.filter(a=>!Vi(a,s));return{arrayValue:{values:e}}}class xu extends Rf{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function K0(n){return be(n.integerValue||n.doubleValue)}function XT(n){return up(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,e){this.field=t,this.transform=e}}function dC(n,t){return n.field.isEqual(t.field)&&function(s,a){return s instanceof Au&&a instanceof Au||s instanceof wu&&a instanceof wu?_o(s.elements,a.elements,Vi):s instanceof xu&&a instanceof xu?Vi(s.Ie,a.Ie):s instanceof Su&&a instanceof Su}(n.transform,t.transform)}class gC{constructor(t,e){this.version=t,this.transformResults=e}}class oi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Cf{}function ZT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new t1(n.key,oi.none()):new zu(n.key,n.data,oi.none());{const e=n.data,s=Sn.empty();let a=new Pe(Ze.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?s.delete(o):s.set(o,u),a=a.add(o)}return new Er(n.key,s,new In(a.toArray()),oi.none())}}function mC(n,t,e){n instanceof zu?function(a,o,u){const h=a.value.clone(),d=W0(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Er?function(a,o,u){if(!Uh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=W0(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(JT(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,t,e):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function uu(n,t,e,s){return n instanceof zu?function(o,u,h,d){if(!Uh(o.precondition,u))return h;const m=o.value.clone(),y=Z0(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,t,e,s):n instanceof Er?function(o,u,h,d){if(!Uh(o.precondition,u))return h;const m=Z0(o.fieldTransforms,d,u),y=u.data;return y.setAll(JT(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,s):function(o,u,h){return Uh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function pC(n,t){let e=null;for(const s of n.fieldTransforms){const a=t.data.field(s.field),o=$T(s.transform,a||null);o!=null&&(e===null&&(e=Sn.empty()),e.set(s.field,o))}return e||null}function X0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&_o(s,a,(o,u)=>dC(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zu extends Cf{constructor(t,e,s,a=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Er extends Cf{constructor(t,e,s,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=n.data.field(e);t.set(e,s)}}),t}function W0(n,t,e){const s=new Map;Kt(n.length===e.length);for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,h=t.data.field(o.field);s.set(o.field,fC(u,h,e[a]))}return s}function Z0(n,t,e){const s=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);s.set(a.field,hC(o,u,t))}return s}class t1 extends Cf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yC extends Cf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,e,s,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&mC(o,t,s[a])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=uu(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=uu(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=qT();return this.mutations.forEach(a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(a.key)?null:h;const d=ZT(u,h);d!==null&&s.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(wt.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),kt())}isEqual(t){return this.batchId===t.batchId&&_o(this.mutations,t.mutations,(e,s)=>X0(e,s))&&_o(this.baseMutations,t.baseMutations,(e,s)=>X0(e,s))}}class gp{constructor(t,e,s,a){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=a}static from(t,e,s){Kt(t.mutations.length===s.length);let a=function(){return oC}();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,s[u].version);return new gp(t,e,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Ht;function EC(n){switch(n){case nt.OK:return At();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return At()}}function e1(n){if(n===void 0)return ys("GRPC error has no .code"),nt.UNKNOWN;switch(n){case we.OK:return nt.OK;case we.CANCELLED:return nt.CANCELLED;case we.UNKNOWN:return nt.UNKNOWN;case we.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case we.INTERNAL:return nt.INTERNAL;case we.UNAVAILABLE:return nt.UNAVAILABLE;case we.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case we.NOT_FOUND:return nt.NOT_FOUND;case we.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case we.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case we.ABORTED:return nt.ABORTED;case we.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case we.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case we.DATA_LOSS:return nt.DATA_LOSS;default:return At()}}(Ht=we||(we={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new ur([4294967295,4294967295],0);function J0(n){const t=ET().encode(n),e=new gT;return e.update(t),new Uint8Array(e.digest())}function tb(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ur([e,s],0),new ur([a,o],0)]}class mp{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new Zl(`Invalid padding: ${e}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=ur.fromNumber(this.Ee)}Ae(t,e,s){let a=t.add(e.multiply(ur.fromNumber(s)));return a.compare(TC)===1&&(a=new ur([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=J0(t),[s,a]=tb(e);for(let o=0;o<this.hashCount;o++){const u=this.Ae(s,a,o);if(!this.Re(u))return!1}return!0}static create(t,e,s){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new mp(o,a,e);return s.forEach(h=>u.insert(h)),u}insert(t){if(this.Ee===0)return;const e=J0(t),[s,a]=tb(e);for(let o=0;o<this.hashCount;o++){const u=this.Ae(s,a,o);this.Ve(u)}}Ve(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(t,e,s,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const a=new Map;return a.set(t,Uu.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Df(wt.min(),a,new fe(It),_s(),kt())}}class Uu{constructor(t,e,s,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new Uu(s,e,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,e,s,a){this.me=t,this.removedTargetIds=e,this.key=s,this.fe=a}}class n1{constructor(t,e){this.targetId=t,this.ge=e}}class i1{constructor(t,e,s=tn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=a}}class eb{constructor(){this.pe=0,this.ye=nb(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=kt(),e=kt(),s=kt();return this.ye.forEach((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:s=s.add(a);break;default:At()}}),new Uu(this.we,this.Se,t,e,s)}Me(){this.be=!1,this.ye=nb()}xe(t,e){this.be=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class SC{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_s(),this.$e=yh(),this.Ue=yh(),this.Ke=new fe(It)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const s=this.He(e);switch(t.state){case 0:this.Je(e)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(e);break;case 3:this.Je(e)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),s.Ce(t.resumeToken));break;default:At()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((s,a)=>{this.Je(a)&&e(a)})}Ze(t){const e=t.targetId,s=t.ge.count,a=this.Xe(e);if(a){const o=a.target;if(Rm(o))if(s===0){const u=new Tt(o.path);this.ze(e,u,ln.newNoDocument(u,wt.min()))}else Kt(s===1);else{const u=this.et(e);if(u!==s){const h=this.tt(t),d=h?this.nt(h,t,u):1;if(d!==0){this.Ye(e);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,m)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:o=0}=e;let u,h;try{u=gr(s).toUint8Array()}catch(d){if(d instanceof wT)return yo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new mp(u,a,o)}catch(d){return yo(d instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(t,e,s){return e.ge.count===s-this.st(t,e.targetId)?0:2}st(t,e){const s=this.ke.getRemoteKeysForTarget(e);let a=0;return s.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.ze(e,o,null),a++)}),a}ot(t){const e=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&Rm(h.target)){const d=new Tt(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,ln.newNoDocument(d,t))}o.ve&&(e.set(u,o.Fe()),o.Me())}});let s=kt();this.Ue.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const m=this.Xe(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(s=s.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(t));const a=new Df(t,e,this.Ke,this.Qe,s);return this.Qe=_s(),this.$e=yh(),this.Ue=yh(),this.Ke=new fe(It),a}Ge(t,e){if(!this.Je(t))return;const s=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,s),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ue=this.Ue.insert(e.key,this.ct(e.key).add(t))}ze(t,e,s){if(!this.Je(t))return;const a=this.He(t);this.ut(t,e)?a.xe(e,1):a.Oe(e),this.Ue=this.Ue.insert(e,this.ct(e).delete(t)),this.Ue=this.Ue.insert(e,this.ct(e).add(t)),s&&(this.Qe=this.Qe.insert(e,s))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new eb,this.qe.set(t,e)),e}ct(t){let e=this.Ue.get(t);return e||(e=new Pe(It),this.Ue=this.Ue.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new Pe(It),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new eb),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function yh(){return new fe(Tt.comparator)}function nb(){return new fe(Tt.comparator)}const AC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xC={and:"AND",or:"OR"};class RC{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Mm(n,t){return n.useProto3Json||Sf(t)?t:{value:t}}function nf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function s1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function CC(n,t){return nf(n,t.toTimestamp())}function Mi(n){return Kt(!!n),wt.fromTimestamp(function(e){const s=dr(e);return new Le(s.seconds,s.nanos)}(n))}function pp(n,t){return Om(n,t).canonicalString()}function Om(n,t){const e=function(a){return new oe(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function r1(n){const t=oe.fromString(n);return Kt(c1(t)),t}function Im(n,t){return pp(n.databaseId,t.path)}function em(n,t){const e=r1(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Tt(o1(e))}function a1(n,t){return pp(n.databaseId,t)}function DC(n){const t=r1(n);return t.length===4?oe.emptyPath():o1(t)}function Vm(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o1(n){return Kt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function ib(n,t,e){return{name:Im(n,t),fields:e.value.mapValue.fields}}function MC(n,t){let e;if("targetChange"in t){t.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:At()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Kt(y===void 0||typeof y=="string"),tn.fromBase64String(y||"")):(Kt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),tn.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(m){const y=m.code===void 0?nt.UNKNOWN:e1(m.code);return new mt(y,m.message||"")}(u);e=new i1(s,a,o,h||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const a=em(n,s.document.name),o=Mi(s.document.updateTime),u=s.document.createTime?Mi(s.document.createTime):wt.min(),h=new Sn({mapValue:{fields:s.document.fields}}),d=ln.newFoundDocument(a,o,u,h),m=s.targetIds||[],y=s.removedTargetIds||[];e=new Bh(m,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const a=em(n,s.document),o=s.readTime?Mi(s.readTime):wt.min(),u=ln.newNoDocument(a,o),h=s.removedTargetIds||[];e=new Bh([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const a=em(n,s.document),o=s.removedTargetIds||[];e=new Bh([],o,a,null)}else{if(!("filter"in t))return At();{t.filter;const s=t.filter;s.targetId;const{count:a=0,unchangedNames:o}=s,u=new bC(a,o),h=s.targetId;e=new n1(h,u)}}return e}function OC(n,t){let e;if(t instanceof zu)e={update:ib(n,t.key,t.value)};else if(t instanceof t1)e={delete:Im(n,t.key)};else if(t instanceof Er)e={update:ib(n,t.key,t.data),updateMask:BC(t.fieldMask)};else{if(!(t instanceof yC))return At();e={verify:Im(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(o,u){const h=u.transform;if(h instanceof Su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Au)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof xu)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw At()}(0,s))),t.precondition.isNone||(e.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:CC(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:At()}(n,t.precondition)),e}function IC(n,t){return n&&n.length>0?(Kt(t!==void 0),n.map(e=>function(a,o){let u=a.updateTime?Mi(a.updateTime):Mi(o);return u.isEqual(wt.min())&&(u=Mi(o)),new gC(u,a.transformResults||[])}(e,t))):[]}function VC(n,t){return{documents:[a1(n,t.path)]}}function NC(n,t){const e={structuredQuery:{}},s=t.path;let a;t.collectionGroup!==null?(a=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=a1(n,a);const o=function(m){if(m.length!==0)return u1(li.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:ho(b.field),direction:PC(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=Mm(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{ht:e,parent:a}}function kC(n){let t=DC(n.parent);const e=n.structuredQuery,s=e.from?e.from.length:0;let a=null;if(s>0){Kt(s===1);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(v){const b=l1(v);return b instanceof li&&kT(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(v){return v.map(b=>function(A){return new ef(fo(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,Sf(b)?null:b}(e.limit));let d=null;e.startAt&&(d=function(v){const b=!!v.before,S=v.values||[];return new tf(S,b)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const b=!v.before,S=v.values||[];return new tf(S,b)}(e.endAt)),nC(t,a,u,o,h,"F",d,m)}function LC(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function l1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=fo(e.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=fo(e.unaryFilter.field);return xe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fo(e.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fo(e.unaryFilter.field);return xe.create(u,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(n):n.fieldFilter!==void 0?function(e){return xe.create(fo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return li.create(e.compositeFilter.filters.map(s=>l1(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At()}}(e.compositeFilter.op))}(n):At()}function PC(n){return AC[n]}function zC(n){return wC[n]}function UC(n){return xC[n]}function ho(n){return{fieldPath:n.canonicalString()}}function fo(n){return Ze.fromServerFormat(n.fieldPath)}function u1(n){return n instanceof xe?function(e){if(e.op==="=="){if(q0(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NAN"}};if(F0(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(q0(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NAN"}};if(F0(e.value))return{unaryFilter:{field:ho(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(e.field),op:zC(e.op),value:e.value}}}(n):n instanceof li?function(e){const s=e.getFilters().map(a=>u1(a));return s.length===1?s[0]:{compositeFilter:{op:UC(e.op),filters:s}}}(n):At()}function BC(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function c1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,e,s,a,o=wt.min(),u=wt.min(),h=tn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t){this.Tt=t}}function jC(n){const t=kC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Tn=new qC}addToCollectionParentIndex(t,e){return this.Tn.add(e),tt.resolve()}getCollectionParents(t,e){return tt.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return tt.resolve()}deleteFieldIndex(t,e){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,e){return tt.resolve()}getDocumentsMatchingTarget(t,e){return tt.resolve(null)}getIndexType(t,e){return tt.resolve(0)}getFieldIndexes(t,e){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,e){return tt.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,e){return tt.resolve(fr.min())}updateCollectionGroup(t,e,s){return tt.resolve()}updateIndexEntries(t,e){return tt.resolve()}}class qC{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e]||new Pe(oe.comparator),o=!a.has(s);return this.index[e]=a.add(s),o}has(t){const e=t.lastSegment(),s=t.popLast(),a=this.index[e];return a&&a.has(s)}getEntries(t){return(this.index[t]||new Pe(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h1=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(h1,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Eo(0)}static Kn(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="LruGarbageCollector",GC=1048576;function ab([n,t],[e,s]){const a=It(n,e);return a===0?It(t,s):a}class YC{constructor(t){this.Hn=t,this.buffer=new Pe(ab),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();ab(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $C{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){dt(rb,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Oo(e)?dt(rb,"Ignoring IndexedDB error during garbage collection: ",e):await Mo(e)}await this.er(3e5)})}}class QC{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return tt.resolve(Tf.ae);const s=new YC(e);return this.tr.forEachTarget(t,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(t,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.tr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(sb)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sb):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let s,a,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a))).next(v=>(s=v,h=Date.now(),this.removeTargets(t,s,e))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(t,s))).next(v=>(m=Date.now(),uo()<=jt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function KC(n,t){return new QC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.changes=new ma(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?tt.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t,e,s,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=a}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(s=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(s!==null&&uu(s.mutation,a,In.empty(),Le.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,kt()).next(()=>s))}getLocalViewOfDocuments(t,e,s=kt()){const a=aa();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,s).next(o=>{let u=Wl();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const s=aa();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,kt()))}populateOverlays(t,e,s){const a=[];return s.forEach(o=>{e.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(t,a).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,s,a){let o=_s();const u=lu(),h=function(){return lu()}();return e.forEach((d,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Er)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),uu(y.mutation,m,y.mutation.getFieldMask(),Le.now())):u.set(m.key,In.empty())}),this.recalculateAndSaveOverlays(t,o).next(d=>(d.forEach((m,y)=>u.set(m,y)),e.forEach((m,y)=>{var v;return h.set(m,new WC(y,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const s=lu();let a=new fe((u,h)=>u-h),o=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=e.get(d);if(m===null)return;let y=s.get(d)||In.empty();y=h.applyToLocalView(m,y),s.set(d,y);const v=(a.get(h.batchId)||kt()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,v=qT();y.forEach(b=>{if(!o.has(b)){const S=ZT(e.get(b),s.get(b));S!==null&&v.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,m,v))}return tt.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,a){return function(u){return Tt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):UT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,a):this.getDocumentsMatchingCollectionQuery(t,e,s,a)}getNextDocuments(t,e,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,a-o.size):tt.resolve(aa());let h=vu,d=o;return u.next(m=>tt.forEach(m,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?tt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{d=d.insert(y,b)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,d,m,kt())).next(y=>({batchId:h,changes:FT(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Tt(e)).next(s=>{let a=Wl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,s,a){const o=e.collectionGroup;let u=Wl();return this.indexManager.getCollectionParents(t,o).next(h=>tt.forEach(h,d=>{const m=function(v,b){return new Pu(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,s,a).next(y=>{y.forEach((v,b)=>{u=u.insert(v,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,s,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,o,a))).next(u=>{o.forEach((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))});let h=Wl();return u.forEach((d,m)=>{const y=o.get(d);y!==void 0&&uu(y.mutation,m,In.empty(),Le.now()),xf(e,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return tt.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:Mi(a.createTime)}}(e)),tt.resolve()}getNamedQuery(t,e){return tt.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(a){return{name:a.name,query:jC(a.bundledQuery),readTime:Mi(a.readTime)}}(e)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.overlays=new fe(Tt.comparator),this.Rr=new Map}getOverlay(t,e){return tt.resolve(this.overlays.get(e))}getOverlays(t,e){const s=aa();return tt.forEach(e,a=>this.getOverlay(t,a).next(o=>{o!==null&&s.set(a,o)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((a,o)=>{this.Et(t,e,o)}),tt.resolve()}removeOverlaysForBatchId(t,e,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,e,s){const a=aa(),o=e.length+1,u=new Tt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>s&&a.set(d.getKey(),d)}return tt.resolve(a)}getOverlaysForCollectionGroup(t,e,s,a){let o=new fe((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>s){let y=o.get(m.largestBatchId);y===null&&(y=aa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=aa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return tt.resolve(h)}Et(t,e,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new vC(e,s));let o=this.Rr.get(e);o===void 0&&(o=kt(),this.Rr.set(e,o)),this.Rr.set(e,o.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Vr=new Pe(Ge.mr),this.gr=new Pe(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const s=new Ge(t,e);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.wr(new Ge(t,e))}Sr(t,e){t.forEach(s=>this.removeReference(s,e))}br(t){const e=new Tt(new oe([])),s=new Ge(e,t),a=new Ge(e,t+1),o=[];return this.gr.forEachInRange([s,a],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new Tt(new oe([])),s=new Ge(e,t),a=new Ge(e,t+1);let o=kt();return this.gr.forEachInRange([s,a],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Ge(t,0),s=this.Vr.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return Tt.comparator(t.key,e.key)||It(t.Cr,e.Cr)}static pr(t,e){return It(t.Cr,e.Cr)||Tt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new Pe(Ge.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,a){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new _C(o,e,s,a);this.mutationQueue.push(u);for(const h of a)this.Mr=this.Mr.add(new Ge(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return tt.resolve(u)}lookupMutationBatch(t,e){return tt.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,a=this.Nr(s),o=a<0?0:a;return tt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?op:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Ge(e,0),a=new Ge(e,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([s,a],u=>{const h=this.Or(u.Cr);o.push(h)}),tt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new Pe(It);return e.forEach(a=>{const o=new Ge(a,0),u=new Ge(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{s=s.add(h.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,a=s.length+1;let o=s;Tt.isDocumentKey(o)||(o=o.child(""));const u=new Ge(new Tt(o),0);let h=new Pe(It);return this.Mr.forEachWhile(d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Cr)),!0)},u),tt.resolve(this.Br(h))}Br(t){const e=[];return t.forEach(s=>{const a=this.Or(s);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Kt(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(e.mutations,a=>{const o=new Ge(a.key,e.batchId);return s=s.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,e){const s=new Ge(e,0),a=this.Mr.firstAfterOrEqual(s);return tt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t){this.kr=t,this.docs=function(){return new fe(Tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,a=this.docs.get(s),o=a?a.size:0,u=this.kr(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return tt.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let s=_s();return e.forEach(a=>{const o=this.docs.get(a);s=s.insert(a,o?o.document.mutableCopy():ln.newInvalidDocument(a))}),tt.resolve(s)}getDocumentsMatchingQuery(t,e,s,a){let o=_s();const u=e.path,h=new Tt(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||N2(V2(y),s)<=0||(a.has(y.key)||xf(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return tt.resolve(o)}getAllFromCollectionGroup(t,e,s,a){At()}qr(t,e){return tt.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new sD(this)}getSize(t){return tt.resolve(this.size)}}class sD extends XC{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?e.push(this.Ir.addEntry(t,a)):this.Ir.removeEntry(s)}),tt.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t){this.persistence=t,this.Qr=new ma(e=>cp(e),hp),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yp,this.targetCount=0,this.Kr=Eo.Un()}forEachTarget(t,e){return this.Qr.forEach((s,a)=>e(a)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.$r&&(this.$r=e),tt.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Kr=new Eo(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,tt.resolve()}updateTargetData(t,e){return this.zn(e),tt.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Ur.br(e.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,e,s){let a=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=e&&s.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)}),tt.waitFor(o).next(()=>a)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,e){const s=this.Qr.get(e)||null;return tt.resolve(s)}addMatchingKeys(t,e,s){return this.Ur.yr(e,s),tt.resolve()}removeMatchingKeys(t,e,s){this.Ur.Sr(e,s);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach(u=>{o.push(a.markPotentiallyOrphaned(t,u))}),tt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ur.br(e),tt.resolve()}getMatchingKeysForTargetId(t,e){const s=this.Ur.vr(e);return tt.resolve(s)}containsKey(t,e){return tt.resolve(this.Ur.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new Tf(0),this.zr=!1,this.zr=!0,this.jr=new eD,this.referenceDelegate=t(this),this.Hr=new rD(this),this.indexManager=new FC,this.remoteDocumentCache=function(a){return new iD(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new HC(e),this.Yr=new JC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tD,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.Wr[t.toKey()];return s||(s=new nD(e,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,s){dt("MemoryPersistence","Starting transaction:",t);const a=new aD(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(o=>this.referenceDelegate.Xr(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}ei(t,e){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,e)))}}class aD extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class _p{constructor(t){this.persistence=t,this.ti=new yp,this.ni=null}static ri(t){return new _p(t)}get ii(){if(this.ni)return this.ni;throw At()}addReference(t,e,s){return this.ti.addReference(s,e),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,e,s){return this.ti.removeReference(s,e),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),tt.resolve()}removeTarget(t,e){this.ti.br(e.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(o=>this.ii.add(o.toString()))}).next(()=>s.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const a=Tt.fromPath(s);return this.si(t,a).next(o=>{o||e.removeEntry(a,wt.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(s=>{s?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return tt.or([()=>tt.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class sf{constructor(t,e){this.persistence=t,this.oi=new ma(s=>U2(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=KC(this,e)}static ri(t,e){return new sf(t,e)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(a=>s+a))}sr(t){let e=0;return this.rr(t,s=>{e++}).next(()=>e)}rr(t,e){return tt.forEach(this.oi,(s,a)=>this.ar(t,s,a).next(o=>o?tt.resolve():e(a)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.qr(t,u=>this.ar(t,u,e).next(h=>{h||(s++,o.removeEntry(u,wt.min()))})).next(()=>o.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),tt.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,e,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),tt.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ph(t.data.value)),e}ar(t,e,s){return tt.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.oi.get(e);return tt.resolve(a!==void 0&&a>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,e,s,a){this.targetId=t,this.fromCache=e,this.Hi=s,this.Ji=a}static Yi(t,e){let s=kt(),a=kt();for(const o of e.docChanges)switch(o.type){case 0:s=s.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new vp(t,e.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iR()?8:P2(eR())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,s,a){const o={result:null};return this.rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(t,e,a,s).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new oD;return this._s(t,e,u).next(h=>{if(o.result=h,this.Xi)return this.us(t,e,u,h.size)})}).next(()=>o.result)}us(t,e,s,a){return s.documentReadCount<this.es?(uo()<=jt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",co(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(uo()<=jt.DEBUG&&dt("QueryEngine","Query:",co(e),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(uo()<=jt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",co(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(e))):tt.resolve())}rs(t,e){if(Q0(e))return tt.resolve(null);let s=Di(e);return this.indexManager.getIndexType(t,s).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=Dm(e,null,"F"),s=Di(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(o=>{const u=kt(...o);return this.ns.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,s).next(d=>{const m=this.cs(e,h);return this.ls(e,m,u,d.readTime)?this.rs(t,Dm(e,null,"F")):this.hs(t,m,e,d)}))})))}ss(t,e,s,a){return Q0(e)||a.isEqual(wt.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(o=>{const u=this.cs(e,o);return this.ls(e,u,s,a)?tt.resolve(null):(uo()<=jt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),co(e)),this.hs(t,u,e,I2(a,vu)).next(h=>h))})}cs(t,e){let s=new Pe(HT(t));return e.forEach((a,o)=>{xf(t,o)&&(s=s.add(o))}),s}ls(t,e,s,a){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}_s(t,e,s){return uo()<=jt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",co(e)),this.ns.getDocumentsMatchingQuery(t,e,fr.min(),s)}hs(t,e,s,a){return this.ns.getDocumentsMatchingQuery(t,s,a).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LocalStore",uD=3e8;class cD{constructor(t,e,s,a){this.persistence=t,this.Ps=e,this.serializer=a,this.Ts=new fe(It),this.Is=new ma(o=>cp(o),hp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function hD(n,t,e,s){return new cD(n,t,e,s)}async function d1(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let a;return e.mutationQueue.getAllMutationBatches(s).next(o=>(a=o,e.As(t),e.mutationQueue.getAllMutationBatches(s))).next(o=>{const u=[],h=[];let d=kt();for(const m of a){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return e.localDocuments.getDocuments(s,d).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:h}))})})}function fD(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=t.batch.keys(),o=e.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const v=m.batch,b=v.keys();let S=tt.resolve();return b.forEach(A=>{S=S.next(()=>y.getEntry(d,A)).next(M=>{const D=m.docVersions.get(A);Kt(D!==null),M.version.compareTo(D)<0&&(v.applyToRemoteDocument(M,m),M.isValidDocument()&&(M.setReadTime(m.commitVersion),y.addEntry(M)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(e,s,t,o).next(()=>o.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(h){let d=kt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(t))).next(()=>e.localDocuments.getDocuments(s,a))})}function g1(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function dD(n,t){const e=Rt(n),s=t.snapshotVersion;let a=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.ds.newChangeBuffer({trackRemovals:!0});a=e.Ts;const h=[];t.targetChanges.forEach((y,v)=>{const b=a.get(v);if(!b)return;h.push(e.Hr.removeMatchingKeys(o,y.removedDocuments,v).next(()=>e.Hr.addMatchingKeys(o,y.addedDocuments,v)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?S=S.withResumeToken(tn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(v,S),function(M,D,V){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=uD?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(b,S,y)&&h.push(e.Hr.updateTargetData(o,S))});let d=_s(),m=kt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(gD(o,u,t.documentUpdates).next(y=>{d=y.Vs,m=y.fs})),!s.isEqual(wt.min())){const y=e.Hr.getLastRemoteSnapshotVersion(o).next(v=>e.Hr.setTargetsMetadata(o,o.currentSequenceNumber,s));h.push(y)}return tt.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(e.Ts=a,o))}function gD(n,t,e){let s=kt(),a=kt();return e.forEach(o=>s=s.add(o)),t.getEntries(n,s).next(o=>{let u=_s();return e.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(wt.min())?(t.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d),u=u.insert(h,d)):dt(bp,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Vs:u,fs:a}})}function mD(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=op),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function pD(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return e.Hr.getTargetData(s,t).next(o=>o?(a=o,tt.resolve(a)):e.Hr.allocateTargetId(s).next(u=>(a=new sr(t,u,"TargetPurposeListen",s.currentSequenceNumber),e.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=e.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(s.targetId,s),e.Is.set(t,s.targetId)),s})}async function Nm(n,t,e){const s=Rt(n),a=s.Ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",o,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Oo(u))throw u;dt(bp,`Failed to update sequence numbers for target ${t}: ${u}`)}s.Ts=s.Ts.remove(t),s.Is.delete(a.target)}function ob(n,t,e){const s=Rt(n);let a=wt.min(),o=kt();return s.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,y){const v=Rt(d),b=v.Is.get(y);return b!==void 0?tt.resolve(v.Ts.get(b)):v.Hr.getTargetData(m,y)}(s,u,Di(t)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>s.Ps.getDocumentsMatchingQuery(u,t,e?a:wt.min(),e?o:kt())).next(h=>(yD(s,sC(t),h),{documents:h,gs:o})))}function yD(n,t,e){let s=n.Es.get(t)||wt.min();e.forEach((a,o)=>{o.readTime.compareTo(s)>0&&(s=o.readTime)}),n.Es.set(t,s)}class lb{constructor(){this.activeTargetIds=cC()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _D{constructor(){this.ho=new lb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,s){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new lb,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="ConnectivityMonitor";class cb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){dt(ub,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){dt(ub,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function km(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ED{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===Zh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(t,e,s,a,o){const u=km(),h=this.bo(t,e.toUriEncodedString());dt(nm,`Sending RPC '${t}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,a,o),this.vo(t,h,d,s).then(m=>(dt(nm,`Received RPC '${t}' ${u}: `,m),m),m=>{throw yo(nm,`RPC '${t}' ${u} failed with error: `,m,"url: ",h,"request:",s),m})}Co(t,e,s,a,o,u){return this.So(t,e,s,a,o)}Do(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,o)=>t[o]=a),s&&s.headers.forEach((a,o)=>t[o]=a)}bo(t,e){const s=bD[t];return`${this.po}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class SD extends ED{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,s,a){const o=km();return new Promise((u,h)=>{const d=new mT;d.setWithCredentials(!0),d.listenOnce(pT.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lh.NO_ERROR:const y=d.getResponseJson();dt(rn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),u(y);break;case Lh.TIMEOUT:dt(rn,`RPC '${t}' ${o} timed out`),h(new mt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const v=d.getStatus();if(dt(rn,`RPC '${t}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const A=function(D){const V=D.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(V)>=0?V:nt.UNKNOWN}(S.status);h(new mt(A,S.message))}else h(new mt(nt.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new mt(nt.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{dt(rn,`RPC '${t}' ${o} completed.`)}});const m=JSON.stringify(a);dt(rn,`RPC '${t}' ${o} sending request:`,a),d.send(e,"POST",m,s,15)})}Wo(t,e,s){const a=km(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=vT(),h=_T(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,e,s),d.encodeInitMessageHeaders=!0;const y=o.join("");dt(rn,`Creating RPC '${t}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);let b=!1,S=!1;const A=new TD({Fo:D=>{S?dt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(b||(dt(rn,`Opening RPC '${t}' stream ${a} transport.`),v.open(),b=!0),dt(rn,`RPC '${t}' stream ${a} sending:`,D),v.send(D))},Mo:()=>v.close()}),M=(D,V,B)=>{D.listen(V,U=>{try{B(U)}catch(Q){setTimeout(()=>{throw Q},0)}})};return M(v,Xl.EventType.OPEN,()=>{S||(dt(rn,`RPC '${t}' stream ${a} transport opened.`),A.Qo())}),M(v,Xl.EventType.CLOSE,()=>{S||(S=!0,dt(rn,`RPC '${t}' stream ${a} transport closed`),A.Uo())}),M(v,Xl.EventType.ERROR,D=>{S||(S=!0,yo(rn,`RPC '${t}' stream ${a} transport errored:`,D),A.Uo(new mt(nt.UNAVAILABLE,"The operation could not be completed")))}),M(v,Xl.EventType.MESSAGE,D=>{var V;if(!S){const B=D.data[0];Kt(!!B);const U=B,Q=(U==null?void 0:U.error)||((V=U[0])===null||V===void 0?void 0:V.error);if(Q){dt(rn,`RPC '${t}' stream ${a} received error:`,Q);const W=Q.status;let rt=function(R){const O=we[R];if(O!==void 0)return e1(O)}(W),N=Q.message;rt===void 0&&(rt=nt.INTERNAL,N="Unknown error status: "+W+" with message "+Q.message),S=!0,A.Uo(new mt(rt,N)),v.close()}else dt(rn,`RPC '${t}' stream ${a} received:`,B),A.Ko(B)}}),M(h,yT.STAT_EVENT,D=>{D.stat===Tm.PROXY?dt(rn,`RPC '${t}' stream ${a} detected buffering proxy`):D.stat===Tm.NOPROXY&&dt(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(n){return new RC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,e,s=1e3,a=1.5,o=6e4){this.Ti=t,this.timerId=e,this.Go=s,this.zo=a,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,e-s);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class p1{constructor(t,e,s,a,o,u,h,d){this.Ti=t,this.n_=s,this.r_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new m1(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===nt.RESOURCE_EXHAUSTED?(ys(e.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===e&&this.V_(s,a)},s=>{t(()=>{const a=new mt(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(t,e){const s=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return dt(hb,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(dt(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends p1{constructor(t,e,s,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,a,u),this.serializer=o}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=MC(this.serializer,t),s=function(o){if(!("targetChange"in o))return wt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Mi(u.readTime):wt.min()}(t);return this.listener.p_(e,s)}y_(t){const e={};e.database=Vm(this.serializer),e.addTarget=function(o,u){let h;const d=u.target;if(h=Rm(d)?{documents:VC(o,d)}:{query:NC(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=s1(o,u.resumeToken);const m=Mm(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(wt.min())>0){h.readTime=nf(o,u.snapshotVersion.toTimestamp());const m=Mm(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,t);const s=LC(this.serializer,t);s&&(e.labels=s),this.I_(e)}w_(t){const e={};e.database=Vm(this.serializer),e.removeTarget=t,this.I_(e)}}class wD extends p1{constructor(t,e,s,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,a,u),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=IC(t.writeResults,t.commitTime),s=Mi(t.commitTime);return this.listener.v_(s,e)}C_(){const t={};t.database=Vm(this.serializer),this.I_(t)}b_(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>OC(this.serializer,s))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{}class RD extends xD{constructor(t,e,s,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,e,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.So(t,Om(e,s),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(nt.UNKNOWN,o.toString())})}Co(t,e,s,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(t,Om(e,s),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(nt.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CD{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ys(e),this.N_=!1):dt("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class DD{constructor(t,e,s,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{s.enqueueAndForget(async()=>{pa(this)&&(dt(fa,"Restarting streams for network reachability change."),await async function(d){const m=Rt(d);m.W_.add(4),await Bu(m),m.j_.set("Unknown"),m.W_.delete(4),await Of(m)}(this))})}),this.j_=new CD(s,a)}}async function Of(n){if(pa(n))for(const t of n.G_)await t(!0)}async function Bu(n){for(const t of n.G_)await t(!1)}function y1(n,t){const e=Rt(n);e.K_.has(t.targetId)||(e.K_.set(t.targetId,t),Ap(e)?Sp(e):Io(e).c_()&&Tp(e,t))}function Ep(n,t){const e=Rt(n),s=Io(e);e.K_.delete(t),s.c_()&&_1(e,t),e.K_.size===0&&(s.c_()?s.P_():pa(e)&&e.j_.set("Unknown"))}function Tp(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Io(n).y_(t)}function _1(n,t){n.H_.Ne(t),Io(n).w_(t)}function Sp(n){n.H_=new SC({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.K_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Io(n).start(),n.j_.B_()}function Ap(n){return pa(n)&&!Io(n).u_()&&n.K_.size>0}function pa(n){return Rt(n).W_.size===0}function v1(n){n.H_=void 0}async function MD(n){n.j_.set("Online")}async function OD(n){n.K_.forEach((t,e)=>{Tp(n,t)})}async function ID(n,t){v1(n),Ap(n)?(n.j_.q_(t),Sp(n)):n.j_.set("Unknown")}async function VD(n,t,e){if(n.j_.set("Online"),t instanceof i1&&t.state===2&&t.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a.K_.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.K_.delete(h),a.H_.removeTarget(h))}(n,t)}catch(s){dt(fa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await rf(n,s)}else if(t instanceof Bh?n.H_.We(t):t instanceof n1?n.H_.Ze(t):n.H_.je(t),!e.isEqual(wt.min()))try{const s=await g1(n.localStore);e.compareTo(s)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.K_.get(m);y&&o.K_.set(m,y.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const y=o.K_.get(d);if(!y)return;o.K_.set(d,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),_1(o,d);const v=new sr(y.target,d,m,y.sequenceNumber);Tp(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(s){dt(fa,"Failed to raise snapshot:",s),await rf(n,s)}}async function rf(n,t,e){if(!Oo(t))throw t;n.W_.add(1),await Bu(n),n.j_.set("Offline"),e||(e=()=>g1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{dt(fa,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await Of(n)})}function b1(n,t){return t().catch(e=>rf(n,e,t))}async function If(n){const t=Rt(n),e=pr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:op;for(;ND(t);)try{const a=await mD(t.localStore,s);if(a===null){t.U_.length===0&&e.P_();break}s=a.batchId,kD(t,a)}catch(a){await rf(t,a)}E1(t)&&T1(t)}function ND(n){return pa(n)&&n.U_.length<10}function kD(n,t){n.U_.push(t);const e=pr(n);e.c_()&&e.S_&&e.b_(t.mutations)}function E1(n){return pa(n)&&!pr(n).u_()&&n.U_.length>0}function T1(n){pr(n).start()}async function LD(n){pr(n).C_()}async function PD(n){const t=pr(n);for(const e of n.U_)t.b_(e.mutations)}async function zD(n,t,e){const s=n.U_.shift(),a=gp.from(s,t,e);await b1(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await If(n)}async function UD(n,t){t&&pr(n).S_&&await async function(s,a){if(function(u){return EC(u)&&u!==nt.ABORTED}(a.code)){const o=s.U_.shift();pr(s).h_(),await b1(s,()=>s.remoteSyncer.rejectFailedWrite(o.batchId,a)),await If(s)}}(n,t),E1(n)&&T1(n)}async function fb(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),dt(fa,"RemoteStore received new credentials");const s=pa(e);e.W_.add(3),await Bu(e),s&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await Of(e)}async function BD(n,t){const e=Rt(n);t?(e.W_.delete(2),await Of(e)):t||(e.W_.add(2),await Bu(e),e.j_.set("Unknown"))}function Io(n){return n.J_||(n.J_=function(e,s,a){const o=Rt(e);return o.M_(),new AD(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:MD.bind(null,n),No:OD.bind(null,n),Lo:ID.bind(null,n),p_:VD.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),Ap(n)?Sp(n):n.j_.set("Unknown")):(await n.J_.stop(),v1(n))})),n.J_}function pr(n){return n.Y_||(n.Y_=function(e,s,a){const o=Rt(e);return o.M_(),new wD(s,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:LD.bind(null,n),Lo:UD.bind(null,n),D_:PD.bind(null,n),v_:zD.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await If(n)):(await n.Y_.stop(),n.U_.length>0&&(dt(fa,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(t,e,s,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=a,this.removalCallback=o,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,a,o){const u=Date.now()+s,h=new wp(t,e,u,a,o);return h.start(s),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(n,t){if(ys("AsyncQueue",`${t}: ${n}`),Oo(n))return new mt(nt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(t){return new mo(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Tt.comparator(e.key,s.key):(e,s)=>Tt.comparator(e.key,s.key),this.keyedMap=Wl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof mo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=s.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new mo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.Z_=new fe(Tt.comparator)}track(t){const e=t.doc.key,s=this.Z_.get(e);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(e):t.type===1&&s.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):At():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,s)=>{t.push(s)}),t}}class To{constructor(t,e,s,a,o,u,h,d,m){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(t,e,s,a,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new To(t,e,mo.emptySet(e),u,s,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==s[a].type||!e[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class jD{constructor(){this.queries=gb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,s){const a=Rt(e),o=a.queries;a.queries=gb(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(s)})})(this,new mt(nt.ABORTED,"Firestore shutting down"))}}function gb(){return new ma(n=>BT(n),wf)}async function FD(n,t){const e=Rt(n);let s=3;const a=t.query;let o=e.queries.get(a);o?!o.na()&&t.ra()&&(s=2):(o=new HD,s=t.ra()?0:1);try{switch(s){case 0:o.ea=await e.onListen(a,!0);break;case 1:o.ea=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=xp(u,`Initialization of query '${co(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.ta.push(t),t.sa(e.onlineState),o.ea&&t.oa(o.ea)&&Rp(e)}async function qD(n,t){const e=Rt(n),s=t.query;let a=3;const o=e.queries.get(s);if(o){const u=o.ta.indexOf(t);u>=0&&(o.ta.splice(u,1),o.ta.length===0?a=t.ra()?0:1:!o.na()&&t.ra()&&(a=2))}switch(a){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function GD(n,t){const e=Rt(n);let s=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const h of u.ta)h.oa(a)&&(s=!0);u.ea=a}}s&&Rp(e)}function YD(n,t,e){const s=Rt(n),a=s.queries.get(t);if(a)for(const o of a.ta)o.onError(e);s.queries.delete(t)}function Rp(n){n.ia.forEach(t=>{t.next()})}var Lm,mb;(mb=Lm||(Lm={}))._a="default",mb.Cache="cache";class $D{constructor(t,e,s){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const a of t.docChanges)a.type!==3&&s.push(a);t=new To(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const s=e!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=To.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(t){this.key=t}}class A1{constructor(t){this.key=t}}class QD{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kt(),this.mutatedKeys=kt(),this.ya=HT(t),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(t,e){const s=e?e.Da:new db,a=e?e.wa:this.wa;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,v)=>{const b=a.get(y),S=xf(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;b&&S?b.data.isEqual(S.data)?A!==M&&(s.track({type:3,doc:S}),D=!0):this.va(b,S)||(s.track({type:2,doc:S}),D=!0,(d&&this.ya(S,d)>0||m&&this.ya(S,m)<0)&&(h=!0)):!b&&S?(s.track({type:0,doc:S}),D=!0):b&&!S&&(s.track({type:1,doc:b}),D=!0,(d||m)&&(h=!0)),D&&(S?(u=u.add(S),o=M?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),s.track({type:1,doc:y})}return{wa:u,Da:s,ls:h,mutatedKeys:o}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,a){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const u=t.Da.X_();u.sort((y,v)=>function(S,A){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return M(S)-M(A)}(y.type,v.type)||this.ya(y.doc,v.doc)),this.Ca(s),a=a!=null&&a;const h=e&&!a?this.Fa():[],d=this.pa.size===0&&this.current&&!a?1:0,m=d!==this.ga;return this.ga=d,u.length!==0||m?{snapshot:new To(this.query,t.wa,o,u,t.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new db,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=kt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const e=[];return t.forEach(s=>{this.pa.has(s)||e.push(new A1(s))}),this.pa.forEach(s=>{t.has(s)||e.push(new S1(s))}),e}Oa(t){this.fa=t.gs,this.pa=kt();const e=this.ba(t.documents);return this.applyChanges(e,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cp="SyncEngine";class KD{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class XD{constructor(t){this.key=t,this.Ba=!1}}class WD{constructor(t,e,s,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new ma(h=>BT(h),wf),this.qa=new Map,this.Qa=new Set,this.$a=new fe(Tt.comparator),this.Ua=new Map,this.Ka=new yp,this.Wa={},this.Ga=new Map,this.za=Eo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZD(n,t,e=!0){const s=M1(n);let a;const o=s.ka.get(t);return o?(s.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.Na()):a=await w1(s,t,e,!0),a}async function JD(n,t){const e=M1(n);await w1(e,t,!0,!1)}async function w1(n,t,e,s){const a=await pD(n.localStore,Di(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return s&&(h=await tM(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&y1(n.remoteStore,a),h}async function tM(n,t,e,s,a){n.Ha=(v,b,S)=>async function(M,D,V,B){let U=D.view.ba(V);U.ls&&(U=await ob(M.localStore,D.query,!1).then(({documents:N})=>D.view.ba(N,U)));const Q=B&&B.targetChanges.get(D.targetId),W=B&&B.targetMismatches.get(D.targetId)!=null,rt=D.view.applyChanges(U,M.isPrimaryClient,Q,W);return yb(M,D.targetId,rt.Ma),rt.snapshot}(n,v,b,S);const o=await ob(n.localStore,t,!0),u=new QD(t,o.gs),h=u.ba(o.documents),d=Uu.createSynthesizedTargetChangeForCurrentChange(e,s&&n.onlineState!=="Offline",a),m=u.applyChanges(h,n.isPrimaryClient,d);yb(n,e,m.Ma);const y=new KD(t,e,u);return n.ka.set(t,y),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),m.snapshot}async function eM(n,t,e){const s=Rt(n),a=s.ka.get(t),o=s.qa.get(a.targetId);if(o.length>1)return s.qa.set(a.targetId,o.filter(u=>!wf(u,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Nm(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),e&&Ep(s.remoteStore,a.targetId),Pm(s,a.targetId)}).catch(Mo)):(Pm(s,a.targetId),await Nm(s.localStore,a.targetId,!0))}async function nM(n,t){const e=Rt(n),s=e.ka.get(t),a=e.qa.get(s.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),Ep(e.remoteStore,s.targetId))}async function iM(n,t,e){const s=cM(n);try{const a=await function(u,h){const d=Rt(u),m=Le.now(),y=h.reduce((S,A)=>S.add(A.key),kt());let v,b;return d.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=_s(),M=kt();return d.ds.getEntries(S,y).next(D=>{A=D,A.forEach((V,B)=>{B.isValidDocument()||(M=M.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(S,A)).next(D=>{v=D;const V=[];for(const B of h){const U=pC(B,v.get(B.key).overlayedDocument);U!=null&&V.push(new Er(B.key,U,IT(U.value.mapValue),oi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,m,V,h)}).next(D=>{b=D;const V=D.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(S,D.batchId,V)})}).then(()=>({batchId:b.batchId,changes:FT(v)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Wa[u.currentUser.toKey()];m||(m=new fe(It)),m=m.insert(h,d),u.Wa[u.currentUser.toKey()]=m}(s,a.batchId,e),await Hu(s,a.changes),await If(s.remoteStore)}catch(a){const o=xp(a,"Failed to persist write");e.reject(o)}}async function x1(n,t){const e=Rt(n);try{const s=await dD(e.localStore,t);t.targetChanges.forEach((a,o)=>{const u=e.Ua.get(o);u&&(Kt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.Ba=!0:a.modifiedDocuments.size>0?Kt(u.Ba):a.removedDocuments.size>0&&(Kt(u.Ba),u.Ba=!1))}),await Hu(e,s,t)}catch(s){await Mo(s)}}function pb(n,t,e){const s=Rt(n);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const a=[];s.ka.forEach((o,u)=>{const h=u.view.sa(t);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Rt(u);d.onlineState=h;let m=!1;d.queries.forEach((y,v)=>{for(const b of v.ta)b.sa(h)&&(m=!0)}),m&&Rp(d)}(s.eventManager,t),a.length&&s.La.p_(a),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sM(n,t,e){const s=Rt(n);s.sharedClientState.updateQueryState(t,"rejected",e);const a=s.Ua.get(t),o=a&&a.key;if(o){let u=new fe(Tt.comparator);u=u.insert(o,ln.newNoDocument(o,wt.min()));const h=kt().add(o),d=new Df(wt.min(),new Map,new fe(It),u,h);await x1(s,d),s.$a=s.$a.remove(o),s.Ua.delete(t),Dp(s)}else await Nm(s.localStore,t,!1).then(()=>Pm(s,t,e)).catch(Mo)}async function rM(n,t){const e=Rt(n),s=t.batch.batchId;try{const a=await fD(e.localStore,t);C1(e,s,null),R1(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Hu(e,a)}catch(a){await Mo(a)}}async function aM(n,t,e){const s=Rt(n);try{const a=await function(u,h){const d=Rt(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(Kt(v!==null),y=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(s.localStore,t);C1(s,t,e),R1(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Hu(s,a)}catch(a){await Mo(a)}}function R1(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function C1(n,t,e){const s=Rt(n);let a=s.Wa[s.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),s.Wa[s.currentUser.toKey()]=a}}function Pm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.qa.get(t))n.ka.delete(s),e&&n.La.Ja(s,e);n.qa.delete(t),n.isPrimaryClient&&n.Ka.br(t).forEach(s=>{n.Ka.containsKey(s)||D1(n,s)})}function D1(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(Ep(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ua.delete(e),Dp(n))}function yb(n,t,e){for(const s of e)s instanceof S1?(n.Ka.addReference(s.key,t),oM(n,s)):s instanceof A1?(dt(Cp,"Document no longer in limbo: "+s.key),n.Ka.removeReference(s.key,t),n.Ka.containsKey(s.key)||D1(n,s.key)):At()}function oM(n,t){const e=t.key,s=e.path.canonicalString();n.$a.get(e)||n.Qa.has(s)||(dt(Cp,"New document in limbo: "+e),n.Qa.add(s),Dp(n))}function Dp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new Tt(oe.fromString(t)),s=n.za.next();n.Ua.set(s,new XD(e)),n.$a=n.$a.insert(e,s),y1(n.remoteStore,new sr(Di(fp(e.path)),s,"TargetPurposeLimboResolution",Tf.ae))}}async function Hu(n,t,e){const s=Rt(n),a=[],o=[],u=[];s.ka.isEmpty()||(s.ka.forEach((h,d)=>{u.push(s.Ha(d,t,e).then(m=>{var y;if((m||e)&&s.isPrimaryClient){const v=m?!m.fromCache:(y=e==null?void 0:e.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){a.push(m);const v=vp.Yi(d.targetId,m);o.push(v)}}))}),await Promise.all(u),s.La.p_(a),await async function(d,m){const y=Rt(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>tt.forEach(m,b=>tt.forEach(b.Hi,S=>y.persistence.referenceDelegate.addReference(v,b.targetId,S)).next(()=>tt.forEach(b.Ji,S=>y.persistence.referenceDelegate.removeReference(v,b.targetId,S)))))}catch(v){if(!Oo(v))throw v;dt(bp,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const S=y.Ts.get(b),A=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(A);y.Ts=y.Ts.insert(b,M)}}}(s.localStore,o))}async function lM(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){dt(Cp,"User change. New user:",t.toKey());const s=await d1(e.localStore,t);e.currentUser=t,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new mt(nt.CANCELLED,u))})}),o.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Hu(e,s.Rs)}}function uM(n,t){const e=Rt(n),s=e.Ua.get(t);if(s&&s.Ba)return kt().add(s.key);{let a=kt();const o=e.qa.get(t);if(!o)return a;for(const u of o){const h=e.ka.get(u);a=a.unionWith(h.view.Sa)}return a}}function M1(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=x1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sM.bind(null,t),t.La.p_=GD.bind(null,t.eventManager),t.La.Ja=YD.bind(null,t.eventManager),t}function cM(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aM.bind(null,t),t}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return hD(this.persistence,new lD,t.initialUser,this.serializer)}Xa(t){return new f1(_p.ri,this.serializer)}Za(t){return new _D}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class hM extends af{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){Kt(this.persistence.referenceDelegate instanceof sf);const s=this.persistence.referenceDelegate.garbageCollector;return new $C(s,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new f1(s=>sf.ri(s,e),this.serializer)}}class zm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jD}()}createDatastore(t){const e=Mf(t.databaseInfo.databaseId),s=function(o){return new SD(o)}(t.databaseInfo);return function(o,u,h,d){return new RD(o,u,h,d)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,a,o,u,h){return new DD(s,a,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>pb(this.syncEngine,e,0),function(){return cb.D()?new cb:new vD}())}createSyncEngine(t,e){return function(a,o,u,h,d,m,y){const v=new WD(a,o,u,h,d,m);return y&&(v.ja=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const o=Rt(a);dt(fa,"RemoteStore shutting down."),o.W_.add(5),await Bu(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ys("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="FirestoreClient";class dM{constructor(t,e,s,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(s,async u=>{dt(yr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(dt(yr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=xp(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function sm(n,t){n.asyncQueue.verifyOperationInProgress(),dt(yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let s=e.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await d1(t.localStore,a),s=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function _b(n,t){n.asyncQueue.verifyOperationInProgress();const e=await gM(n);dt(yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(s=>fb(t.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>fb(t.remoteStore,a)),n._onlineComponents=t}async function gM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(yr,"Using user provided OfflineComponentProvider");try{await sm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;yo("Error using user provided cache. Falling back to memory cache: "+e),await sm(n,new af)}}else dt(yr,"Using default OfflineComponentProvider"),await sm(n,new hM(void 0));return n._offlineComponents}async function O1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(yr,"Using user provided OnlineComponentProvider"),await _b(n,n._uninitializedComponentsProvider._online)):(dt(yr,"Using default OnlineComponentProvider"),await _b(n,new zm))),n._onlineComponents}function mM(n){return O1(n).then(t=>t.syncEngine)}async function vb(n){const t=await O1(n),e=t.eventManager;return e.onListen=ZD.bind(null,t.syncEngine),e.onUnlisten=eM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=JD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=nM.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n,t,e){if(!e)throw new mt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function pM(n,t,e,s){if(t===!0&&s===!0)throw new mt(nt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Eb(n){if(!Tt.isDocumentKey(n))throw new mt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Tb(n){if(Tt.isDocumentKey(n))throw new mt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Vf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At()}function gs(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vf(n);throw new mt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firestore.googleapis.com",Sb=!0;class Ab{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N1,this.ssl=Sb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Sb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=h1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GC)throw new mt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I1((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new mt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nf{constructor(t,e,s,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ab({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ab(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new S2;switch(s.type){case"firstParty":return new R2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=bb.get(e);s&&(dt("ComponentProvider","Removing Datastore"),bb.delete(e),s.terminate())}(this),Promise.resolve()}}function yM(n,t,e,s={}){var a;const o=(n=gs(n,Nf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;o.host!==N1&&o.host!==h&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:s});if(!Qh(d,u)&&(n._setSettings(d),s.mockUserToken)){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=on.MOCK_USER;else{m=tR(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new mt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(v)}n._authCredentials=new A2(new bT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Vo(this.firestore,t,this._query)}}class yn{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yn(this.firestore,t,this._key)}}class cr extends Vo{constructor(t,e,s){super(t,e,fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yn(this.firestore,null,new Tt(t))}withConverter(t){return new cr(this.firestore,t,this._path)}}function Um(n,t,...e){if(n=Ii(n),V1("collection","path",t),n instanceof Nf){const s=oe.fromString(t,...e);return Tb(s),new cr(n,null,s)}{if(!(n instanceof yn||n instanceof cr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return Tb(s),new cr(n.firestore,null,s)}}function k1(n,t,...e){if(n=Ii(n),arguments.length===1&&(t=TT.newId()),V1("doc","path",t),n instanceof Nf){const s=oe.fromString(t,...e);return Eb(s),new yn(n,null,new Tt(s))}{if(!(n instanceof yn||n instanceof cr))throw new mt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(oe.fromString(t,...e));return Eb(s),new yn(n.firestore,n instanceof cr?n.converter:null,new Tt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="AsyncQueue";class xb{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new m1(this,"async_queue_retry"),this.Su=()=>{const s=im();s&&dt(wb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const e=im();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=im();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new la;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Oo(t))throw t;dt(wb,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const a=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(s);throw ys("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=e,e}enqueueAfterDelay(t,e,s){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const a=wp.createAndSchedule(this,t,e,s,o=>this.Fu(o));return this.fu.push(a),a}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}function Rb(n){return function(e,s){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of s)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class So extends Nf{constructor(t,e,s,a){super(t,e,s,a),this.type="firestore",this._queue=new xb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new xb(t),this._firestoreClient=void 0,await t}}}function _M(n,t){const e=typeof n=="object"?n:c2(),s=typeof n=="string"?n:Zh,a=r2(e,"firestore").getImmediate({identifier:s});if(!a._initialized){const o=Zx("firestore");o&&yM(a,...o)}return a}function L1(n){if(n._terminated)throw new mt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vM(n),n._firestoreClient}function vM(n){var t,e,s;const a=n._freezeSettings(),o=function(h,d,m,y){return new j2(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,I1(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new dM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ao(tn.fromBase64String(t))}catch(e){throw new mt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ao(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,a){if(s.length!==a.length)return!1;for(let o=0;o<s.length;++o)if(s[o]!==a[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=/^__.*__$/;class EM{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,e,this.fieldTransforms):new zu(t,this.data,e,this.fieldTransforms)}}class P1{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Er(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function z1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class Ip{constructor(t,e,s,a,o,u){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=a,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ip(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:s,Qu:!1});return a.$u(t),a}Uu(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return of(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(z1(this.Lu)&&bM.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class TM{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Mf(t)}ju(t,e,s,a=!1){return new Ip({Lu:t,methodName:e,zu:s,path:Ze.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lf(n){const t=n._freezeSettings(),e=Mf(n._databaseId);return new TM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function U1(n,t,e,s,a,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,t,e,a);kp("Data must be an object, but it was:",u,s);const h=B1(s,u);let d,m;if(o.merge)d=new In(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=Bm(t,v,e);if(!u.contains(b))throw new mt(nt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);j1(y,b)||y.push(b)}d=new In(y),m=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=u.fieldTransforms;return new EM(new Sn(h),d,m)}class Pf extends ju{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Pf}}class Vp extends ju{_toFieldTransform(t){return new WT(t.path,new Su)}isEqual(t){return t instanceof Vp}}class Np extends ju{constructor(t,e){super(t),this.Ju=e}_toFieldTransform(t){const e=new xu(t.serializer,YT(t.serializer,this.Ju));return new WT(t.path,e)}isEqual(t){return t instanceof Np&&this.Ju===t.Ju}}function SM(n,t,e,s){const a=n.ju(1,t,e);kp("Data must be an object, but it was:",a,s);const o=[],u=Sn.empty();br(s,(d,m)=>{const y=Lp(t,d,e);m=Ii(m);const v=a.Uu(y);if(m instanceof Pf)o.push(y);else{const b=Fu(m,v);b!=null&&(o.push(y),u.set(y,b))}});const h=new In(o);return new P1(u,h,a.fieldTransforms)}function AM(n,t,e,s,a,o){const u=n.ju(1,t,e),h=[Bm(t,s,e)],d=[a];if(o.length%2!=0)throw new mt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(Bm(t,o[b])),d.push(o[b+1]);const m=[],y=Sn.empty();for(let b=h.length-1;b>=0;--b)if(!j1(m,h[b])){const S=h[b];let A=d[b];A=Ii(A);const M=u.Uu(S);if(A instanceof Pf)m.push(S);else{const D=Fu(A,M);D!=null&&(m.push(S),y.set(S,D))}}const v=new In(m);return new P1(y,v,u.fieldTransforms)}function wM(n,t,e,s=!1){return Fu(e,n.ju(s?4:3,t))}function Fu(n,t){if(H1(n=Ii(n)))return kp("Unsupported field value:",t,n),B1(n,t);if(n instanceof ju)return function(s,a){if(!z1(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const o=s._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,a){const o=[];let u=0;for(const h of s){let d=Fu(h,a.Ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,t)}return function(s,a){if((s=Ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const o=Le.fromDate(s);return{timestampValue:nf(a.serializer,o)}}if(s instanceof Le){const o=new Le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nf(a.serializer,o)}}if(s instanceof Mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:s1(a.serializer,s._byteString)};if(s instanceof yn){const o=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(o))throw a.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:pp(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Op)return function(u,h){return{mapValue:{fields:{[MT]:{stringValue:OT},[Jh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.Wu("VectorValues must only contain numeric values.");return dp(h.serializer,m)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Vf(s)}`)}(n,t)}function B1(n,t){const e={};return AT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):br(n,(s,a)=>{const o=Fu(a,t.qu(s));o!=null&&(e[s]=o)}),{mapValue:{fields:e}}}function H1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Le||n instanceof Mp||n instanceof Ao||n instanceof yn||n instanceof ju||n instanceof Op)}function kp(n,t,e){if(!H1(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const s=Vf(e);throw s==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+s)}}function Bm(n,t,e){if((t=Ii(t))instanceof kf)return t._internalPath;if(typeof t=="string")return Lp(n,t);throw of("Field path arguments must be of type string or ",n,!1,void 0,e)}const xM=new RegExp("[~\\*/\\[\\]]");function Lp(n,t,e){if(t.search(xM)>=0)throw of(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new kf(...t.split("."))._internalPath}catch{throw of(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function of(n,t,e,s,a){const o=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${s}`),u&&(d+=` in document ${a}`),d+=")"),new mt(nt.INVALID_ARGUMENT,h+n+d)}function j1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t,e,s,a,o){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Pp("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class RM extends F1{data(){return super.data()}}function Pp(n,t){return typeof t=="string"?Lp(n,t):t instanceof kf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class DM extends zp{}function MM(n,t,...e){let s=[];t instanceof zp&&s.push(t),s=s.concat(e),function(o){const u=o.filter(d=>d instanceof Up).length,h=o.filter(d=>d instanceof zf).length;if(u>1||u>0&&h>0)throw new mt(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)n=a._apply(n);return n}class zf extends DM{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new zf(t,e,s)}_apply(t){const e=this._parse(t);return q1(t._query,e),new Vo(t.firestore,t.converter,Cm(t._query,e))}_parse(t){const e=Lf(t.firestore);return function(o,u,h,d,m,y,v){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Db(v,y);const A=[];for(const M of v)A.push(Cb(d,o,M));b={arrayValue:{values:A}}}else b=Cb(d,o,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Db(v,y),b=wM(h,u,v,y==="in"||y==="not-in");return xe.create(m,y,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function OM(n,t,e){const s=t,a=Pp("where",n);return zf._create(a,s,e)}class Up extends zp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Up(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(a,o){let u=a;const h=o.getFlattenedFilters();for(const d of h)q1(u,d),u=Cm(u,d)}(t._query,e),new Vo(t.firestore,t.converter,Cm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cb(n,t,e){if(typeof(e=Ii(e))=="string"){if(e==="")throw new mt(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(t)&&e.indexOf("/")!==-1)throw new mt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(oe.fromString(e));if(!Tt.isDocumentKey(s))throw new mt(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j0(n,new Tt(s))}if(e instanceof yn)return j0(n,e._key);throw new mt(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(e)}.`)}function Db(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function q1(n,t){const e=function(a,o){for(const u of a)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class IM{convertValue(t,e="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return br(t,(a,o)=>{s[a]=this.convertValue(o,e)}),s}convertVectorValue(t){var e,s,a;const o=(a=(s=(e=t.fields)===null||e===void 0?void 0:e[Jh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(u=>be(u.doubleValue));return new Op(o)}convertGeoPoint(t){return new Mp(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Af(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(bu(t));default:return null}}convertTimestamp(t){const e=dr(t);return new Le(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=oe.fromString(t);Kt(c1(s));const a=new Eu(s.get(1),s.get(3)),o=new Tt(s.popFirst(5));return a.isEqual(e)||ys(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,t,e){let s;return s=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Y1 extends F1{constructor(t,e,s,a,o,u){super(t,e,s,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(Pp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class Hh extends Y1{data(t={}){return super.data(t)}}class VM{constructor(t,e,s,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Jl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new Hh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Hh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Hh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Jl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:NM(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function NM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}class $1 extends IM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ao(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yn(this.firestore,null,e)}}function kM(n,t,e){n=gs(n,yn);const s=gs(n.firestore,So),a=G1(n.converter,t,e);return Bp(s,[U1(Lf(s),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,oi.none())])}function Mb(n,t,e,...s){n=gs(n,yn);const a=gs(n.firestore,So),o=Lf(a);let u;return u=typeof(t=Ii(t))=="string"||t instanceof kf?AM(o,"updateDoc",n._key,t,e,s):SM(o,"updateDoc",n._key,t),Bp(a,[u.toMutation(n._key,oi.exists(!0))])}function Q1(n,t){const e=gs(n.firestore,So),s=k1(n),a=G1(n.converter,t);return Bp(e,[U1(Lf(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function Ob(n,...t){var e,s,a;n=Ii(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof t[u]!="object"||Rb(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Rb(t[u])){const v=t[u];t[u]=(e=v.next)===null||e===void 0?void 0:e.bind(v),t[u+1]=(s=v.error)===null||s===void 0?void 0:s.bind(v),t[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let d,m,y;if(n instanceof yn)m=gs(n.firestore,So),y=fp(n._key.path),d={next:v=>{t[u]&&t[u](LM(m,n,v))},error:t[u+1],complete:t[u+2]};else{const v=gs(n,Vo);m=gs(v.firestore,So),y=v._query;const b=new $1(m);d={next:S=>{t[u]&&t[u](new VM(m,b,v,S))},error:t[u+1],complete:t[u+2]},CM(n._query)}return function(b,S,A,M){const D=new fM(M),V=new $D(S,D,A);return b.asyncQueue.enqueueAndForget(async()=>FD(await vb(b),V)),()=>{D.su(),b.asyncQueue.enqueueAndForget(async()=>qD(await vb(b),V))}}(L1(m),y,h,d)}function Bp(n,t){return function(s,a){const o=new la;return s.asyncQueue.enqueueAndForget(async()=>iM(await mM(s),a,o)),o.promise}(L1(n),t)}function LM(n,t,e){const s=e.docs.get(t._key),a=new $1(n);return new Y1(n,a,t._key,s,new Jl(e.hasPendingWrites,e.fromCache),t.converter)}function PM(){return new Vp("serverTimestamp")}function Ib(n){return new Np("increment",n)}(function(t,e=!0){(function(a){Do=a})(u2),Xh(new yu("firestore",(s,{instanceIdentifier:a,options:o})=>{const u=s.getProvider("app").getImmediate(),h=new So(new w2(s.getProvider("auth-internal")),new C2(u,s.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new mt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(m.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),go(M0,O0,t),go(M0,O0,"esm2017")})();const zM={apiKey:"AIzaSyC-AAnSObk0TqI-UMZkiXT3aLrqOPzIasw",authDomain:"smart-event-3837f.firebaseapp.com",projectId:"smart-event-3837f",storageBucket:"smart-event-3837f.firebasestorage.app",messagingSenderId:"733466023101",appId:"1:733466023101:web:1c7887d3ad3f9085d893d4",measurementId:"G-82747V4PH3"},UM=hT(zM),jh=_M(UM),BM=()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array.from({length:6},()=>n[Math.floor(Math.random()*n.length)]).join("")},HM=()=>{const n=bf(),[t,e]=Y.useState(""),[s,a]=Y.useState(!1),o=async()=>{const u=BM();e(u),a(!0);try{await Q1(Um(jh,"rooms"),{code:u}),localStorage.setItem("roomCreator",u),n(`/room/${u}`)}catch(h){alert("❌ Error creating room."),console.error(h)}finally{a(!1)}};return ct.jsx(ct.Fragment,{children:ct.jsxs("div",{className:"c flex-col gap-y-6 text-center",children:[ct.jsx("h2",{className:"text-3xl font-semibold",children:"Create a Room"}),t&&ct.jsxs("p",{className:"font-mono text-xl tracking-widest text-green-400",children:["Room Code: ",ct.jsx("span",{className:"font-bold",children:t})]}),ct.jsx("button",{className:"mt-3 rounded-xl border border-white bg-white/10 px-6 py-3 backdrop-blur-lg transition-all duration-300 hover:bg-white hover:text-black hover:shadow-xl",onClick:o,disabled:s,children:s?"Creating Room...":"Generate & Enter Room"})]})})};function K1(n){var t,e,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(t=0;t<a;t++)n[t]&&(e=K1(n[t]))&&(s&&(s+=" "),s+=e)}else for(e in n)n[e]&&(s&&(s+=" "),s+=e);return s}function rr(){for(var n,t,e=0,s="",a=arguments.length;e<a;e++)(n=arguments[e])&&(t=K1(n))&&(s&&(s+=" "),s+=t);return s}const Ru=n=>typeof n=="number"&&!isNaN(n),ua=n=>typeof n=="string",Vn=n=>typeof n=="function",Fh=n=>ua(n)||Vn(n)?n:null,Hm=n=>Y.isValidElement(n)||ua(n)||Vn(n)||Ru(n);function jM(n,t,e){e===void 0&&(e=300);const{scrollHeight:s,style:a}=n;requestAnimationFrame(()=>{a.minHeight="initial",a.height=s+"px",a.transition=`all ${e}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,e)})})}function Uf(n){let{enter:t,exit:e,appendPosition:s=!1,collapse:a=!0,collapseDuration:o=300}=n;return function(u){let{children:h,position:d,preventExitTransition:m,done:y,nodeRef:v,isIn:b,playToast:S}=u;const A=s?`${t}--${d}`:t,M=s?`${e}--${d}`:e,D=Y.useRef(0);return Y.useLayoutEffect(()=>{const V=v.current,B=A.split(" "),U=Q=>{Q.target===v.current&&(S(),V.removeEventListener("animationend",U),V.removeEventListener("animationcancel",U),D.current===0&&Q.type!=="animationcancel"&&V.classList.remove(...B))};V.classList.add(...B),V.addEventListener("animationend",U),V.addEventListener("animationcancel",U)},[]),Y.useEffect(()=>{const V=v.current,B=()=>{V.removeEventListener("animationend",B),a?jM(V,y,o):y()};b||(m?B():(D.current=1,V.className+=` ${M}`,V.addEventListener("animationend",B)))},[b]),Zt.createElement(Zt.Fragment,null,h)}}function Vb(n,t){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:t}:{}}const pn=new Map;let Cu=[];const jm=new Set,FM=n=>jm.forEach(t=>t(n)),X1=()=>pn.size>0;function W1(n,t){var e;if(t)return!((e=pn.get(t))==null||!e.isToastActive(n));let s=!1;return pn.forEach(a=>{a.isToastActive(n)&&(s=!0)}),s}function Z1(n,t){Hm(n)&&(X1()||Cu.push({content:n,options:t}),pn.forEach(e=>{e.buildToast(n,t)}))}function Nb(n,t){pn.forEach(e=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===e.id&&e.toggle(n,t==null?void 0:t.id):e.toggle(n,t==null?void 0:t.id)})}function qM(n){const{subscribe:t,getSnapshot:e,setProps:s}=Y.useRef(function(o){const u=o.containerId||1;return{subscribe(h){const d=function(y,v,b){let S=1,A=0,M=[],D=[],V=[],B=v;const U=new Map,Q=new Set,W=()=>{V=Array.from(U.values()),Q.forEach(x=>x())},rt=x=>{D=x==null?[]:D.filter(R=>R!==x),W()},N=x=>{const{toastId:R,onOpen:O,updateId:L,children:z}=x.props,I=L==null;x.staleId&&U.delete(x.staleId),U.set(R,x),D=[...D,x.props.toastId].filter(Ct=>Ct!==x.staleId),W(),b(Vb(x,I?"added":"updated")),I&&Vn(O)&&O(Y.isValidElement(z)&&z.props)};return{id:y,props:B,observe:x=>(Q.add(x),()=>Q.delete(x)),toggle:(x,R)=>{U.forEach(O=>{R!=null&&R!==O.props.toastId||Vn(O.toggle)&&O.toggle(x)})},removeToast:rt,toasts:U,clearQueue:()=>{A-=M.length,M=[]},buildToast:(x,R)=>{if((ht=>{let{containerId:ot,toastId:at,updateId:yt}=ht;const _t=ot?ot!==y:y!==1,ne=U.has(at)&&yt==null;return _t||ne})(R))return;const{toastId:O,updateId:L,data:z,staleId:I,delay:Ct}=R,vt=()=>{rt(O)},it=L==null;it&&A++;const ut={...B,style:B.toastStyle,key:S++,...Object.fromEntries(Object.entries(R).filter(ht=>{let[ot,at]=ht;return at!=null})),toastId:O,updateId:L,data:z,closeToast:vt,isIn:!1,className:Fh(R.className||B.toastClassName),bodyClassName:Fh(R.bodyClassName||B.bodyClassName),progressClassName:Fh(R.progressClassName||B.progressClassName),autoClose:!R.isLoading&&(ft=R.autoClose,Et=B.autoClose,ft===!1||Ru(ft)&&ft>0?ft:Et),deleteToast(){const ht=U.get(O),{onClose:ot,children:at}=ht.props;Vn(ot)&&ot(Y.isValidElement(at)&&at.props),b(Vb(ht,"removed")),U.delete(O),A--,A<0&&(A=0),M.length>0?N(M.shift()):W()}};var ft,Et;ut.closeButton=B.closeButton,R.closeButton===!1||Hm(R.closeButton)?ut.closeButton=R.closeButton:R.closeButton===!0&&(ut.closeButton=!Hm(B.closeButton)||B.closeButton);let P=x;Y.isValidElement(x)&&!ua(x.type)?P=Y.cloneElement(x,{closeToast:vt,toastProps:ut,data:z}):Vn(x)&&(P=x({closeToast:vt,toastProps:ut,data:z}));const et={content:P,props:ut,staleId:I};B.limit&&B.limit>0&&A>B.limit&&it?M.push(et):Ru(Ct)?setTimeout(()=>{N(et)},Ct):N(et)},setProps(x){B=x},setToggle:(x,R)=>{U.get(x).toggle=R},isToastActive:x=>D.some(R=>R===x),getSnapshot:()=>V}}(u,o,FM);pn.set(u,d);const m=d.observe(h);return Cu.forEach(y=>Z1(y.content,y.options)),Cu=[],()=>{m(),pn.delete(u)}},setProps(h){var d;(d=pn.get(u))==null||d.setProps(h)},getSnapshot(){var h;return(h=pn.get(u))==null?void 0:h.getSnapshot()}}}(n)).current;s(n);const a=Y.useSyncExternalStore(t,e,e);return{getToastToRender:function(o){if(!a)return[];const u=new Map;return n.newestOnTop&&a.reverse(),a.forEach(h=>{const{position:d}=h.props;u.has(d)||u.set(d,[]),u.get(d).push(h)}),Array.from(u,h=>o(h[0],h[1]))},isToastActive:W1,count:a==null?void 0:a.length}}function GM(n){const[t,e]=Y.useState(!1),[s,a]=Y.useState(!1),o=Y.useRef(null),u=Y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:d,closeToast:m,onClick:y,closeOnClick:v}=n;var b,S;function A(){e(!0)}function M(){e(!1)}function D(U){const Q=o.current;u.canDrag&&Q&&(u.didMove=!0,t&&M(),u.delta=n.draggableDirection==="x"?U.clientX-u.start:U.clientY-u.start,u.start!==U.clientX&&(u.canCloseOnClick=!1),Q.style.transform=`translate3d(${n.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`},0)`,Q.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function V(){document.removeEventListener("pointermove",D),document.removeEventListener("pointerup",V);const U=o.current;if(u.canDrag&&u.didMove&&U){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return a(!0),n.closeToast(),void n.collapseAll();U.style.transition="transform 0.2s, opacity 0.2s",U.style.removeProperty("transform"),U.style.removeProperty("opacity")}}(S=pn.get((b={id:n.toastId,containerId:n.containerId,fn:e}).containerId||1))==null||S.setToggle(b.id,b.fn),Y.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||M(),window.addEventListener("focus",A),window.addEventListener("blur",M),()=>{window.removeEventListener("focus",A),window.removeEventListener("blur",M)}},[n.pauseOnFocusLoss]);const B={onPointerDown:function(U){if(n.draggable===!0||n.draggable===U.pointerType){u.didMove=!1,document.addEventListener("pointermove",D),document.addEventListener("pointerup",V);const Q=o.current;u.canCloseOnClick=!0,u.canDrag=!0,Q.style.transition="none",n.draggableDirection==="x"?(u.start=U.clientX,u.removalDistance=Q.offsetWidth*(n.draggablePercent/100)):(u.start=U.clientY,u.removalDistance=Q.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(U){const{top:Q,bottom:W,left:rt,right:N}=o.current.getBoundingClientRect();U.nativeEvent.type!=="touchend"&&n.pauseOnHover&&U.clientX>=rt&&U.clientX<=N&&U.clientY>=Q&&U.clientY<=W?M():A()}};return h&&d&&(B.onMouseEnter=M,n.stacked||(B.onMouseLeave=A)),v&&(B.onClick=U=>{y&&y(U),u.canCloseOnClick&&m()}),{playToast:A,pauseToast:M,isRunning:t,preventExitTransition:s,toastRef:o,eventHandlers:B}}function YM(n){let{delay:t,isRunning:e,closeToast:s,type:a="default",hide:o,className:u,style:h,controlledProgress:d,progress:m,rtl:y,isIn:v,theme:b}=n;const S=o||d&&m===0,A={...h,animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};d&&(A.transform=`scaleX(${m})`);const M=rr("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":y}),D=Vn(u)?u({rtl:y,type:a,defaultClassName:M}):rr(M,u),V={[d&&m>=1?"onTransitionEnd":"onAnimationEnd"]:d&&m<1?null:()=>{v&&s()}};return Zt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Zt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${a}`}),Zt.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:D,style:A,...V}))}let $M=1;const J1=()=>""+$M++;function QM(n){return n&&(ua(n.toastId)||Ru(n.toastId))?n.toastId:J1()}function cu(n,t){return Z1(n,t),t.toastId}function lf(n,t){return{...t,type:t&&t.type||n,toastId:QM(t)}}function vh(n){return(t,e)=>cu(t,lf(n,e))}function re(n,t){return cu(n,lf("default",t))}re.loading=(n,t)=>cu(n,lf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),re.promise=function(n,t,e){let s,{pending:a,error:o,success:u}=t;a&&(s=ua(a)?re.loading(a,e):re.loading(a.render,{...e,...a}));const h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(y,v,b)=>{if(v==null)return void re.dismiss(s);const S={type:y,...h,...e,data:b},A=ua(v)?{render:v}:v;return s?re.update(s,{...S,...A}):re(A.render,{...S,...A}),b},m=Vn(n)?n():n;return m.then(y=>d("success",u,y)).catch(y=>d("error",o,y)),m},re.success=vh("success"),re.info=vh("info"),re.error=vh("error"),re.warning=vh("warning"),re.warn=re.warning,re.dark=(n,t)=>cu(n,lf("default",{theme:"dark",...t})),re.dismiss=function(n){(function(t){var e;if(X1()){if(t==null||ua(e=t)||Ru(e))pn.forEach(s=>{s.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const s=pn.get(t.containerId);s?s.removeToast(t.id):pn.forEach(a=>{a.removeToast(t.id)})}}else Cu=Cu.filter(s=>t!=null&&s.options.toastId!==t)})(n)},re.clearWaitingQueue=function(n){n===void 0&&(n={}),pn.forEach(t=>{!t.props.limit||n.containerId&&t.id!==n.containerId||t.clearQueue()})},re.isActive=W1,re.update=function(n,t){t===void 0&&(t={});const e=((s,a)=>{var o;let{containerId:u}=a;return(o=pn.get(u||1))==null?void 0:o.toasts.get(s)})(n,t);if(e){const{props:s,content:a}=e,o={delay:100,...s,...t,toastId:t.toastId||n,updateId:J1()};o.toastId!==n&&(o.staleId=n);const u=o.render||a;delete o.render,cu(u,o)}},re.done=n=>{re.update(n,{progress:1})},re.onChange=function(n){return jm.add(n),()=>{jm.delete(n)}},re.play=n=>Nb(!0,n),re.pause=n=>Nb(!1,n);const KM=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,bh=n=>{let{theme:t,type:e,isLoading:s,...a}=n;return Zt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...a})},rm={info:function(n){return Zt.createElement(bh,{...n},Zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Zt.createElement(bh,{...n},Zt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Zt.createElement(bh,{...n},Zt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Zt.createElement(bh,{...n},Zt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Zt.createElement("div",{className:"Toastify__spinner"})}},XM=n=>{const{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:a,playToast:o}=GM(n),{closeButton:u,children:h,autoClose:d,onClick:m,type:y,hideProgressBar:v,closeToast:b,transition:S,position:A,className:M,style:D,bodyClassName:V,bodyStyle:B,progressClassName:U,progressStyle:Q,updateId:W,role:rt,progress:N,rtl:x,toastId:R,deleteToast:O,isIn:L,isLoading:z,closeOnClick:I,theme:Ct}=n,vt=rr("Toastify__toast",`Toastify__toast-theme--${Ct}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":I}),it=Vn(M)?M({rtl:x,position:A,type:y,defaultClassName:vt}):rr(vt,M),ut=function(et){let{theme:ht,type:ot,isLoading:at,icon:yt}=et,_t=null;const ne={theme:ht,type:ot};return yt===!1||(Vn(yt)?_t=yt({...ne,isLoading:at}):Y.isValidElement(yt)?_t=Y.cloneElement(yt,ne):at?_t=rm.spinner():(Pt=>Pt in rm)(ot)&&(_t=rm[ot](ne))),_t}(n),ft=!!N||!d,Et={closeToast:b,type:y,theme:Ct};let P=null;return u===!1||(P=Vn(u)?u(Et):Y.isValidElement(u)?Y.cloneElement(u,Et):function(et){let{closeToast:ht,theme:ot,ariaLabel:at="close"}=et;return Zt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ot}`,type:"button",onClick:yt=>{yt.stopPropagation(),ht(yt)},"aria-label":at},Zt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Zt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Et)),Zt.createElement(S,{isIn:L,done:O,position:A,preventExitTransition:e,nodeRef:s,playToast:o},Zt.createElement("div",{id:R,onClick:m,"data-in":L,className:it,...a,style:D,ref:s},Zt.createElement("div",{...L&&{role:rt},className:Vn(V)?V({type:y}):rr("Toastify__toast-body",V),style:B},ut!=null&&Zt.createElement("div",{className:rr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!z})},ut),Zt.createElement("div",null,h)),P,Zt.createElement(YM,{...W&&!ft?{key:`pb-${W}`}:{},rtl:x,theme:Ct,delay:d,isRunning:t,isIn:L,closeToast:b,hide:v,type:y,style:Q,className:U,controlledProgress:ft,progress:N||0})))},Bf=function(n,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:t}},WM=Uf(Bf("bounce",!0));Uf(Bf("slide",!0));Uf(Bf("zoom"));Uf(Bf("flip"));const ZM={position:"top-right",transition:WM,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function JM(n){let t={...ZM,...n};const e=n.stacked,[s,a]=Y.useState(!0),o=Y.useRef(null),{getToastToRender:u,isToastActive:h,count:d}=qM(t),{className:m,style:y,rtl:v,containerId:b}=t;function S(M){const D=rr("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":v});return Vn(m)?m({position:M,rtl:v,defaultClassName:D}):rr(D,Fh(m))}function A(){e&&(a(!0),re.play())}return KM(()=>{if(e){var M;const D=o.current.querySelectorAll('[data-in="true"]'),V=12,B=(M=t.position)==null?void 0:M.includes("top");let U=0,Q=0;Array.from(D).reverse().forEach((W,rt)=>{const N=W;N.classList.add("Toastify__toast--stacked"),rt>0&&(N.dataset.collapsed=`${s}`),N.dataset.pos||(N.dataset.pos=B?"top":"bot");const x=U*(s?.2:1)+(s?0:V*rt);N.style.setProperty("--y",`${B?x:-1*x}px`),N.style.setProperty("--g",`${V}`),N.style.setProperty("--s",""+(1-(s?Q:0))),U+=N.offsetHeight,Q+=.025})}},[s,d,e]),Zt.createElement("div",{ref:o,className:"Toastify",id:b,onMouseEnter:()=>{e&&(a(!1),re.pause())},onMouseLeave:A},u((M,D)=>{const V=D.length?{...y}:{...y,pointerEvents:"none"};return Zt.createElement("div",{className:S(M),style:V,key:`container-${M}`},D.map(B=>{let{content:U,props:Q}=B;return Zt.createElement(XM,{...Q,stacked:e,collapseAll:A,isIn:h(Q.toastId,Q.containerId),style:Q.style,key:`toast-${Q.key}`},U)}))}))}const tO=()=>{const[n,t]=Y.useState(""),e=bf(),s=()=>{if(n.trim()===""){re.error("❌ Enter a valid Room Code.");return}localStorage.removeItem("roomCreator"),e(`/room/${n}`)};return ct.jsxs("div",{className:"c flex-col gap-y-10 w-1/2 bg-white/10 backdrop-blur-lg !p-6 rounded-2xl",children:[ct.jsx("h2",{className:"mb-4 text-2xl font-semibold",children:"Join a Room"}),ct.jsxs("div",{className:"c w-full max-w-md flex-col gap-y-10",children:[ct.jsx("input",{type:"text",className:"w-full rounded-md border border-white bg-black p-2 text-center outline-none focus:ring-2 focus:ring-white",value:n,onChange:a=>t(a.target.value),placeholder:"Enter Room Code"}),ct.jsx("button",{onClick:s,children:"Join Room"})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qu(n){return n+.5|0}const ar=(n,t,e)=>Math.max(Math.min(n,e),t);function tu(n){return ar(qu(n*2.55),0,255)}function hr(n){return ar(qu(n*255),0,255)}function fs(n){return ar(qu(n/2.55)/100,0,1)}function kb(n){return ar(qu(n*100),0,100)}const Zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fm=[..."0123456789ABCDEF"],eO=n=>Fm[n&15],nO=n=>Fm[(n&240)>>4]+Fm[n&15],Eh=n=>(n&240)>>4===(n&15),iO=n=>Eh(n.r)&&Eh(n.g)&&Eh(n.b)&&Eh(n.a);function sO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Zn[n[1]]*17,g:255&Zn[n[2]]*17,b:255&Zn[n[3]]*17,a:t===5?Zn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Zn[n[1]]<<4|Zn[n[2]],g:Zn[n[3]]<<4|Zn[n[4]],b:Zn[n[5]]<<4|Zn[n[6]],a:t===9?Zn[n[7]]<<4|Zn[n[8]]:255})),e}const rO=(n,t)=>n<255?t(n):"";function aO(n){var t=iO(n)?eO:nO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+rO(n.a,t):void 0}const oO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function tS(n,t,e){const s=t*Math.min(e,1-e),a=(o,u=(o+n/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[a(0),a(8),a(4)]}function lO(n,t,e){const s=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function uO(n,t,e){const s=tS(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)s[a]*=1-t-e,s[a]+=t;return s}function cO(n,t,e,s,a){return n===a?(t-e)/s+(t<e?6:0):t===a?(e-n)/s+2:(n-t)/s+4}function Hp(n){const e=n.r/255,s=n.g/255,a=n.b/255,o=Math.max(e,s,a),u=Math.min(e,s,a),h=(o+u)/2;let d,m,y;return o!==u&&(y=o-u,m=h>.5?y/(2-o-u):y/(o+u),d=cO(e,s,a,y,o),d=d*60+.5),[d|0,m||0,h]}function jp(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(hr)}function Fp(n,t,e){return jp(tS,n,t,e)}function hO(n,t,e){return jp(uO,n,t,e)}function fO(n,t,e){return jp(lO,n,t,e)}function eS(n){return(n%360+360)%360}function dO(n){const t=oO.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?tu(+t[5]):hr(+t[5]));const a=eS(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=hO(a,o,u):t[1]==="hsv"?s=fO(a,o,u):s=Fp(a,o,u),{r:s[0],g:s[1],b:s[2],a:e}}function gO(n,t){var e=Hp(n);e[0]=eS(e[0]+t),e=Fp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function mO(n){if(!n)return;const t=Hp(n),e=t[0],s=kb(t[1]),a=kb(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${a}%, ${fs(n.a)})`:`hsl(${e}, ${s}%, ${a}%)`}const Lb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pO(){const n={},t=Object.keys(Pb),e=Object.keys(Lb);let s,a,o,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],a=0;a<e.length;a++)o=e[a],h=h.replace(o,Lb[o]);o=parseInt(Pb[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Th;function yO(n){Th||(Th=pO(),Th.transparent=[0,0,0,0]);const t=Th[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const _O=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function vO(n){const t=_O.exec(n);let e=255,s,a,o;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?tu(u):ar(u*255,0,255)}return s=+t[1],a=+t[3],o=+t[5],s=255&(t[2]?tu(s):ar(s,0,255)),a=255&(t[4]?tu(a):ar(a,0,255)),o=255&(t[6]?tu(o):ar(o,0,255)),{r:s,g:a,b:o,a:e}}}function bO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const am=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,oo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function EO(n,t,e){const s=oo(fs(n.r)),a=oo(fs(n.g)),o=oo(fs(n.b));return{r:hr(am(s+e*(oo(fs(t.r))-s))),g:hr(am(a+e*(oo(fs(t.g))-a))),b:hr(am(o+e*(oo(fs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Sh(n,t,e){if(n){let s=Hp(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=Fp(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function nS(n,t){return n&&Object.assign(t||{},n)}function zb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=hr(n[3]))):(t=nS(n,{r:0,g:0,b:0,a:1}),t.a=hr(t.a)),t}function TO(n){return n.charAt(0)==="r"?vO(n):dO(n)}class Du{constructor(t){if(t instanceof Du)return t;const e=typeof t;let s;e==="object"?s=zb(t):e==="string"&&(s=sO(t)||yO(t)||TO(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=nS(this._rgb);return t&&(t.a=fs(t.a)),t}set rgb(t){this._rgb=zb(t)}rgbString(){return this._valid?bO(this._rgb):void 0}hexString(){return this._valid?aO(this._rgb):void 0}hslString(){return this._valid?mO(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,a=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,d=s.a-a.a,m=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=u*s.a+(1-u)*a.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=EO(this._rgb,t._rgb,e)),this}clone(){return new Du(this.rgb)}alpha(t){return this._rgb.a=hr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=qu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Sh(this._rgb,2,t),this}darken(t){return Sh(this._rgb,2,-t),this}saturate(t){return Sh(this._rgb,1,t),this}desaturate(t){return Sh(this._rgb,1,-t),this}rotate(t){return gO(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function us(){}const SO=(()=>{let n=0;return()=>n++})();function Je(n){return n==null}function Ye(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function vs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function wi(n,t){return vs(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const AO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,iS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Wt(n,t,e,s){let a,o,u;if(Ye(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Yt(n))for(u=Object.keys(n),o=u.length,a=0;a<o;a++)t.call(e,n[u[a]],u[a])}function uf(n,t){let e,s,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function cf(n){if(Ye(n))return n.map(cf);if(Yt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let a=0;for(;a<s;++a)t[e[a]]=cf(n[e[a]]);return t}return n}function sS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function wO(n,t,e,s){if(!sS(n))return;const a=t[n],o=e[n];Yt(a)&&Yt(o)?Mu(a,o,s):t[n]=cf(o)}function Mu(n,t,e){const s=Ye(t)?t:[t],a=s.length;if(!Yt(n))return n;e=e||{};const o=e.merger||wO;let u;for(let h=0;h<a;++h){if(u=s[h],!Yt(u))continue;const d=Object.keys(u);for(let m=0,y=d.length;m<y;++m)o(d[m],n,u,e)}return n}function hu(n,t){return Mu(n,t,{merger:xO})}function xO(n,t,e){if(!sS(n))return;const s=t[n],a=e[n];Yt(s)&&Yt(a)?hu(s,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=cf(a))}const Ub={"":n=>n,x:n=>n.x,y:n=>n.y};function RO(n){const t=n.split("."),e=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function CO(n){const t=RO(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function Ou(n,t){return(Ub[t]||(Ub[t]=CO(t)))(n)}function qp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const hf=n=>typeof n<"u",_r=n=>typeof n=="function",Bb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function DO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ce=Math.PI,Re=2*Ce,ff=Number.POSITIVE_INFINITY,MO=Ce/180,ke=Ce/2,ta=Ce/4,Hb=Ce*2/3,jb=Math.sign;function OO(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function IO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function df(n){return!IO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function oa(n){return n*(Ce/180)}function VO(n){return n*(180/Ce)}function rS(n,t){const e=t.x-n.x,s=t.y-n.y,a=Math.sqrt(e*e+s*s);let o=Math.atan2(s,e);return o<-.5*Ce&&(o+=Re),{angle:o,distance:a}}function NO(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ea(n){return(n%Re+Re)%Re}function gf(n,t,e,s){const a=ea(n),o=ea(t),u=ea(e),h=ea(o-a),d=ea(u-a),m=ea(a-o),y=ea(a-u);return a===o||a===u||s&&o===u||h>d&&m<y}function Nn(n,t,e){return Math.max(t,Math.min(e,n))}function kO(n){return Nn(n,-32768,32767)}function eu(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function Gp(n,t,e){e=e||(u=>n[u]<t);let s=n.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,e(o)?a=o:s=o;return{lo:a,hi:s}}const qm=(n,t,e,s)=>Gp(n,e,s?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),LO=(n,t,e)=>Gp(n,e,s=>n[s][t]>=e);function PO(n,t,e){let s=0,a=n.length;for(;s<a&&n[s]<t;)s++;for(;a>s&&n[a-1]>e;)a--;return s>0||a<n.length?n.slice(s,a):n}const aS=["push","pop","shift","splice","unshift"];function zO(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aS.forEach(e=>{const s="_onData"+qp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),u}})})}function Fb(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,a=s.indexOf(t);a!==-1&&s.splice(a,1),!(s.length>0)&&(aS.forEach(o=>{delete n[o]}),delete n._chartjs)}function UO(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const oS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function lS(n,t){let e=[],s=!1;return function(...a){e=a,s||(s=!0,oS.call(window,()=>{s=!1,n.apply(t,e)}))}}function BO(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const Yp=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,HO=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t,Ah=n=>n===0||n===1,qb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Re/e)),Gb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Re/e)+1,fu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ke)+1,easeOutSine:n=>Math.sin(n*ke),easeInOutSine:n=>-.5*(Math.cos(Ce*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ah(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ah(n)?n:qb(n,.075,.3),easeOutElastic:n=>Ah(n)?n:Gb(n,.075,.3),easeInOutElastic(n){return Ah(n)?n:n<.5?.5*qb(n*2,.1125,.45):.5+.5*Gb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-fu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?fu.easeInBounce(n*2)*.5:fu.easeOutBounce(n*2-1)*.5+.5};function uS(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Yb(n){return uS(n)?n:new Du(n)}function om(n){return uS(n)?n:new Du(n).saturate(.5).darken(.1).hexString()}const jO=["x","y","borderWidth","radius","tension"],FO=["color","borderColor","backgroundColor"];function qO(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:FO},numbers:{type:"number",properties:jO}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function GO(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $b=new Map;function YO(n,t){t=t||{};const e=n+JSON.stringify(t);let s=$b.get(e);return s||(s=new Intl.NumberFormat(n,t),$b.set(e,s)),s}function $O(n,t,e){return YO(t,e).format(n)}const QO={values(n){return Ye(n)?n:""+n}};var KO={formatters:QO};function XO(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:KO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const da=Object.create(null),Gm=Object.create(null);function du(n,t){if(!t)return n;const e=t.split(".");for(let s=0,a=e.length;s<a;++s){const o=e[s];n=n[o]||(n[o]=Object.create(null))}return n}function lm(n,t,e){return typeof t=="string"?Mu(du(n,t),e):Mu(du(n,""),t)}class WO{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>om(a.backgroundColor),this.hoverBorderColor=(s,a)=>om(a.borderColor),this.hoverColor=(s,a)=>om(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return lm(this,t,e)}get(t){return du(this,t)}describe(t,e){return lm(Gm,t,e)}override(t,e){return lm(da,t,e)}route(t,e,s,a){const o=du(this,t),u=du(this,s),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],m=u[a];return Yt(d)?Object.assign({},m,d):Qt(d,m)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ee=new WO({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[qO,GO,XO]);function ZO(n){return!n||Je(n.size)||Je(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Qb(n,t,e,s,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>s&&(s=o),s}function na(n,t,e){const s=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*s)/s+a}function Kb(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Xb(n,t,e,s){cS(n,t,e,s,null)}function cS(n,t,e,s,a){let o,u,h,d,m,y,v,b;const S=t.pointStyle,A=t.rotation,M=t.radius;let D=(A||0)*MO;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(D),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),S){default:a?n.ellipse(e,s,a/2,M,0,0,Re):n.arc(e,s,M,0,Re),n.closePath();break;case"triangle":y=a?a/2:M,n.moveTo(e+Math.sin(D)*y,s-Math.cos(D)*M),D+=Hb,n.lineTo(e+Math.sin(D)*y,s-Math.cos(D)*M),D+=Hb,n.lineTo(e+Math.sin(D)*y,s-Math.cos(D)*M),n.closePath();break;case"rectRounded":m=M*.516,d=M-m,u=Math.cos(D+ta)*d,v=Math.cos(D+ta)*(a?a/2-m:d),h=Math.sin(D+ta)*d,b=Math.sin(D+ta)*(a?a/2-m:d),n.arc(e-v,s-h,m,D-Ce,D-ke),n.arc(e+b,s-u,m,D-ke,D),n.arc(e+v,s+h,m,D,D+ke),n.arc(e-b,s+u,m,D+ke,D+Ce),n.closePath();break;case"rect":if(!A){d=Math.SQRT1_2*M,y=a?a/2:d,n.rect(e-y,s-d,2*y,2*d);break}D+=ta;case"rectRot":v=Math.cos(D)*(a?a/2:M),u=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(a?a/2:M),n.moveTo(e-v,s-h),n.lineTo(e+b,s-u),n.lineTo(e+v,s+h),n.lineTo(e-b,s+u),n.closePath();break;case"crossRot":D+=ta;case"cross":v=Math.cos(D)*(a?a/2:M),u=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(a?a/2:M),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"star":v=Math.cos(D)*(a?a/2:M),u=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(a?a/2:M),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u),D+=ta,v=Math.cos(D)*(a?a/2:M),u=Math.cos(D)*M,h=Math.sin(D)*M,b=Math.sin(D)*(a?a/2:M),n.moveTo(e-v,s-h),n.lineTo(e+v,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"line":u=a?a/2:Math.cos(D)*M,h=Math.sin(D)*M,n.moveTo(e-u,s-h),n.lineTo(e+u,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(D)*(a?a/2:M),s+Math.sin(D)*M);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function hS(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function $p(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Qp(n){n.restore()}function JO(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Je(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function tI(n,t,e,s,a){if(a.strikethrough||a.underline){const o=n.measureText(s),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=a.strikethrough?(d+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function eI(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Iu(n,t,e,s,a,o={}){const u=Ye(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let d,m;for(n.save(),n.font=a.string,JO(n,o),d=0;d<u.length;++d)m=u[d],o.backdrop&&eI(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Je(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,s,o.maxWidth)),n.fillText(m,e,s,o.maxWidth),tI(n,e,s,m,o),s+=Number(a.lineHeight);n.restore()}function Ym(n,t){const{x:e,y:s,w:a,h:o,radius:u}=t;n.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*Ce,Ce,!0),n.lineTo(e,s+o-u.bottomLeft),n.arc(e+u.bottomLeft,s+o-u.bottomLeft,u.bottomLeft,Ce,ke,!0),n.lineTo(e+a-u.bottomRight,s+o),n.arc(e+a-u.bottomRight,s+o-u.bottomRight,u.bottomRight,ke,0,!0),n.lineTo(e+a,s+u.topRight),n.arc(e+a-u.topRight,s+u.topRight,u.topRight,0,-ke,!0),n.lineTo(e+u.topLeft,s)}const nI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,iI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function sI(n,t){const e=(""+n).match(nI);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const rI=n=>+n||0;function Kp(n,t){const e={},s=Yt(t),a=s?Object.keys(t):t,o=Yt(n)?s?u=>Qt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of a)e[u]=rI(o(u));return e}function aI(n){return Kp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function gu(n){return Kp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ti(n){const t=aI(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Ee.font;let e=Qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Qt(n.style,t.style);s&&!(""+s).match(iI)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Qt(n.family,t.family),lineHeight:sI(Qt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Qt(n.weight,t.weight),string:""};return a.string=ZO(a),a}function wh(n,t,e,s){let a,o,u;for(a=0,o=n.length;a<o;++a)if(u=n[a],u!==void 0&&u!==void 0)return u}function oI(n,t,e){const{min:s,max:a}=n,o=iS(t,(a-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(o)),max:u(a,o)}}function No(n,t){return Object.assign(Object.create(n),t)}function Xp(n,t=[""],e,s,a=()=>n[0]){const o=e||n;typeof s>"u"&&(s=mS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:s,_getTarget:a,override:h=>Xp([h,...n],t,o,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return dS(h,d,()=>mI(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return Zb(h).includes(d)},ownKeys(h){return Zb(h)},set(h,d,m){const y=h._storage||(h._storage=a());return h[d]=y[d]=m,delete h._keys,!0}})}function wo(n,t,e,s){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:fS(n,s),setContext:o=>wo(n,o,e,s),override:o=>wo(n.override(o),t,e,s)};return new Proxy(a,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return dS(o,u,()=>uI(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function fS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:s,isScriptable:_r(e)?e:()=>e,isIndexable:_r(s)?s:()=>s}}const lI=(n,t)=>n?n+qp(t):t,Wp=(n,t)=>Yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function dS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function uI(n,t,e){const{_proxy:s,_context:a,_subProxy:o,_descriptors:u}=n;let h=s[t];return _r(h)&&u.isScriptable(t)&&(h=cI(t,h,n,e)),Ye(h)&&h.length&&(h=hI(t,h,n,u.isIndexable)),Wp(t,h)&&(h=wo(h,a,o&&o[t],u)),h}function cI(n,t,e,s){const{_proxy:a,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(o,u||s);return h.delete(n),Wp(n,d)&&(d=Zp(a._scopes,a,n,d)),d}function hI(n,t,e,s){const{_proxy:a,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&s(n))return t[o.index%t.length];if(Yt(t[0])){const d=t,m=a._scopes.filter(y=>y!==d);t=[];for(const y of d){const v=Zp(m,a,n,y);t.push(wo(v,o,u&&u[n],h))}}return t}function gS(n,t,e){return _r(n)?n(t,e):n}const fI=(n,t)=>n===!0?t:typeof n=="string"?Ou(t,n):void 0;function dI(n,t,e,s,a){for(const o of t){const u=fI(e,o);if(u){n.add(u);const h=gS(u._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function Zp(n,t,e,s){const a=t._rootScopes,o=gS(t._fallback,e,s),u=[...n,...a],h=new Set;h.add(s);let d=Wb(h,u,e,o||e,s);return d===null||typeof o<"u"&&o!==e&&(d=Wb(h,u,o,d,s),d===null)?!1:Xp(Array.from(h),[""],a,o,()=>gI(t,e,s))}function Wb(n,t,e,s,a){for(;e;)e=dI(n,t,e,s,a);return e}function gI(n,t,e){const s=n._getTarget();t in s||(s[t]={});const a=s[t];return Ye(a)&&Yt(e)?e:a||{}}function mI(n,t,e,s){let a;for(const o of t)if(a=mS(lI(o,n),e),typeof a<"u")return Wp(n,a)?Zp(e,s,n,a):a}function mS(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function Zb(n){let t=n._keys;return t||(t=n._keys=pI(n._scopes)),t}function pI(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(s);return Array.from(t)}function Jp(){return typeof window<"u"&&typeof document<"u"}function ty(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mf(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Hf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function yI(n,t){return Hf(n).getPropertyValue(t)}const _I=["top","right","bottom","left"];function ca(n,t,e){const s={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=_I[a];s[o]=parseFloat(n[t+"-"+o+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const vI=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function bI(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=s;let u=!1,h,d;if(vI(a,o,n.target))h=a,d=o;else{const m=t.getBoundingClientRect();h=s.clientX-m.left,d=s.clientY-m.top,u=!0}return{x:h,y:d,box:u}}function ra(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,a=Hf(e),o=a.boxSizing==="border-box",u=ca(a,"padding"),h=ca(a,"border","width"),{x:d,y:m,box:y}=bI(n,e),v=u.left+(y&&h.left),b=u.top+(y&&h.top);let{width:S,height:A}=t;return o&&(S-=u.width+h.width,A-=u.height+h.height),{x:Math.round((d-v)/S*e.width/s),y:Math.round((m-b)/A*e.height/s)}}function EI(n,t,e){let s,a;if(t===void 0||e===void 0){const o=n&&ty(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=Hf(o),d=ca(h,"border","width"),m=ca(h,"padding");t=u.width-m.width-d.width,e=u.height-m.height-d.height,s=mf(h.maxWidth,o,"clientWidth"),a=mf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:s||ff,maxHeight:a||ff}}const xh=n=>Math.round(n*10)/10;function TI(n,t,e,s){const a=Hf(n),o=ca(a,"margin"),u=mf(a.maxWidth,n,"clientWidth")||ff,h=mf(a.maxHeight,n,"clientHeight")||ff,d=EI(n,t,e);let{width:m,height:y}=d;if(a.boxSizing==="content-box"){const b=ca(a,"border","width"),S=ca(a,"padding");m-=S.width+b.width,y-=S.height+b.height}return m=Math.max(0,m-o.width),y=Math.max(0,s?m/s:y-o.height),m=xh(Math.min(m,u,d.maxWidth)),y=xh(Math.min(y,h,d.maxHeight)),m&&!y&&(y=xh(m/2)),(t!==void 0||e!==void 0)&&s&&d.height&&y>d.height&&(y=d.height,m=xh(Math.floor(y*s))),{width:m,height:y}}function Jb(n,t,e){const s=t||1,a=Math.floor(n.height*s),o=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||u.height!==a||u.width!==o?(n.currentDevicePixelRatio=s,u.height=a,u.width=o,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const SI=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Jp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function tE(n,t){const e=yI(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const AI=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},wI=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function po(n,t,e){return n?AI(t,e):wI()}function pS(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function yS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,a){const o=e.listeners[a],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=oS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let u=o.length-1,h=!1,d;for(;u>=0;--u)d=o[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,s,t,"progress")),o.length||(s.running=!1,this._notify(a,s,t,"complete"),s.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var cs=new xI;const eE="transparent",RI={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Yb(n||eE),a=s.valid&&Yb(t||eE);return a&&a.valid?a.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class CI{constructor(t,e,s,a){const o=e[s];a=wh([t.to,a,o,t.from]);const u=wh([t.from,o,a]);this._active=!0,this._fn=t.fn||RI[t.type||typeof u],this._easing=fu[t.easing]||fu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,u=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=wh([t.to,e,a,t.from]),this._from=wh([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,a=this._prop,o=this._from,u=this._loop,h=this._to;let d;if(this._active=o!==h&&(u||e<s),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][e]()}}class _S{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Yt(t))return;const e=Object.keys(Ee.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Yt(o))return;const u={};for(const h of e)u[h]=o[h];(Ye(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,a=MI(t,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&DI(t.options.$animations,s).then(()=>{t.options=s},()=>{}),o}_createAnimations(t,e){const s=this._properties,a=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const m=u[d];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let v=o[m];const b=s.get(m);if(v)if(b&&v.active()){v.update(b,y,h);continue}else v.cancel();if(!b||!b.duration){t[m]=y;continue}o[m]=v=new CI(b,t,m,y),a.push(v)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return cs.add(this._chart,s),!0}}function DI(n,t){const e=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const o=n[s[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function MI(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function nE(n,t){const e=n&&n.options||{},s=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:s?o:a,end:s?a:o}}function OI(n,t,e){if(e===!1)return!1;const s=nE(n,e),a=nE(t,e);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function II(n){let t,e,s,a;return Yt(n)?(t=n.top,e=n.right,s=n.bottom,a=n.left):t=e=s=a=n,{top:t,right:e,bottom:s,left:a,disabled:n===!1}}function vS(n,t){const e=[],s=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=s.length;a<o;++a)e.push(s[a].index);return e}function iE(n,t,e,s={}){const a=n.keys,o=s.mode==="single";let u,h,d,m;if(t===null)return;let y=!1;for(u=0,h=a.length;u<h;++u){if(d=+a[u],d===e){if(y=!0,s.all)continue;break}m=n.values[d],vs(m)&&(o||t===0||jb(t)===jb(m))&&(t+=m)}return!y&&!s.all?0:t}function VI(n,t){const{iScale:e,vScale:s}=t,a=e.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,m,y;for(d=0,m=u.length;d<m;++d)y=u[d],h[d]={[a]:y,[o]:n[y]};return h}function um(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function NI(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function kI(n){const{min:t,max:e,minDefined:s,maxDefined:a}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function LI(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function sE(n,t,e,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function rE(n,t){const{chart:e,_cachedMeta:s}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=s,d=o.axis,m=u.axis,y=NI(o,u,s),v=t.length;let b;for(let S=0;S<v;++S){const A=t[S],{[d]:M,[m]:D}=A,V=A._stacks||(A._stacks={});b=V[m]=LI(a,y,M),b[h]=D,b._top=sE(b,u,!0,s.type),b._bottom=sE(b,u,!1,s.type);const B=b._visualValues||(b._visualValues={});B[h]=D}}function cm(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function PI(n,t){return No(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function zI(n,t,e){return No(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ql(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[s]===void 0||o[s][e]===void 0)return;delete o[s][e],o[s]._visualValues!==void 0&&o[s]._visualValues[e]!==void 0&&delete o[s]._visualValues[e]}}}const hm=n=>n==="reset"||n==="none",aE=(n,t)=>t?n:Object.assign({},n),UI=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:vS(e,!0),values:null};class mu{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=um(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ql(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),a=(v,b,S,A)=>v==="x"?b:v==="r"?A:S,o=e.xAxisID=Qt(s.xAxisID,cm(t,"x")),u=e.yAxisID=Qt(s.yAxisID,cm(t,"y")),h=e.rAxisID=Qt(s.rAxisID,cm(t,"r")),d=e.indexAxis,m=e.iAxisID=a(d,o,u,h),y=e.vAxisID=a(d,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Fb(this._data,this),t._stacked&&ql(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Yt(e)){const a=this._cachedMeta;this._data=VI(e,a)}else if(s!==e){if(s){Fb(s,this);const a=this._cachedMeta;ql(a),a._parsed=[]}e&&Object.isExtensible(e)&&zO(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=um(e.vScale,e),e.stack!==s.stack&&(a=!0,ql(e),e.stack=s.stack),this._resyncElements(t),(a||o!==e._stacked)&&(rE(this,e._parsed),e._stacked=um(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:u}=s,h=o.axis;let d=t===0&&e===a.length?!0:s._sorted,m=t>0&&s._parsed[t-1],y,v,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{Ye(a[t])?b=this.parseArrayData(s,a,t,e):Yt(a[t])?b=this.parseObjectData(s,a,t,e):b=this.parsePrimitiveData(s,a,t,e);const S=()=>v[h]===null||m&&v[h]<m[h];for(y=0;y<e;++y)s._parsed[y+t]=v=b[y],d&&(S()&&(d=!1),m=v);s._sorted=d}u&&rE(this,b)}parsePrimitiveData(t,e,s,a){const{iScale:o,vScale:u}=t,h=o.axis,d=u.axis,m=o.getLabels(),y=o===u,v=new Array(a);let b,S,A;for(b=0,S=a;b<S;++b)A=b+s,v[b]={[h]:y||o.parse(m[A],A),[d]:u.parse(e[A],A)};return v}parseArrayData(t,e,s,a){const{xScale:o,yScale:u}=t,h=new Array(a);let d,m,y,v;for(d=0,m=a;d<m;++d)y=d+s,v=e[y],h[d]={x:o.parse(v[0],y),y:u.parse(v[1],y)};return h}parseObjectData(t,e,s,a){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,m=new Array(a);let y,v,b,S;for(y=0,v=a;y<v;++y)b=y+s,S=e[b],m[y]={x:o.parse(Ou(S,h),b),y:u.parse(Ou(S,d),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const a=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:vS(a,!0),values:e._stacks[t.axis]._visualValues};return iE(h,u,o.index,{mode:s})}updateRangeFromParsed(t,e,s,a){const o=s[e.axis];let u=o===null?NaN:o;const h=a&&s._stacks[e.axis];a&&h&&(a.values=h,u=iE(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&t===s.iScale,u=a.length,h=this._getOtherScale(t),d=UI(e,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=kI(h);let b,S;function A(){S=a[b];const M=S[h.axis];return!vs(S[t.axis])||y>M||v<M}for(b=0;b<u&&!(!A()&&(this.updateRangeFromParsed(m,t,S,d),o));++b);if(o){for(b=u-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(m,t,S,d);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let a,o,u;for(a=0,o=e.length;a<o;++a)u=e[a][t.axis],vs(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=II(Qt(this.options.clip,OI(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,a=s.data||[],o=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(s.dataset&&s.dataset.draw(t,o,h,d),y=h;y<h+d;++y){const v=a[y];v.hidden||(v.active&&m?u.push(v):v.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=zI(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=PI(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=s,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const a=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],d=this.enableOptionSharing&&hf(s);if(h)return aE(h,d);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),v=a?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),y),S=Object.keys(Ee.elements[t]),A=()=>this.getContext(s,a,e),M=m.resolveNamedOptions(b,S,A,v);return M.$shared&&(M.$shared=d,o[u]=Object.freeze(aE(M,d))),M}_resolveAnimations(t,e,s){const a=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),v);d=y.createResolver(b,this.getContext(t,s,e))}const m=new _S(a,d&&d.animations);return d&&d._cacheable&&(o[u]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||hm(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(s),u=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,s),{sharedOptions:o,includeOptions:u}}updateElement(t,e,s,a){hm(a)?Object.assign(t,s):this._resolveAnimations(e,a).update(t,s)}updateSharedOptions(t,e,s){t&&!hm(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,s,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,m]of this._syncList)this[h](d,m);this._syncList=[];const a=s.length,o=e.length,u=Math.min(o,a);u&&this.parse(0,u),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,s=!0){const a=this._cachedMeta,o=a.data,u=t+e;let h;const d=m=>{for(m.length+=e,h=m.length-1;h>=u;h--)m[h]=m[h-e]};for(d(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(t,e),s&&this.updateElements(o,t,e,"reset")}updateElements(t,e,s,a){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(t,e);s._stacked&&ql(s,a)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,a]=t;this[e](s,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Dt(mu,"defaults",{}),Dt(mu,"datasetElementType",null),Dt(mu,"dataElementType",null);function BI(n,t,e){let s=1,a=1,o=0,u=0;if(t<Re){const h=n,d=h+t,m=Math.cos(h),y=Math.sin(h),v=Math.cos(d),b=Math.sin(d),S=(U,Q,W)=>gf(U,h,d,!0)?1:Math.max(Q,Q*e,W,W*e),A=(U,Q,W)=>gf(U,h,d,!0)?-1:Math.min(Q,Q*e,W,W*e),M=S(0,m,v),D=S(ke,y,b),V=A(Ce,m,v),B=A(Ce+ke,y,b);s=(M-V)/2,a=(D-B)/2,o=-(M+V)/2,u=-(D+B)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:u}}class nu extends mu{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=d=>+s[d];if(Yt(s[t])){const{key:d="value"}=this._parsing;o=m=>+Ou(s[m],d)}let u,h;for(u=t,h=t+e;u<h;++u)a._parsed[u]=o(u)}}_getRotation(){return oa(this.options.rotation-90)}_getCircumference(){return oa(this.options.circumference)}_getRotationExtents(){let t=Re,e=-Re;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),u=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,a=this._cachedMeta,o=a.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),d=Math.min(AO(this.options.cutout,h),1),m=this._getRingWeight(this.index),{circumference:y,rotation:v}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:A,offsetY:M}=BI(v,y,d),D=(s.width-u)/b,V=(s.height-u)/S,B=Math.max(Math.min(D,V)/2,0),U=iS(this.options.radius,B),Q=Math.max(U*d,0),W=(U-Q)/this._getVisibleDatasetWeightTotal();this.offsetX=A*U,this.offsetY=M*U,a.total=this.calculateTotal(),this.outerRadius=U-W*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-W*m,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/Re)}updateElements(t,e,s,a){const o=a==="reset",u=this.chart,h=u.chartArea,m=u.options.animation,y=(h.left+h.right)/2,v=(h.top+h.bottom)/2,b=o&&m.animateScale,S=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:M,includeOptions:D}=this._getSharedOptions(e,a);let V=this._getRotation(),B;for(B=0;B<e;++B)V+=this._circumference(B,o);for(B=e;B<e+s;++B){const U=this._circumference(B,o),Q=t[B],W={x:y+this.offsetX,y:v+this.offsetY,startAngle:V,endAngle:V+U,circumference:U,outerRadius:A,innerRadius:S};D&&(W.options=M||this.resolveDataElementOptions(B,Q.active?"active":a)),V+=U,this.updateElement(Q,B,W,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=$O(e._parsed[t],s.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const s=this.chart;let a,o,u,h,d;if(!t){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){u=s.getDatasetMeta(a),t=u.data,h=u.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)d=h.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,a=t.length;s<a;++s){const o=this.resolveDataElementOptions(s);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Qt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Dt(nu,"id","doughnut"),Dt(nu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Dt(nu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Dt(nu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:a}}=t.legend.options;return e.labels.map((o,u)=>{const d=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class $m extends nu{}Dt($m,"id","pie"),Dt($m,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ia(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ey{constructor(t){Dt(this,"options");this.options=t||{}}static override(t){Object.assign(ey.prototype,t)}init(){}formats(){return ia()}parse(){return ia()}format(){return ia()}add(){return ia()}diff(){return ia()}startOf(){return ia()}endOf(){return ia()}}var HI={_date:ey};function jI(n,t,e,s){const{controller:a,data:o,_sorted:u}=n,h=a._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const m=h._reversePixels?LO:qm;if(s){if(a._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const b=m(o,t,e-v),S=m(o,t,e+v);return{lo:b.lo,hi:S.hi}}}}else{const y=m(o,t,e);if(d){const{vScale:v}=a._cachedMeta,{_parsed:b}=n,S=b.slice(0,y.lo+1).reverse().findIndex(M=>!Je(M[v.axis]));y.lo-=Math.max(0,S);const A=b.slice(y.hi).findIndex(M=>!Je(M[v.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function jf(n,t,e,s,a){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=o.length;h<d;++h){const{index:m,data:y}=o[h],{lo:v,hi:b}=jI(o[h],t,u,a);for(let S=v;S<=b;++S){const A=y[S];A.skip||s(A,m,S)}}}function FI(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,a){const o=t?Math.abs(s.x-a.x):0,u=e?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function fm(n,t,e,s,a){const o=[];return!a&&!n.isPointInArea(t)||jf(n,e,t,function(h,d,m){!a&&!hS(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&o.push({element:h,datasetIndex:d,index:m})},!0),o}function qI(n,t,e,s){let a=[];function o(u,h,d){const{startAngle:m,endAngle:y}=u.getProps(["startAngle","endAngle"],s),{angle:v}=rS(u,{x:t.x,y:t.y});gf(v,m,y)&&a.push({element:u,datasetIndex:h,index:d})}return jf(n,e,t,o),a}function GI(n,t,e,s,a,o){let u=[];const h=FI(e);let d=Number.POSITIVE_INFINITY;function m(y,v,b){const S=y.inRange(t.x,t.y,a);if(s&&!S)return;const A=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(A))&&!S)return;const D=h(t,A);D<d?(u=[{element:y,datasetIndex:v,index:b}],d=D):D===d&&u.push({element:y,datasetIndex:v,index:b})}return jf(n,e,t,m),u}function dm(n,t,e,s,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!s?qI(n,t,e,a):GI(n,t,e,s,a,o)}function oE(n,t,e,s,a){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return jf(n,e,t,(d,m,y)=>{d[u]&&d[u](t[e],a)&&(o.push({element:d,datasetIndex:m,index:y}),h=h||d.inRange(t.x,t.y,a))}),s&&!h?[]:o}var YI={modes:{index(n,t,e,s){const a=ra(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?fm(n,a,o,s,u):dm(n,a,o,!1,s,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,v=m.data[y];v&&!v.skip&&d.push({element:v,datasetIndex:m.index,index:y})}),d):[]},dataset(n,t,e,s){const a=ra(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?fm(n,a,o,s,u):dm(n,a,o,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,m=n.getDatasetMeta(d).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:d,index:y})}return h},point(n,t,e,s){const a=ra(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return fm(n,a,o,s,u)},nearest(n,t,e,s){const a=ra(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return dm(n,a,o,e.intersect,s,u)},x(n,t,e,s){const a=ra(t,n);return oE(n,a,"x",e.intersect,s)},y(n,t,e,s){const a=ra(t,n);return oE(n,a,"y",e.intersect,s)}}};const bS=["left","top","right","bottom"];function Gl(n,t){return n.filter(e=>e.pos===t)}function lE(n,t){return n.filter(e=>bS.indexOf(e.pos)===-1&&e.box.axis===t)}function Yl(n,t){return n.sort((e,s)=>{const a=t?s:e,o=t?e:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function $I(n){const t=[];let e,s,a,o,u,h;for(e=0,s=(n||[]).length;e<s;++e)a=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:u&&o+u,stackWeight:h});return t}function QI(n){const t={};for(const e of n){const{stack:s,pos:a,stackWeight:o}=e;if(!s||!bS.includes(a))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function KI(n,t){const e=QI(n),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:d}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*s:d&&t.availableWidth,h.height=a):(h.width=s,h.height=y?y*a:d&&t.availableHeight)}return e}function XI(n){const t=$I(n),e=Yl(t.filter(m=>m.box.fullSize),!0),s=Yl(Gl(t,"left"),!0),a=Yl(Gl(t,"right")),o=Yl(Gl(t,"top"),!0),u=Yl(Gl(t,"bottom")),h=lE(t,"x"),d=lE(t,"y");return{fullSize:e,leftAndTop:s.concat(o),rightAndBottom:a.concat(d).concat(u).concat(h),chartArea:Gl(t,"chartArea"),vertical:s.concat(a).concat(d),horizontal:o.concat(u).concat(h)}}function uE(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function ES(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function WI(n,t,e,s){const{pos:a,box:o}=e,u=n.maxPadding;if(!Yt(a)){e.size&&(n[a]-=e.size);const v=s[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[a]+=e.size}o.getPadding&&ES(u,o.getPadding());const h=Math.max(0,t.outerWidth-uE(u,n,"left","right")),d=Math.max(0,t.outerHeight-uE(u,n,"top","bottom")),m=h!==n.w,y=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:m,other:y}:{same:y,other:m}}function ZI(n){const t=n.maxPadding;function e(s){const a=Math.max(t[s]-n[s],0);return n[s]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function JI(n,t){const e=t.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return s(n?["left","right"]:["top","bottom"])}function iu(n,t,e,s){const a=[];let o,u,h,d,m,y;for(o=0,u=n.length,m=0;o<u;++o){h=n[o],d=h.box,d.update(h.width||t.w,h.height||t.h,JI(h.horizontal,t));const{same:v,other:b}=WI(t,e,h,s);m|=v&&a.length,y=y||b,d.fullSize||a.push(h)}return m&&iu(a,t,e,s)||y}function Rh(n,t,e,s,a){n.top=e,n.left=t,n.right=t+s,n.bottom=e+a,n.width=s,n.height=a}function cE(n,t,e,s){const a=e.padding;let{x:o,y:u}=t;for(const h of n){const d=h.box,m=s[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*y,b=m.size||d.height;hf(m.start)&&(u=m.start),d.fullSize?Rh(d,a.left,u,e.outerWidth-a.right-a.left,b):Rh(d,t.left+m.placed,u,v,b),m.start=u,m.placed+=v,u=d.bottom}else{const v=t.h*y,b=m.size||d.width;hf(m.start)&&(o=m.start),d.fullSize?Rh(d,o,a.top,b,e.outerHeight-a.bottom-a.top):Rh(d,o,t.top+m.placed,b,v),m.start=o,m.placed+=v,o=d.right}}t.x=o,t.y=u}var Jn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const a=ti(n.options.layout.padding),o=Math.max(t-a.width,0),u=Math.max(e-a.height,0),h=XI(n.boxes),d=h.vertical,m=h.horizontal;Wt(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const y=d.reduce((M,D)=>D.box.options&&D.box.options.display===!1?M:M+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},a);ES(b,ti(s));const S=Object.assign({maxPadding:b,w:o,h:u,x:a.left,y:a.top},a),A=KI(d.concat(m),v);iu(h.fullSize,S,v,A),iu(d,S,v,A),iu(m,S,v,A)&&iu(d,S,v,A),ZI(S),cE(h.leftAndTop,S,v,A),S.x+=S.w,S.y+=S.h,cE(h.rightAndBottom,S,v,A),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Wt(h.chartArea,M=>{const D=M.box;Object.assign(D,n.chartArea),D.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class TS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,a){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):s)}}isAttached(t){return!0}updateConfig(t){}}class tV extends TS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const qh="$chartjs",eV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hE=n=>n===null||n==="";function nV(n,t){const e=n.style,s=n.getAttribute("height"),a=n.getAttribute("width");if(n[qh]={initial:{height:s,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",hE(a)){const o=tE(n,"width");o!==void 0&&(n.width=o)}if(hE(s))if(n.style.height==="")n.height=n.width/(t||2);else{const o=tE(n,"height");o!==void 0&&(n.height=o)}return n}const SS=SI?{passive:!0}:!1;function iV(n,t,e){n&&n.addEventListener(t,e,SS)}function sV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,SS)}function rV(n,t){const e=eV[n.type]||n.type,{x:s,y:a}=ra(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:a!==void 0?a:null}}function pf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function aV(n,t,e){const s=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||pf(h.addedNodes,s),u=u&&!pf(h.removedNodes,s);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function oV(n,t,e){const s=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||pf(h.removedNodes,s),u=u&&!pf(h.addedNodes,s);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Vu=new Map;let fE=0;function AS(){const n=window.devicePixelRatio;n!==fE&&(fE=n,Vu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function lV(n,t){Vu.size||window.addEventListener("resize",AS),Vu.set(n,t)}function uV(n){Vu.delete(n),Vu.size||window.removeEventListener("resize",AS)}function cV(n,t,e){const s=n.canvas,a=s&&ty(s);if(!a)return;const o=lS((h,d)=>{const m=a.clientWidth;e(h,d),m<a.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],m=d.contentRect.width,y=d.contentRect.height;m===0&&y===0||o(m,y)});return u.observe(a),lV(n,o),u}function gm(n,t,e){e&&e.disconnect(),t==="resize"&&uV(n)}function hV(n,t,e){const s=n.canvas,a=lS(o=>{n.ctx!==null&&e(rV(o,n))},n);return iV(s,t,a),a}class fV extends TS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(nV(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[qh])return!1;const s=e[qh].initial;["height","width"].forEach(o=>{const u=s[o];Je(u)?e.removeAttribute(o):e.setAttribute(o,u)});const a=s.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[qh],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),u={attach:aV,detach:oV,resize:cV}[e]||hV;a[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),a=s[e];if(!a)return;({attach:gm,detach:gm,resize:gm}[e]||sV)(t,e,a),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,a){return TI(t,e,s,a)}isAttached(t){const e=t&&ty(t);return!!(e&&e.isConnected)}}function dV(n){return!Jp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?tV:fV}class vr{constructor(){Dt(this,"x");Dt(this,"y");Dt(this,"active",!1);Dt(this,"options");Dt(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return df(this.x)&&df(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const a={};return t.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}}Dt(vr,"defaults",{}),Dt(vr,"defaultRoutes");function gV(n,t){const e=n.options.ticks,s=mV(n),a=Math.min(e.maxTicksLimit||s,s),o=e.major.enabled?yV(t):[],u=o.length,h=o[0],d=o[u-1],m=[];if(u>a)return _V(t,m,o,u/a),m;const y=pV(o,t,a);if(u>0){let v,b;const S=u>1?Math.round((d-h)/(u-1)):null;for(Ch(t,m,y,Je(S)?0:h-S,h),v=0,b=u-1;v<b;v++)Ch(t,m,y,o[v],o[v+1]);return Ch(t,m,y,d,Je(S)?t.length:d+S),m}return Ch(t,m,y),m}function mV(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(s,a))}function pV(n,t,e){const s=vV(n),a=t.length/e;if(!s)return Math.max(a,1);const o=OO(s);for(let u=0,h=o.length-1;u<h;u++){const d=o[u];if(d>a)return d}return Math.max(a,1)}function yV(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function _V(n,t,e,s){let a=0,o=e[0],u;for(s=Math.ceil(s),u=0;u<n.length;u++)u===o&&(t.push(n[u]),a++,o=e[a*s])}function Ch(n,t,e,s,a){const o=Qt(s,0),u=Math.min(Qt(a,n.length),n.length);let h=0,d,m,y;for(e=Math.ceil(e),a&&(d=a-s,e=d/Math.floor(d/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<u;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function vV(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const bV=n=>n==="left"?"right":n==="right"?"left":n,dE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,gE=(n,t)=>Math.min(t||n,n);function mE(n,t){const e=[],s=n.length/t,a=n.length;let o=0;for(;o<a;o+=s)e.push(n[Math.floor(o)]);return e}function EV(n,t,e){const s=n.ticks.length,a=Math.min(t,s-1),o=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(a),m;if(!(e&&(s===1?m=Math.max(d-o,u-d):t===0?m=(n.getPixelForTick(1)-d)/2:m=(d-n.getPixelForTick(a-1))/2,d+=a<t?m:-m,d<o-h||d>u+h)))return d}function TV(n,t){Wt(n,e=>{const s=e.gc,a=s.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[s[o]];s.splice(0,a)}})}function $l(n){return n.drawTicks?n.tickLength:0}function pE(n,t){if(!n.display)return 0;const e=un(n.font,t),s=ti(n.padding);return(Ye(n.text)?n.text.length:1)*e.lineHeight+s.height}function SV(n,t){return No(n,{scale:t,type:"scale"})}function AV(n,t,e){return No(n,{tick:e,index:t,type:"tick"})}function wV(n,t,e){let s=Yp(n);return(e&&t!=="right"||!e&&t==="right")&&(s=bV(s)),s}function xV(n,t,e,s){const{top:a,left:o,bottom:u,right:h,chart:d}=n,{chartArea:m,scales:y}=d;let v=0,b,S,A;const M=u-a,D=h-o;if(n.isHorizontal()){if(S=an(s,o,h),Yt(e)){const V=Object.keys(e)[0],B=e[V];A=y[V].getPixelForValue(B)+M-t}else e==="center"?A=(m.bottom+m.top)/2+M-t:A=dE(n,e,t);b=h-o}else{if(Yt(e)){const V=Object.keys(e)[0],B=e[V];S=y[V].getPixelForValue(B)-D+t}else e==="center"?S=(m.left+m.right)/2-D+t:S=dE(n,e,t);A=an(s,u,a),v=e==="left"?-ke:ke}return{titleX:S,titleY:A,maxWidth:b,rotation:v}}class Gu extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:a}=this;return t=wi(t,Number.POSITIVE_INFINITY),e=wi(e,Number.NEGATIVE_INFINITY),s=wi(s,Number.POSITIVE_INFINITY),a=wi(a,Number.NEGATIVE_INFINITY),{min:wi(t,s),max:wi(e,a),minDefined:vs(t),maxDefined:vs(e)}}getMinMax(t){let{min:e,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),u;if(a&&o)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,m=h.length;d<m;++d)u=h[d].controller.getMinMax(this,t),a||(e=Math.min(e,u.min)),o||(s=Math.max(s,u.max));return e=o&&e>s?s:e,s=a&&e>s?e:s,{min:wi(e,wi(s,e)),max:wi(s,wi(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:a,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=oI(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?mE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=gV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s],o.label=ae(e.callback,[o.value,s,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=gE(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let u=a,h,d,m;if(!this._isVisible()||!e.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),v=y.widest.width,b=y.highest.height,S=Nn(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),v+6>h&&(h=S/(s-(t.offset?.5:1)),d=this.maxHeight-$l(t.grid)-e.padding-pE(t.title,this.chart.options.font),m=Math.sqrt(v*v+b*b),u=VO(Math.min(Math.asin(Nn((y.highest.height+6)/h,-1,1)),Math.asin(Nn(d/m,-1,1))-Math.asin(Nn(b/m,-1,1)))),u=Math.max(a,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:a,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=pE(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=$l(o)+d):(t.height=this.maxHeight,t.width=$l(o)+d),s.display&&this.ticks.length){const{first:m,last:y,widest:v,highest:b}=this._getLabelSizes(),S=s.padding*2,A=oa(this.labelRotation),M=Math.cos(A),D=Math.sin(A);if(h){const V=s.mirror?0:D*v.width+M*b.height;t.height=Math.min(this.maxHeight,t.height+V+S)}else{const V=s.mirror?0:M*v.width+D*b.height;t.width=Math.min(this.maxWidth,t.width+V+S)}this._calculatePadding(m,y,D,M)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,a){const{ticks:{align:o,padding:u},position:h}=this.options,d=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?m?(b=a*t.width,S=s*e.height):(b=s*t.height,S=a*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Je(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=mE(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:a,_longestTextCache:o}=this,u=[],h=[],d=Math.floor(e/gE(e,s));let m=0,y=0,v,b,S,A,M,D,V,B,U,Q,W;for(v=0;v<e;v+=d){if(A=t[v].label,M=this._resolveTickFontOptions(v),a.font=D=M.string,V=o[D]=o[D]||{data:{},gc:[]},B=M.lineHeight,U=Q=0,!Je(A)&&!Ye(A))U=Qb(a,V.data,V.gc,U,A),Q=B;else if(Ye(A))for(b=0,S=A.length;b<S;++b)W=A[b],!Je(W)&&!Ye(W)&&(U=Qb(a,V.data,V.gc,U,W),Q+=B);u.push(U),h.push(Q),m=Math.max(U,m),y=Math.max(Q,y)}TV(o,e);const rt=u.indexOf(m),N=h.indexOf(y),x=R=>({width:u[R]||0,height:h[R]||0});return{first:x(0),last:x(e-1),widest:x(rt),highest:x(N),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return kO(this._alignToPixels?na(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=AV(this.getContext(),t,s))}return this.$context||(this.$context=SV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=oa(this.labelRotation),s=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,d=o?o.highest.height+u:0;return this.isHorizontal()?d*s>h*a?h/s:d/a:d*a<h*s?d/s:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,a=this.options,{grid:o,position:u,border:h}=a,d=o.offset,m=this.isHorizontal(),v=this.ticks.length+(d?1:0),b=$l(o),S=[],A=h.setContext(this.getContext()),M=A.display?A.width:0,D=M/2,V=function(it){return na(s,it,M)};let B,U,Q,W,rt,N,x,R,O,L,z,I;if(u==="top")B=V(this.bottom),N=this.bottom-b,R=B-D,L=V(t.top)+D,I=t.bottom;else if(u==="bottom")B=V(this.top),L=t.top,I=V(t.bottom)-D,N=B+D,R=this.top+b;else if(u==="left")B=V(this.right),rt=this.right-b,x=B-D,O=V(t.left)+D,z=t.right;else if(u==="right")B=V(this.left),O=t.left,z=V(t.right)-D,rt=B+D,x=this.left+b;else if(e==="x"){if(u==="center")B=V((t.top+t.bottom)/2+.5);else if(Yt(u)){const it=Object.keys(u)[0],ut=u[it];B=V(this.chart.scales[it].getPixelForValue(ut))}L=t.top,I=t.bottom,N=B+D,R=N+b}else if(e==="y"){if(u==="center")B=V((t.left+t.right)/2);else if(Yt(u)){const it=Object.keys(u)[0],ut=u[it];B=V(this.chart.scales[it].getPixelForValue(ut))}rt=B-D,x=rt-b,O=t.left,z=t.right}const Ct=Qt(a.ticks.maxTicksLimit,v),vt=Math.max(1,Math.ceil(v/Ct));for(U=0;U<v;U+=vt){const it=this.getContext(U),ut=o.setContext(it),ft=h.setContext(it),Et=ut.lineWidth,P=ut.color,et=ft.dash||[],ht=ft.dashOffset,ot=ut.tickWidth,at=ut.tickColor,yt=ut.tickBorderDash||[],_t=ut.tickBorderDashOffset;Q=EV(this,U,d),Q!==void 0&&(W=na(s,Q,Et),m?rt=x=O=z=W:N=R=L=I=W,S.push({tx1:rt,ty1:N,tx2:x,ty2:R,x1:O,y1:L,x2:z,y2:I,width:Et,color:P,borderDash:et,borderDashOffset:ht,tickWidth:ot,tickColor:at,tickBorderDash:yt,tickBorderDashOffset:_t}))}return this._ticksLength=v,this._borderValue=B,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:a,ticks:o}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:m,padding:y,mirror:v}=o,b=$l(s.grid),S=b+y,A=v?-y:S,M=-oa(this.labelRotation),D=[];let V,B,U,Q,W,rt,N,x,R,O,L,z,I="middle";if(a==="top")rt=this.bottom-A,N=this._getXAxisLabelAlignment();else if(a==="bottom")rt=this.top+A,N=this._getXAxisLabelAlignment();else if(a==="left"){const vt=this._getYAxisLabelAlignment(b);N=vt.textAlign,W=vt.x}else if(a==="right"){const vt=this._getYAxisLabelAlignment(b);N=vt.textAlign,W=vt.x}else if(e==="x"){if(a==="center")rt=(t.top+t.bottom)/2+S;else if(Yt(a)){const vt=Object.keys(a)[0],it=a[vt];rt=this.chart.scales[vt].getPixelForValue(it)+S}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")W=(t.left+t.right)/2-S;else if(Yt(a)){const vt=Object.keys(a)[0],it=a[vt];W=this.chart.scales[vt].getPixelForValue(it)}N=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?I="top":d==="end"&&(I="bottom"));const Ct=this._getLabelSizes();for(V=0,B=h.length;V<B;++V){U=h[V],Q=U.label;const vt=o.setContext(this.getContext(V));x=this.getPixelForTick(V)+o.labelOffset,R=this._resolveTickFontOptions(V),O=R.lineHeight,L=Ye(Q)?Q.length:1;const it=L/2,ut=vt.color,ft=vt.textStrokeColor,Et=vt.textStrokeWidth;let P=N;u?(W=x,N==="inner"&&(V===B-1?P=this.options.reverse?"left":"right":V===0?P=this.options.reverse?"right":"left":P="center"),a==="top"?m==="near"||M!==0?z=-L*O+O/2:m==="center"?z=-Ct.highest.height/2-it*O+O:z=-Ct.highest.height+O/2:m==="near"||M!==0?z=O/2:m==="center"?z=Ct.highest.height/2-it*O:z=Ct.highest.height-L*O,v&&(z*=-1),M!==0&&!vt.showLabelBackdrop&&(W+=O/2*Math.sin(M))):(rt=x,z=(1-L)*O/2);let et;if(vt.showLabelBackdrop){const ht=ti(vt.backdropPadding),ot=Ct.heights[V],at=Ct.widths[V];let yt=z-ht.top,_t=0-ht.left;switch(I){case"middle":yt-=ot/2;break;case"bottom":yt-=ot;break}switch(N){case"center":_t-=at/2;break;case"right":_t-=at;break;case"inner":V===B-1?_t-=at:V>0&&(_t-=at/2);break}et={left:_t,top:yt,width:at+ht.width,height:ot+ht.height,color:vt.backdropColor}}D.push({label:Q,font:R,textOffset:z,options:{rotation:M,color:ut,strokeColor:ft,strokeWidth:Et,textAlign:P,textBaseline:I,translation:[W,rt],backdrop:et}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oa(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,d=u.widest.width;let m,y;return e==="left"?a?(y=this.right+o,s==="near"?m="left":s==="center"?(m="center",y+=d/2):(m="right",y+=d)):(y=this.right-h,s==="near"?m="right":s==="center"?(m="center",y-=d/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+o,s==="near"?m="right":s==="center"?(m="center",y-=d/2):(m="left",y-=d)):(y=this.left+h,s==="near"?m="left":s==="center"?(m="center",y+=d/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:a,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,a,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(d,m,y)=>{!y.width||!y.color||(s.save(),s.lineWidth=y.width,s.strokeStyle=y.color,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(e.display)for(o=0,u=a.length;o<u;++o){const d=a[o];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),u=s.display?o.width:0;if(!u)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let m,y,v,b;this.isHorizontal()?(m=na(t,this.left,u)-u/2,y=na(t,this.right,h)+h/2,v=b=d):(v=na(t,this.top,u)-u/2,b=na(t,this.bottom,h)+h/2,m=y=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&$p(s,a);const o=this.getLabelItems(t);for(const u of o){const h=u.options,d=u.font,m=u.label,y=u.textOffset;Iu(s,m,0,y,d,h)}a&&Qp(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:a}}=this;if(!s.display)return;const o=un(s.font),u=ti(s.padding),h=s.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Yt(e)?(d+=u.bottom,Ye(s.text)&&(d+=o.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:m,titleY:y,maxWidth:v,rotation:b}=xV(this,d,e,h);Iu(t,s.text,0,0,o,{color:s.color,maxWidth:v,rotation:b,textAlign:wV(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Qt(t.grid&&t.grid.z,-1),a=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Gu.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[s]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Dh{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;DV(e)&&(s=this.register(e));const a=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,RV(t,u,s),this.override&&Ee.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,a=this.scope;s in e&&delete e[s],a&&s in Ee[a]&&(delete Ee[a][s],this.override&&delete da[s])}}function RV(n,t,e){const s=Mu(Object.create(null),[e?Ee.get(e):{},Ee.get(t),n.defaults]);Ee.set(t,s),n.defaultRoutes&&CV(t,n.defaultRoutes),n.descriptors&&Ee.describe(t,n.descriptors)}function CV(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),a=s.pop(),o=[n].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");Ee.route(o,a,d,h)})}function DV(n){return"id"in n&&"defaults"in n}class MV{constructor(){this.controllers=new Dh(mu,"datasets",!0),this.elements=new Dh(vr,"elements"),this.plugins=new Dh(Object,"plugins"),this.scales=new Dh(Gu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Wt(a,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const a=qp(t);ae(s["before"+a],[],s),e[t](s),ae(s["after"+a],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return a}}var Ri=new MV;class OV{constructor(){this._init=[]}notify(t,e,s,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),u=this._notify(o,t,e,s);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,s,a){a=a||{};for(const o of t){const u=o.plugin,h=u[s],d=[e,a,o.options];if(ae(h,d,u)===!1&&a.cancelable)return!1}return!0}invalidate(){Je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,a=Qt(s.options&&s.options.plugins,{}),o=IV(s);return a===!1&&!e?[]:NV(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,a=(o,u)=>o.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(a(e,s),t,"stop"),this._notify(a(s,e),t,"start")}}function IV(n){const t={},e=[],s=Object.keys(Ri.plugins.items);for(let o=0;o<s.length;o++)e.push(Ri.getPlugin(s[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const u=a[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function VV(n,t){return!t&&n===!1?null:n===!0?{}:n}function NV(n,{plugins:t,localIds:e},s,a){const o=[],u=n.getContext();for(const h of t){const d=h.id,m=VV(s[d],a);m!==null&&o.push({plugin:h,options:kV(n.config,{plugin:h,local:e[d]},m,u)})}return o}function kV(n,{plugin:t,local:e},s,a){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(s,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qm(n,t){const e=Ee.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function LV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function PV(n,t){return n===t?"_index_":"_value_"}function yE(n){if(n==="x"||n==="y"||n==="r")return n}function zV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Km(n,...t){if(yE(n))return n;for(const e of t){const s=e.axis||zV(e.position)||n.length>1&&yE(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function _E(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function UV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return _E(n,"x",e[0])||_E(n,"y",e[0])}return{}}function BV(n,t){const e=da[n.type]||{scales:{}},s=t.scales||{},a=Qm(n.type,t),o=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!Yt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=Km(u,h,UV(u,n),Ee.scales[h.type]),m=PV(d,a),y=e.scales||{};o[u]=hu(Object.create(null),[{axis:d},h,y[d],y[m]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||Qm(h,t),y=(da[h]||{}).scales||{};Object.keys(y).forEach(v=>{const b=LV(v,d),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),hu(o[S],[{axis:b},s[S],y[v]])})}),Object.keys(o).forEach(u=>{const h=o[u];hu(h,[Ee.scales[h.type],Ee.scale])}),o}function wS(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=BV(n,t)}function xS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function HV(n){return n=n||{},n.data=xS(n.data),wS(n),n}const vE=new Map,RS=new Set;function Mh(n,t){let e=vE.get(n);return e||(e=t(),vE.set(n,e),RS.add(e)),e}const Ql=(n,t,e)=>{const s=Ou(t,e);s!==void 0&&n.add(s)};class jV{constructor(t){this._config=HV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=xS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),wS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Mh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Mh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Mh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Mh(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let a=s.get(t);return(!a||e)&&(a=new Map,s.set(t,a)),a}getOptionScopes(t,e,s){const{options:a,type:o}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(y=>{t&&(d.add(t),y.forEach(v=>Ql(d,t,v))),y.forEach(v=>Ql(d,a,v)),y.forEach(v=>Ql(d,da[o]||{},v)),y.forEach(v=>Ql(d,Ee,v)),y.forEach(v=>Ql(d,Gm,v))});const m=Array.from(d);return m.length===0&&m.push(Object.create(null)),RS.has(e)&&u.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,da[e]||{},Ee.datasets[e]||{},{type:e},Ee,Gm]}resolveNamedOptions(t,e,s,a=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=bE(this._resolverCache,t,a);let d=u;if(qV(u,e)){o.$shared=!1,s=_r(s)?s():s;const m=this.createResolver(t,s,h);d=wo(u,s,m)}for(const m of e)o[m]=d[m];return o}createResolver(t,e,s=[""],a){const{resolver:o}=bE(this._resolverCache,t,s);return Yt(e)?wo(o,e,void 0,a):o}}function bE(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const a=e.join();let o=s.get(a);return o||(o={resolver:Xp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(a,o)),o}const FV=n=>Yt(n)&&Object.getOwnPropertyNames(n).some(t=>_r(n[t]));function qV(n,t){const{isScriptable:e,isIndexable:s}=fS(n);for(const a of t){const o=e(a),u=s(a),h=(u||o)&&n[a];if(o&&(_r(h)||FV(h))||u&&Ye(h))return!0}return!1}var GV="4.4.8";const YV=["top","bottom","left","right","chartArea"];function EE(n,t){return n==="top"||n==="bottom"||YV.indexOf(n)===-1&&t==="x"}function TE(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function SE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function $V(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function CS(n){return Jp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Gh={},AE=n=>{const t=CS(n);return Object.values(Gh).filter(e=>e.canvas===t).pop()};function QV(n,t,e){const s=Object.keys(n);for(const a of s){const o=+a;if(o>=t){const u=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=u)}}}function KV(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}function Oh(n,t,e){return n.options.clip?n[e]:t[e]}function XV(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:Oh(e,t,"left"),right:Oh(e,t,"right"),top:Oh(s,t,"top"),bottom:Oh(s,t,"bottom")}:t}var ir;let Ff=(ir=class{static register(...t){Ri.add(...t),wE()}static unregister(...t){Ri.remove(...t),wE()}constructor(t,e){const s=this.config=new jV(e),a=CS(t),o=AE(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||dV(a)),this.platform.updateConfig(s);const h=this.platform.acquireContext(a,u.aspectRatio),d=h&&h.canvas,m=d&&d.height,y=d&&d.width;if(this.id=SO(),this.ctx=h,this.canvas=d,this.width=y,this.height=m,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BO(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],Gh[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",SE),cs.listen(this,"progress",$V),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:a,_aspectRatio:o}=this;return Je(t)?e&&o?o:a?s/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Jb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Kb(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(t,e){cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(a,t,e,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Jb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),ae(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Wt(e,(s,a)=>{s.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,a=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],d=Km(u,h),m=d==="r",y=d==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Wt(o,u=>{const h=u.options,d=h.id,m=Km(d,h),y=Qt(h.type,u.dtype);(h.position===void 0||EE(h.position,m)!==EE(u.dposition))&&(h.position=u.dposition),a[d]=!0;let v=null;if(d in s&&s[d].type===y)v=s[d];else{const b=Ri.getScale(y);v=new b({id:d,type:y,ctx:this.ctx,chart:this}),s[v.id]=v}v.init(h,t)}),Wt(a,(u,h)=>{u||delete s[h]}),Wt(s,u=>{Jn.configure(this,u,u.options),Jn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((a,o)=>a.index-o.index),s>e){for(let a=e;a<s;++a)this._destroyDatasetMeta(a);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(TE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,a)=>{e.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=e.length;s<a;s++){const o=e[s];let u=this.getDatasetMeta(s);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=o.indexAxis||Qm(h,this.options),u.order=o.order||0,u.index=s,u.label=""+o.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=Ri.getController(h),{datasetElementType:m,dataElementType:y}=Ee.datasets[h];Object.assign(d,{dataElementType:Ri.getElement(y),datasetElementType:m&&Ri.getElement(m)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Wt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:v}=this.getDatasetMeta(m),b=!a&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),a||Wt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(TE("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Wt(this.scales,t=>{Jn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!Bb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of e){const u=s==="_removeElements"?-o:o;QV(t,a,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),a=s(0);for(let o=1;o<e;o++)if(!Bb(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Jn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Wt(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,_r(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),a={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),SE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let a,o;for(a=0,o=e.length;a<o;++a){const u=e[a];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,a=!s.disabled,o=XV(t,this.chartArea),u={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(a&&$p(e,{left:s.left===!1?0:o.left-s.left,right:s.right===!1?this.width:o.right+s.right,top:s.top===!1?0:o.top-s.top,bottom:s.bottom===!1?this.height:o.bottom+s.bottom}),t.controller.draw(),a&&Qp(e),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return hS(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,a){const o=YI.modes[e];return typeof o=="function"?o(this,t,s,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let a=s.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=No(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const a=s?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,a);hf(e)?(o.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(o,{visible:s}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Kb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},a=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Wt(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,m)=>{e.addEventListener(this,d,m),t[d]=m},a=(d,m)=>{t[d]&&(e.removeEventListener(this,d,m),delete t[d])},o=(d,m)=>{this.canvas&&this.resize(d,m)};let u;const h=()=>{a("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",u)};u=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Wt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Wt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const a=s?"set":"remove";let o,u,h,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const m=u&&this.getDatasetMeta(u.datasetIndex).controller;m&&m[a+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!uf(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const a=this.options.hover,o=(d,m)=>d.filter(y=>!m.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=o(e,t),h=s?t:o(t,e);u.length&&this.updateHoverStyle(u,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:a=[],options:o}=this,u=e,h=this._getActiveElements(t,a,s,u),d=DO(t),m=KV(t,this._lastEvent,s,d);s&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),d&&ae(o.onClick,[t,h,this],this));const y=!uf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,s,a){if(t.type==="mouseout")return[];if(!s)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}},Dt(ir,"defaults",Ee),Dt(ir,"instances",Gh),Dt(ir,"overrides",da),Dt(ir,"registry",Ri),Dt(ir,"version",GV),Dt(ir,"getChart",AE),ir);function wE(){return Wt(Ff.instances,n=>n._plugins.invalidate())}function WV(n,t,e){const{startAngle:s,pixelMargin:a,x:o,y:u,outerRadius:h,innerRadius:d}=t;let m=a/h;n.beginPath(),n.arc(o,u,h,s-m,e+m),d>a?(m=a/d,n.arc(o,u,d,e+m,s-m,!0)):n.arc(o,u,a,e+ke,s-ke),n.closePath(),n.clip()}function ZV(n){return Kp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function JV(n,t,e,s){const a=ZV(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,s*t/2),h=d=>{const m=(e-Math.min(o,d))*s/2;return Nn(d,0,Math.min(o,m))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Nn(a.innerStart,0,u),innerEnd:Nn(a.innerEnd,0,u)}}function lo(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function yf(n,t,e,s,a,o){const{x:u,y:h,startAngle:d,pixelMargin:m,innerRadius:y}=t,v=Math.max(t.outerRadius+s+e-m,0),b=y>0?y+s+e+m:0;let S=0;const A=a-d;if(s){const vt=y>0?y-s:0,it=v>0?v-s:0,ut=(vt+it)/2,ft=ut!==0?A*ut/(ut+s):A;S=(A-ft)/2}const M=Math.max(.001,A*v-e/Ce)/v,D=(A-M)/2,V=d+D+S,B=a-D-S,{outerStart:U,outerEnd:Q,innerStart:W,innerEnd:rt}=JV(t,b,v,B-V),N=v-U,x=v-Q,R=V+U/N,O=B-Q/x,L=b+W,z=b+rt,I=V+W/L,Ct=B-rt/z;if(n.beginPath(),o){const vt=(R+O)/2;if(n.arc(u,h,v,R,vt),n.arc(u,h,v,vt,O),Q>0){const Et=lo(x,O,u,h);n.arc(Et.x,Et.y,Q,O,B+ke)}const it=lo(z,B,u,h);if(n.lineTo(it.x,it.y),rt>0){const Et=lo(z,Ct,u,h);n.arc(Et.x,Et.y,rt,B+ke,Ct+Math.PI)}const ut=(B-rt/b+(V+W/b))/2;if(n.arc(u,h,b,B-rt/b,ut,!0),n.arc(u,h,b,ut,V+W/b,!0),W>0){const Et=lo(L,I,u,h);n.arc(Et.x,Et.y,W,I+Math.PI,V-ke)}const ft=lo(N,V,u,h);if(n.lineTo(ft.x,ft.y),U>0){const Et=lo(N,R,u,h);n.arc(Et.x,Et.y,U,V-ke,R)}}else{n.moveTo(u,h);const vt=Math.cos(R)*v+u,it=Math.sin(R)*v+h;n.lineTo(vt,it);const ut=Math.cos(O)*v+u,ft=Math.sin(O)*v+h;n.lineTo(ut,ft)}n.closePath()}function tN(n,t,e,s,a){const{fullCircles:o,startAngle:u,circumference:h}=t;let d=t.endAngle;if(o){yf(n,t,e,s,d,a);for(let m=0;m<o;++m)n.fill();isNaN(h)||(d=u+(h%Re||Re))}return yf(n,t,e,s,d,a),n.fill(),d}function eN(n,t,e,s,a){const{fullCircles:o,startAngle:u,circumference:h,options:d}=t,{borderWidth:m,borderJoinStyle:y,borderDash:v,borderDashOffset:b}=d,S=d.borderAlign==="inner";if(!m)return;n.setLineDash(v||[]),n.lineDashOffset=b,S?(n.lineWidth=m*2,n.lineJoin=y||"round"):(n.lineWidth=m,n.lineJoin=y||"bevel");let A=t.endAngle;if(o){yf(n,t,e,s,A,a);for(let M=0;M<o;++M)n.stroke();isNaN(h)||(A=u+(h%Re||Re))}S&&WV(n,t,A),o||(yf(n,t,e,s,A,a),n.stroke())}class su extends vr{constructor(e){super();Dt(this,"circumference");Dt(this,"endAngle");Dt(this,"fullCircles");Dt(this,"innerRadius");Dt(this,"outerRadius");Dt(this,"pixelMargin");Dt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,a){const o=this.getProps(["x","y"],a),{angle:u,distance:h}=rS(o,{x:e,y:s}),{startAngle:d,endAngle:m,innerRadius:y,outerRadius:v,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),S=(this.options.spacing+this.options.borderWidth)/2,A=Qt(b,m-d),M=gf(u,d,m)&&d!==m,D=A>=Re||M,V=eu(h,y+S,v+S);return D&&V}getCenterPoint(e){const{x:s,y:a,startAngle:o,endAngle:u,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:m,spacing:y}=this.options,v=(o+u)/2,b=(h+d+y+m)/2;return{x:s+Math.cos(v)*b,y:a+Math.sin(v)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:a}=this,o=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>Re?Math.floor(a/Re):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*o,Math.sin(d)*o);const m=1-Math.sin(Math.min(Ce,a||0)),y=o*m;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,tN(e,this,y,u,h),eN(e,this,y,u,h),e.restore()}}Dt(su,"id","arc"),Dt(su,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Dt(su,"defaultRoutes",{backgroundColor:"backgroundColor"}),Dt(su,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});const xE=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},nN=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class RE extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,a)=>t.sort(s,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,a=un(s.font),o=a.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=xE(s,o);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(u,o,h,d)+10):(y=this.maxHeight,m=this._fitCols(u,a,h,d)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,a){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-y;return this.legendItems.forEach((A,M)=>{const D=s+e/2+o.measureText(A.text).width;(M===0||m[m.length-1]+D+2*h>u)&&(v+=y,m[m.length-(M>0?0:1)]=0,S+=y,b++),d[M]={left:0,top:S,row:b,width:D,height:a},m[m.length-1]+=D+h}),v}_fitCols(t,e,s,a){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],m=this.columnSizes=[],y=u-t;let v=h,b=0,S=0,A=0,M=0;return this.legendItems.forEach((D,V)=>{const{itemWidth:B,itemHeight:U}=iN(s,e,o,D,a);V>0&&S+U+2*h>y&&(v+=b+h,m.push({width:b,height:S}),A+=b+h,M++,b=S=0),d[V]={left:A,top:S,col:M,width:B,height:U},b=Math.max(b,B),S+=U+h}),v+=b,m.push({width:b,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:a},rtl:o}}=this,u=po(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=an(s,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,d=an(s,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=u.leftForLtr(u.x(d),m.width),d+=m.width+a}else{let h=0,d=an(s,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,d=an(s,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=d,m.left+=this.left+a,m.left=u.leftForLtr(u.x(m.left),m.width),d+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$p(t,this),this._draw(),Qp(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:a}=this,{align:o,labels:u}=t,h=Ee.color,d=po(t.rtl,this.left,this.width),m=un(u.font),{padding:y}=u,v=m.size,b=v/2;let S;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:A,boxHeight:M,itemHeight:D}=xE(u,v),V=function(rt,N,x){if(isNaN(A)||A<=0||isNaN(M)||M<0)return;a.save();const R=Qt(x.lineWidth,1);if(a.fillStyle=Qt(x.fillStyle,h),a.lineCap=Qt(x.lineCap,"butt"),a.lineDashOffset=Qt(x.lineDashOffset,0),a.lineJoin=Qt(x.lineJoin,"miter"),a.lineWidth=R,a.strokeStyle=Qt(x.strokeStyle,h),a.setLineDash(Qt(x.lineDash,[])),u.usePointStyle){const O={radius:M*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:R},L=d.xPlus(rt,A/2),z=N+b;cS(a,O,L,z,u.pointStyleWidth&&A)}else{const O=N+Math.max((v-M)/2,0),L=d.leftForLtr(rt,A),z=gu(x.borderRadius);a.beginPath(),Object.values(z).some(I=>I!==0)?Ym(a,{x:L,y:O,w:A,h:M,radius:z}):a.rect(L,O,A,M),a.fill(),R!==0&&a.stroke()}a.restore()},B=function(rt,N,x){Iu(a,x.text,rt,N+D/2,m,{strikethrough:x.hidden,textAlign:d.textAlign(x.textAlign)})},U=this.isHorizontal(),Q=this._computeTitleHeight();U?S={x:an(o,this.left+y,this.right-s[0]),y:this.top+y+Q,line:0}:S={x:this.left+y,y:an(o,this.top+Q+y,this.bottom-e[0].height),line:0},pS(this.ctx,t.textDirection);const W=D+y;this.legendItems.forEach((rt,N)=>{a.strokeStyle=rt.fontColor,a.fillStyle=rt.fontColor;const x=a.measureText(rt.text).width,R=d.textAlign(rt.textAlign||(rt.textAlign=u.textAlign)),O=A+b+x;let L=S.x,z=S.y;d.setWidth(this.width),U?N>0&&L+O+y>this.right&&(z=S.y+=W,S.line++,L=S.x=an(o,this.left+y,this.right-s[S.line])):N>0&&z+W>this.bottom&&(L=S.x=L+e[S.line].width+y,S.line++,z=S.y=an(o,this.top+Q+y,this.bottom-e[S.line].height));const I=d.x(L);if(V(I,z,rt),L=HO(R,L+A+b,U?L+O:this.right,t.rtl),B(d.x(L),z,rt),U)S.x+=O+y;else if(typeof rt.text!="string"){const Ct=m.lineHeight;S.y+=DS(rt,Ct)+y}else S.y+=W}),yS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=un(e.font),a=ti(e.padding);if(!e.display)return;const o=po(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,m=a.top+d;let y,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+m,v=an(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((M,D)=>Math.max(M,D.height),0);y=m+an(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=an(h,v,v+b);u.textAlign=o.textAlign(Yp(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,Iu(u,e.text,S,y,s)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),s=ti(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,a,o;if(eu(t,this.left,this.right)&&eu(e,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],eu(t,a.left,a.left+a.width)&&eu(e,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!aN(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=nN(a,s);a&&!o&&ae(e.onLeave,[t,a,this],this),this._hoveredItem=s,s&&!o&&ae(e.onHover,[t,s,this],this)}else s&&ae(e.onClick,[t,s,this],this)}}function iN(n,t,e,s,a){const o=sN(s,n,t,e),u=rN(a,s,t.lineHeight);return{itemWidth:o,itemHeight:u}}function sN(n,t,e,s){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+s.measureText(a).width}function rN(n,t,e){let s=n;return typeof t.text!="string"&&(s=DS(t,e)),s}function DS(n,t){const e=n.text?n.text.length:0;return t*e}function aN(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var oN={id:"legend",_element:RE,start(n,t,e){const s=n.legend=new RE({ctx:n.ctx,options:e,chart:n});Jn.configure(n,s,e),Jn.addBox(n,s)},stop(n){Jn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;Jn.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,a=e.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:a,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const m=d.controller.getStyle(e?0:void 0),y=ti(m.borderWidth);return{text:t[d.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:u&&(h||m.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class MS extends vr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Ye(s.text)?s.text.length:1;this._padding=ti(s.padding);const o=a*un(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:a,right:o,options:u}=this,h=u.align;let d=0,m,y,v;return this.isHorizontal()?(y=an(h,s,o),v=e+t,m=o-s):(u.position==="left"?(y=s+t,v=an(h,a,e),d=Ce*-.5):(y=o-t,v=an(h,e,a),d=Ce*.5),m=a-e),{titleX:y,titleY:v,maxWidth:m,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=un(e.font),o=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:d,rotation:m}=this._drawArgs(o);Iu(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:m,textAlign:Yp(e.align),textBaseline:"middle",translation:[u,h]})}}function lN(n,t){const e=new MS({ctx:n.ctx,options:t,chart:n});Jn.configure(n,e,t),Jn.addBox(n,e),n.titleBlock=e}var uN={id:"title",_element:MS,start(n,t,e){lN(n,e)},stop(n){const t=n.titleBlock;Jn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;Jn.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ru={average(n){if(!n.length)return!1;let t,e,s=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),a+=d.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,a=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const d=n[o].element;if(d&&d.hasValue()){const m=d.getCenterPoint(),y=NO(t,m);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function xi(n,t){return t&&(Ye(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function cN(n,t){const{element:e,datasetIndex:s,index:a}=t,o=n.getDatasetMeta(s).controller,{label:u,value:h}=o.getLabelAndValue(a);return{chart:n,label:u,parsed:o.getParsed(a),raw:n.data.datasets[s].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:e}}function CE(n,t){const e=n.chart.ctx,{body:s,footer:a,title:o}=n,{boxWidth:u,boxHeight:h}=t,d=un(t.bodyFont),m=un(t.titleFont),y=un(t.footerFont),v=o.length,b=a.length,S=s.length,A=ti(t.padding);let M=A.height,D=0,V=s.reduce((Q,W)=>Q+W.before.length+W.lines.length+W.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,v&&(M+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),V){const Q=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;M+=S*Q+(V-S)*d.lineHeight+(V-1)*t.bodySpacing}b&&(M+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let B=0;const U=function(Q){D=Math.max(D,e.measureText(Q).width+B)};return e.save(),e.font=m.string,Wt(n.title,U),e.font=d.string,Wt(n.beforeBody.concat(n.afterBody),U),B=t.displayColors?u+2+t.boxPadding:0,Wt(s,Q=>{Wt(Q.before,U),Wt(Q.lines,U),Wt(Q.after,U)}),B=0,e.font=y.string,Wt(n.footer,U),e.restore(),D+=A.width,{width:D,height:M}}function hN(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function fN(n,t,e,s){const{x:a,width:o}=s,u=e.caretSize+e.caretPadding;if(n==="left"&&a+o+u>t.width||n==="right"&&a-o-u<0)return!0}function dN(n,t,e,s){const{x:a,width:o}=e,{width:u,chartArea:{left:h,right:d}}=n;let m="center";return s==="center"?m=a<=(h+d)/2?"left":"right":a<=o/2?m="left":a>=u-o/2&&(m="right"),fN(m,n,t,e)&&(m="center"),m}function DE(n,t,e){const s=e.yAlign||t.yAlign||hN(n,e);return{xAlign:e.xAlign||t.xAlign||dN(n,t,e,s),yAlign:s}}function gN(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function mN(n,t,e){let{y:s,height:a}=n;return t==="top"?s+=e:t==="bottom"?s-=a+e:s-=a/2,s}function ME(n,t,e,s){const{caretSize:a,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,m=a+o,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:S}=gu(u);let A=gN(t,h);const M=mN(t,d,m);return d==="center"?h==="left"?A+=m:h==="right"&&(A-=m):h==="left"?A-=Math.max(y,b)+a:h==="right"&&(A+=Math.max(v,S)+a),{x:Nn(A,0,s.width-t.width),y:Nn(M,0,s.height-t.height)}}function Ih(n,t,e){const s=ti(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function OE(n){return xi([],hs(n))}function pN(n,t,e){return No(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function IE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const OS={beforeTitle:us,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Je(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us};function En(n,t,e,s){const a=n[t].call(e,s);return typeof a>"u"?OS[t].call(e,s):a}class Xm extends vr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&e.options.animation&&s.animations,o=new _S(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=pN(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,a=En(s,"beforeTitle",this,t),o=En(s,"title",this,t),u=En(s,"afterTitle",this,t);let h=[];return h=xi(h,hs(a)),h=xi(h,hs(o)),h=xi(h,hs(u)),h}getBeforeBody(t,e){return OE(En(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,a=[];return Wt(t,o=>{const u={before:[],lines:[],after:[]},h=IE(s,o);xi(u.before,hs(En(h,"beforeLabel",this,o))),xi(u.lines,En(h,"label",this,o)),xi(u.after,hs(En(h,"afterLabel",this,o))),a.push(u)}),a}getAfterBody(t,e){return OE(En(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,a=En(s,"beforeFooter",this,t),o=En(s,"footer",this,t),u=En(s,"afterFooter",this,t);let h=[];return h=xi(h,hs(a)),h=xi(h,hs(o)),h=xi(h,hs(u)),h}_createItems(t){const e=this._active,s=this.chart.data,a=[],o=[],u=[];let h=[],d,m;for(d=0,m=e.length;d<m;++d)h.push(cN(this.chart,e[d]));return t.filter&&(h=h.filter((y,v,b)=>t.filter(y,v,b,s))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,s))),Wt(h,y=>{const v=IE(t.callbacks,y);a.push(En(v,"labelColor",this,y)),o.push(En(v,"labelPointStyle",this,y)),u.push(En(v,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),a=this._active;let o,u=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=ru[s.position].call(this,a,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=CE(this,s),m=Object.assign({},h,d),y=DE(this.chart,s,m),v=ME(s,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,a){const o=this.getCaretPosition(t,s,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,s){const{xAlign:a,yAlign:o}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:m,bottomLeft:y,bottomRight:v}=gu(h),{x:b,y:S}=t,{width:A,height:M}=e;let D,V,B,U,Q,W;return o==="center"?(Q=S+M/2,a==="left"?(D=b,V=D-u,U=Q+u,W=Q-u):(D=b+A,V=D+u,U=Q-u,W=Q+u),B=D):(a==="left"?V=b+Math.max(d,y)+u:a==="right"?V=b+A-Math.max(m,v)-u:V=this.caretX,o==="top"?(U=S,Q=U-u,D=V-u,B=V+u):(U=S+M,Q=U+u,D=V+u,B=V-u),W=U),{x1:D,x2:V,x3:B,y1:U,y2:Q,y3:W}}drawTitle(t,e,s){const a=this.title,o=a.length;let u,h,d;if(o){const m=po(s.rtl,this.x,this.width);for(t.x=Ih(this,s.titleAlign,s),e.textAlign=m.textAlign(s.titleAlign),e.textBaseline="middle",u=un(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<o;++d)e.fillText(a[d],m.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===o&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,a,o){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:m}=o,y=un(o.bodyFont),v=Ih(this,"left",o),b=a.x(v),S=d<y.lineHeight?(y.lineHeight-d)/2:0,A=e.y+S;if(o.usePointStyle){const M={radius:Math.min(m,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},D=a.leftForLtr(b,m)+m/2,V=A+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Xb(t,M,D,V),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Xb(t,M,D,V)}else{t.lineWidth=Yt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const M=a.leftForLtr(b,m),D=a.leftForLtr(a.xPlus(b,1),m-2),V=gu(u.borderRadius);Object.values(V).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ym(t,{x:M,y:A,w:m,h:d,radius:V}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Ym(t,{x:D,y:A+1,w:m-2,h:d-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(M,A,m,d),t.strokeRect(M,A,m,d),t.fillStyle=u.backgroundColor,t.fillRect(D,A+1,m-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:a}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:m,boxPadding:y}=s,v=un(s.bodyFont);let b=v.lineHeight,S=0;const A=po(s.rtl,this.x,this.width),M=function(x){e.fillText(x,A.x(t.x+S),t.y+b/2),t.y+=b+o},D=A.textAlign(u);let V,B,U,Q,W,rt,N;for(e.textAlign=u,e.textBaseline="middle",e.font=v.string,t.x=Ih(this,D,s),e.fillStyle=s.bodyColor,Wt(this.beforeBody,M),S=h&&D!=="right"?u==="center"?m/2+y:m+2+y:0,Q=0,rt=a.length;Q<rt;++Q){for(V=a[Q],B=this.labelTextColors[Q],e.fillStyle=B,Wt(V.before,M),U=V.lines,h&&U.length&&(this._drawColorBox(e,t,Q,A,s),b=Math.max(v.lineHeight,d)),W=0,N=U.length;W<N;++W)M(U[W]),b=v.lineHeight;Wt(V.after,M)}S=0,b=v.lineHeight,Wt(this.afterBody,M),t.y-=o}drawFooter(t,e,s){const a=this.footer,o=a.length;let u,h;if(o){const d=po(s.rtl,this.x,this.width);for(t.x=Ih(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=un(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(a[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,a){const{xAlign:o,yAlign:u}=this,{x:h,y:d}=t,{width:m,height:y}=s,{topLeft:v,topRight:b,bottomLeft:S,bottomRight:A}=gu(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+v,d),u==="top"&&this.drawCaret(t,e,s,a),e.lineTo(h+m-b,d),e.quadraticCurveTo(h+m,d,h+m,d+b),u==="center"&&o==="right"&&this.drawCaret(t,e,s,a),e.lineTo(h+m,d+y-A),e.quadraticCurveTo(h+m,d+y,h+m-A,d+y),u==="bottom"&&this.drawCaret(t,e,s,a),e.lineTo(h+S,d+y),e.quadraticCurveTo(h,d+y,h,d+y-S),u==="center"&&o==="left"&&this.drawCaret(t,e,s,a),e.lineTo(h,d+v),e.quadraticCurveTo(h,d,h+v,d),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const u=ru[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=CE(this,t),d=Object.assign({},u,this._size),m=DE(e,t,d),y=ME(t,d,m,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=ti(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(o,t,a,e),pS(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),yS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,a=t.map(({datasetIndex:h,index:d})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[d],index:d}}),o=!uf(s,a),u=this._positionChanged(a,e);(o||u)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,s),h=this._positionChanged(u,t),d=e||!uf(u,o)||h;return d&&(this._active=u,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,s);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:a,options:o}=this,u=ru[o.position].call(this,t,e);return u!==!1&&(s!==u.x||a!==u.y)}}Dt(Xm,"positioners",ru);var yN={id:"tooltip",_element:Xm,positioners:ru,afterInit(n,t,e){e&&(n.tooltip=new Xm({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:OS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _N=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function vN(n,t,e,s){const a=n.indexOf(t);if(a===-1)return _N(n,t,e,s);const o=n.lastIndexOf(t);return a!==o?e:a}const bN=(n,t)=>n===null?null:Nn(Math.round(n),0,t);function VE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Wm extends Gu{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:a,label:o}of e)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Je(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:vN(s,t,Qt(e,t),this._addedLabels),bN(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)a.push({value:u});return a}getLabelForValue(t){return VE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Dt(Wm,"id","category"),Dt(Wm,"defaults",{ticks:{callback:VE}});const qf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(qf);function NE(n,t){return n-t}function kE(n,t){if(Je(t))return null;const e=n._adapter,{parser:s,round:a,isoWeekday:o}=n._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),vs(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(a&&(u=a==="week"&&(df(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,a)),+u)}function LE(n,t,e,s){const a=An.length;for(let o=An.indexOf(n);o<a-1;++o){const u=qf[An[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return An[o]}return An[a-1]}function EN(n,t,e,s,a){for(let o=An.length-1;o>=An.indexOf(e);o--){const u=An[o];if(qf[u].common&&n._adapter.diff(a,s,u)>=t-1)return u}return An[e?An.indexOf(e):0]}function TN(n){for(let t=An.indexOf(n)+1,e=An.length;t<e;++t)if(qf[An[t]].common)return An[t]}function PE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:a}=Gp(e,t),o=e[s]>=t?e[s]:e[a];n[o]=!0}}function SN(n,t,e,s){const a=n._adapter,o=+a.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=o;h<=u;h=+a.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function zE(n,t,e){const s=[],a={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],a[h]=u,s.push({value:h,major:!1});return o===0||!e?s:SN(n,s,a,e)}class _f extends Gu{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),a=this._adapter=new HI._date(t.adapters.date);a.init(e),hu(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:kE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:a,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function d(m){!u&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=vs(a)&&!isNaN(a)?a:+e.startOf(Date.now(),s),o=vs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,u=this.max,h=PO(a,o,u);return this._unit=e.unit||(s.autoSkip?LE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):EN(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:TN(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),zE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?s=o:s=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Nn(e,0,u),s=Nn(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,a=this.options,o=a.time,u=o.unit||LE(o.minUnit,e,s,this._getLabelCapacity(e)),h=Qt(a.ticks.stepSize,1),d=u==="week"?o.isoWeekday:!1,m=df(d)||d===!0,y={};let v=e,b,S;if(m&&(v=+t.startOf(v,"isoWeek",d)),v=+t.startOf(v,m?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(b=v,S=0;b<s;b=+t.add(b,h,u),S++)PE(y,b,A);return(b===s||a.bounds==="ticks"||S===1)&&PE(y,b,A),Object.keys(y).sort(NE).map(M=>+M)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,u=e||a[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,a){const o=this.options,u=o.ticks.callback;if(u)return ae(u,[t,e,s],this);const h=o.time.displayFormats,d=this._unit,m=this._majorUnit,y=d&&h[d],v=m&&h[m],b=s[e],S=m&&v&&b&&b.major;return this._adapter.format(t,a||(S?v:y))}generateTickLabels(t){let e,s,a;for(e=0,s=t.length;e<s;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,a=oa(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),u=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*u,h:s*u+h*o}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,a=s[e.unit]||s.millisecond,o=this._tickFormatFunction(t,0,zE(this,[t],this._majorUnit),a),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,s=a.length;e<s;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const a=this.getLabels();for(e=0,s=a.length;e<s;++e)t.push(kE(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UO(t.sort(NE))}}Dt(_f,"id","time"),Dt(_f,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Vh(n,t,e){let s=0,a=n.length-1,o,u,h,d;e?(t>=n[s].pos&&t<=n[a].pos&&({lo:s,hi:a}=qm(n,"pos",t)),{pos:o,time:h}=n[s],{pos:u,time:d}=n[a]):(t>=n[s].time&&t<=n[a].time&&({lo:s,hi:a}=qm(n,"time",t)),{time:o,pos:h}=n[s],{time:u,pos:d}=n[a]);const m=u-o;return m?h+(d-h)*(t-o)/m:h}class UE extends _f{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Vh(e,this.min),this._tableRange=Vh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,a=[],o=[];let u,h,d,m,y;for(u=0,h=t.length;u<h;++u)m=t[u],m>=e&&m<=s&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=a.length;u<h;++u)y=a[u+1],d=a[u-1],m=a[u],Math.round((y+d)/2)!==m&&o.push({time:m,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Vh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Vh(this._table,s*this._tableRange+this._minPos,!0)}}Dt(UE,"id","timeseries"),Dt(UE,"defaults",_f.defaults);const IS="label";function BE(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function AN(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function VS(n,t){n.labels=t}function NS(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:IS;const s=[];n.datasets=t.map(a=>{const o=n.datasets.find(u=>u[e]===a[e]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function wN(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IS;const e={labels:[],datasets:[]};return VS(e,n.labels),NS(e,n.datasets,t),e}function xN(n,t){const{height:e=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:u,data:h,options:d,plugins:m=[],fallbackContent:y,updateMode:v,...b}=n,S=Y.useRef(null),A=Y.useRef(null),M=()=>{S.current&&(A.current=new Ff(S.current,{type:u,data:wN(h,o),options:d&&{...d},plugins:m}),BE(t,A.current))},D=()=>{BE(t,null),A.current&&(A.current.destroy(),A.current=null)};return Y.useEffect(()=>{!a&&A.current&&d&&AN(A.current,d)},[a,d]),Y.useEffect(()=>{!a&&A.current&&VS(A.current.config.data,h.labels)},[a,h.labels]),Y.useEffect(()=>{!a&&A.current&&h.datasets&&NS(A.current.config.data,h.datasets,o)},[a,h.datasets]),Y.useEffect(()=>{A.current&&(a?(D(),setTimeout(M)):A.current.update(v))},[a,d,h.labels,h.datasets,v]),Y.useEffect(()=>{A.current&&(D(),setTimeout(M))},[u]),Y.useEffect(()=>(M(),()=>D()),[]),Zt.createElement("canvas",{ref:S,role:"img",height:e,width:s,...b},y)}const RN=Y.forwardRef(xN);function CN(n,t){return Ff.register(t),Y.forwardRef((e,s)=>Zt.createElement(RN,{...e,ref:s,type:n}))}const DN=CN("pie",$m);Ff.register(uN,yN,oN,su,Wm);const MN=()=>{const n=["Rare","Curious","Bold","Swift","Radiant"],t=["Tiger","Eagle","Whale","Phoenix","Wolf"];return`${n[Math.floor(Math.random()*n.length)]} ${t[Math.floor(Math.random()*t.length)]}`},ON=()=>{const{roomId:n}=$w(),[t,e]=Y.useState([]),[s,a]=Y.useState(0),[o,u]=Y.useState(3),[h,d]=Y.useState(""),[m]=Y.useState(MN()),[y,v]=Y.useState(!1);Y.useEffect(()=>{if(!n)return;v(localStorage.getItem("roomCreator")===n);const M=Um(jh,"feedbacks"),D=MM(M,OM("roomId","==",n)),V=Ob(D,N=>{e(N.docs.map(x=>({id:x.id,...x.data()})))}),B=k1(jh,"rooms",n),U=async()=>{try{await Mb(B,{activeUsers:Ib(1)})}catch(N){console.error("Error incrementing active user count:",N),await kM(B,{activeUsers:1},{merge:!0})}},Q=async()=>{try{await Mb(B,{activeUsers:Ib(-1)})}catch(N){console.error("Error decrementing active user count:",N)}},W=Ob(B,N=>{var x;a(((x=N.data())==null?void 0:x.activeUsers)||0)});U();const rt=()=>{Q()};return window.addEventListener("beforeunload",rt),()=>{Q(),window.removeEventListener("beforeunload",rt),V(),W()}},[n]);const b=async()=>{if(o<1||h.trim()===""){alert("❌ Please provide a rating and a comment.");return}try{await Q1(Um(jh,"feedbacks"),{roomId:n,username:m,rating:o,comment:h,timestamp:PM()}),u(3),d(""),alert(`✅ Feedback submitted successfully! (${m})`)}catch{alert("❌ Error submitting feedback.")}},S=()=>{const M=[0,0,0,0,0];return t.forEach(D=>{D.rating>=1&&D.rating<=5&&M[D.rating-1]++}),{labels:["1⭐","2⭐","3⭐","4⭐","5⭐"],datasets:[{data:M,backgroundColor:["#ff4d4d","#ffcc00","#99cc33","#3399ff","#66cc66"]}]}},A=()=>{if(t.length===0)return"No feedback yet.";const M=t.reduce((D,V)=>D+V.rating,0)/t.length;return M>4?"Great job! Keep up the good work! 😊":M>3?"Good work! A few improvements can make it even better. 👍":"Consider addressing key issues to enhance user experience. 🚀"};return ct.jsx("div",{className:"relative mx-auto w-full max-w-4xl rounded-2xl bg-white/10 !p-6 shadow-2xl",children:ct.jsxs("div",{className:"space-y-6",children:[ct.jsxs("h2",{className:"text-center text-2xl font-semibold",children:["Room: ",n]}),y&&ct.jsxs("span",{className:"absolute top-4 right-4 flex items-center gap-x-4",children:[ct.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:"aspect-square w-6 fill-white",children:ct.jsx("path",{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM609.3 512l-137.8 0c5.4-9.4 8.6-20.3 8.6-32l0-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2l61.4 0C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"})}),ct.jsxs("p",{className:"font-bold",children:["Active Users: ",s-1]})]}),!y&&ct.jsxs(ct.Fragment,{children:[ct.jsx("h3",{className:"text-xl font-semibold",children:"Give Feedback"}),ct.jsxs("p",{className:"text-gray-400",children:["Hey ",ct.jsx("strong",{children:m}),", your feedback matters! 😊"]}),ct.jsxs("label",{className:"block font-medium",children:["Rating: ",o," ⭐"]}),ct.jsx("input",{type:"range",className:"mt-2 w-full cursor-pointer",min:"1",max:"5",step:"1",value:o,onChange:M=>u(Number(M.target.value))}),ct.jsx("input",{type:"text",className:"mt-3 w-full rounded-lg border border-gray-500 bg-gray-800 p-2 text-white focus:ring focus:ring-gray-400",value:h,onChange:M=>d(M.target.value),placeholder:"Your feedback"}),ct.jsx("button",{className:"mt-3 w-full rounded-lg bg-blue-600 px-4 py-2 text-white transition-all hover:bg-blue-700",onClick:b,children:"Submit Feedback"})]}),y&&ct.jsxs(ct.Fragment,{children:[ct.jsx("h3",{className:"text-xl font-semibold",children:"Feedbacks from Users:"}),t.length===0?ct.jsx("p",{className:"text-gray-400",children:"No feedback yet."}):ct.jsx("div",{className:"overflow-x-auto",children:ct.jsxs("table",{className:"w-full border border-gray-700 text-left",children:[ct.jsx("thead",{className:"bg-gray-800",children:ct.jsxs("tr",{children:[ct.jsx("th",{className:"px-4 py-2",children:"Username"}),ct.jsx("th",{className:"px-4 py-2",children:"Rating"}),ct.jsx("th",{className:"px-4 py-2",children:"Comment"}),ct.jsx("th",{className:"px-4 py-2",children:"Timestamp"})]})}),ct.jsx("tbody",{children:t.map(M=>{var D;return ct.jsxs("tr",{className:"border-t border-gray-700",children:[ct.jsx("td",{className:"px-4 py-2",children:M.username}),ct.jsxs("td",{className:"px-4 py-2",children:[M.rating,"⭐"]}),ct.jsx("td",{className:"px-4 py-2",children:M.comment}),ct.jsx("td",{className:"px-4 py-2",children:(D=M.timestamp)!=null&&D.seconds?new Date(M.timestamp.seconds*1e3).toLocaleString():"N/A"})]},M.id)})})]})}),ct.jsx("h4",{className:"mt-6 text-lg font-semibold",children:"Feedback Rating Distribution:"}),ct.jsx("div",{className:"flex justify-center",children:ct.jsx("div",{className:"w-64",children:ct.jsx(DN,{data:S()})})}),ct.jsxs("div",{className:"mt-6",children:[ct.jsx("h5",{className:"text-lg font-semibold",children:"Suggestions based on Feedback:"}),ct.jsx("p",{className:"text-gray-400",children:A()})]})]})]})})};function IN({children:n}){return ct.jsxs("main",{className:"relative flex h-screen items-center justify-center bg-black text-white",children:[ct.jsx("div",{className:"bg-ripples pointer-events-none absolute inset-0"}),n]})}const VN=()=>ct.jsxs(Ox,{children:[ct.jsx(JM,{autoClose:3e3,newestOnTop:!0,theme:"dark"}),ct.jsx(IN,{children:ct.jsxs(lx,{children:[ct.jsx(Kl,{path:"/",element:ct.jsx(Hx,{})}),ct.jsx(Kl,{path:"/create-room",element:ct.jsx(HM,{})}),ct.jsx(Kl,{path:"/join-room",element:ct.jsx(tO,{})}),ct.jsx(Kl,{path:"/room/:roomId",element:ct.jsx(ON,{})})]})})]});yw.createRoot(document.getElementById("root")).render(ct.jsx(Y.StrictMode,{children:ct.jsx(VN,{})}));
